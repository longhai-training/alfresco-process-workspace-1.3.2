!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("moment"),require("@angular/cdk/scrolling"),require("@angular/cdk/overlay"),require("@angular/cdk/portal"),require("@angular/cdk/a11y"),require("@angular/material/icon"),require("@angular/material/snack-bar"),require("@angular/cdk/keycodes"),require("@mat-datetimepicker/moment"),require("@mat-datetimepicker/core"),require("@angular/cdk/layout"),require("@angular/animations"),require("@angular/flex-layout"),require("@angular/router"),require("@angular/platform-browser"),require("minimatch-browser"),require("rxjs/operators"),require("@angular/material/dialog"),require("moment-es6"),require("@angular/material"),require("@alfresco/js-api"),require("@angular/common/http"),require("rxjs"),require("@angular/core/testing"),require("@angular/common"),require("@angular/core"),require("@angular/forms"),require("@ngx-translate/core"),require("@alfresco/adf-extensions")):"function"==typeof define&&define.amd?define("@alfresco/adf-core",["exports","moment","@angular/cdk/scrolling","@angular/cdk/overlay","@angular/cdk/portal","@angular/cdk/a11y","@angular/material/icon","@angular/material/snack-bar","@angular/cdk/keycodes","@mat-datetimepicker/moment","@mat-datetimepicker/core","@angular/cdk/layout","@angular/animations","@angular/flex-layout","@angular/router","@angular/platform-browser","minimatch-browser","rxjs/operators","@angular/material/dialog","moment-es6","@angular/material","@alfresco/js-api","@angular/common/http","rxjs","@angular/core/testing","@angular/common","@angular/core","@angular/forms","@ngx-translate/core","@alfresco/adf-extensions"],t):t((e.alfresco=e.alfresco||{},e.alfresco["adf-core"]={}),e.moment,e.ng.cdk.scrolling,e.ng.cdk.overlay,e.ng.cdk.portal,e.ng.cdk.a11y,e.ng.material.icon,e.ng.material["snack-bar"],e.ng.cdk.keycodes,e["@mat-datetimepicker/moment"],e["@mat-datetimepicker/core"],e.ng.cdk.layout,e["@angular/animations"],e["@angular/flex-layout"],e.ng.router,e.ng.platformBrowser,e.minimatchBrowser,e.rxjs.operators,e.ng.material.dialog,e["moment-es6"],e["@angular/material"],e["@alfresco/js-api"],e.ng.common.http,e.rxjs,e.ng.core.testing,e.ng.common,e.ng.core,e.ng.forms,e["@ngx-translate/core"],e.adfExtensions)}(this,function(e,i,t,a,r,n,o,s,l,c,u,p,d,f,m,h,g,y,v,b,E,I,w,C,T,S,A,O,D,R){"use strict";b=b&&b.hasOwnProperty("default")?b["default"]:b;var x=function(e,t){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function _(e,t){function n(){this.constructor=e}x(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var P=function(){return(P=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function k(t,a,s,l){return new(s||(s=Promise))(function(e,n){function i(e){try{r(l.next(e))}catch(t){n(t)}}function o(e){try{r(l["throw"](e))}catch(t){n(t)}}function r(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(i,o)}r((l=l.apply(t,a||[])).next())})}function L(i,o){var r,a,s,e,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return e={next:t(0),"throw":t(1),"return":t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function n(e){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&e[0]?a["return"]:e[0]?a["throw"]||((s=a["return"])&&s.call(a),0):a.next)&&!(s=s.call(a,e[1])).done)return s;switch(a=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return l.label++,{value:e[1],done:!1};case 5:l.label++,a=e[1],e=[0];continue;case 7:e=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){l=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){l.label=e[1];break}if(6===e[0]&&l.label<s[1]){l.label=s[1],s=e;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(e);break}s[2]&&l.ops.pop(),l.trys.pop();continue}e=o.call(i,l)}catch(t){e=[6,t],a=0}finally{r=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([t,e])}}}function M(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function F(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r["return"])&&n.call(r)}finally{if(o)throw o.error}}return a}function N(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(F(arguments[t]));return e}
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var V=function(){function i(){}return i.getValue=function(e,t){if(!e)return undefined;var n=t.split(".");t="";do{var i=e[t+=n.shift()];i===undefined||"object"!=typeof i&&n.length?n.length?t+=".":e=undefined:(e=i,t="")}while(n.length);return e},i.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={};return e.forEach(function(t){Object.keys(t).forEach(function(e){e in n&&Array.isArray(n[e])?n[e]=n[e].concat(t[e]):e in n&&"object"==typeof n[e]?n[e]=i.merge(n[e],t[e]):n[e]=t[e]})}),n},i}(),U={APP_CONFIG_LANGUAGES_KEY:"languages",PROVIDERS:"providers",OAUTHCONFIG:"oauth2",ECMHOST:"ecmHost",BASESHAREURL:"baseShareUrl",BPMHOST:"bpmHost",IDENTITY_HOST:"identityHost",AUTHTYPE:"authType",CONTEXTROOTECM:"contextRootEcm",CONTEXTROOTBPM:"contextRootBpm",ALFRESCO_REPOSITORY_NAME:"alfrescoRepositoryName",LOG_LEVEL:"logLevel",LOGIN_ROUTE:"loginRoute",DISABLECSRF:"disableCSRF",AUTH_WITH_CREDENTIALS:"auth.withCredentials",APPLICATION:"application",NOTIFY_DURATION:"notificationDefaultDuration"},j={INIT:"init",LOADING:"loading",LOADED:"loaded"},B=function(){function e(e){this.http=e,this.config={application:{name:"Alfresco ADF Application"},ecmHost:"http://{hostname}{:port}/ecm",bpmHost:"http://{hostname}{:port}/bpm",logLevel:"silent",alfrescoRepositoryName:"alfresco-1"},this.status=j.INIT,this.onLoadSubject=new C.Subject,this.onLoad=this.onLoadSubject.asObservable()}return e.prototype.select=function(t){return this.onLoadSubject.pipe(y.map(function(e){return e[t]}),y.distinctUntilChanged())},e.prototype.get=function(e,t){var n=V.getValue(this.config,e);if("string"==typeof n){var i=new Map;i.set("hostname",this.getLocationHostname()),i.set(":port",this.getLocationPort(":")),i.set("port",this.getLocationPort()),i.set("protocol",this.getLocationProtocol()),n=this.formatString(n,i)}return n===undefined?t:n},e.prototype.getLocationProtocol=function(){return location.protocol},e.prototype.getLocationHostname=function(){return location.hostname},e.prototype.getLocationPort=function(e){return void 0===e&&(e=""),location.port?e+location.port:""},e.prototype.load=function(){var e=this;return new Promise(function(i){return k(e,void 0,void 0,function(){var t,n=this;return L(this,function(e){switch(e.label){case 0:return t="app.config.json?v="+Date.now(),this.status!==j.INIT?[3,2]:(this.status=j.LOADING,[4,this.http.get(t).subscribe(function(e){n.status=j.LOADED,n.config=Object.assign({},n.config,e||{}),n.onLoadSubject.next(n.config),i(n.config)},function(){i(n.config)})]);case 1:return e.sent(),[3,3];case 2:this.status===j.LOADED?i(this.config):this.status===j.LOADING&&this.onLoad.subscribe(function(){i(n.config)}),e.label=3;case 3:return[2]}})})})},e.prototype.formatString=function(e,t){var i=e;return t.forEach(function(e,t){var n=new RegExp("{"+t+"}","gm");i=i.replace(n,e)}),i},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:w.HttpClient}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(w.HttpClient))},token:e,providedIn:"root"}),e}(),H=function(){function e(e){this.appConfig=e,this.nodeUpdated=new C.Subject}return e.prototype.getInstance=function(){return this.alfrescoApi},Object.defineProperty(e.prototype,"taskApi",{get:function(){return this.getInstance().activiti.taskApi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentApi",{get:function(){return this.getInstance().content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nodesApi",{get:function(){return this.getInstance().nodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renditionsApi",{get:function(){return this.getInstance().core.renditionsApi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sharedLinksApi",{get:function(){return this.getInstance().core.sharedlinksApi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sitesApi",{get:function(){return this.getInstance().core.sitesApi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"favoritesApi",{get:function(){return this.getInstance().core.favoritesApi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"peopleApi",{get:function(){return this.getInstance().core.peopleApi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"searchApi",{get:function(){return this.getInstance().search.searchApi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"versionsApi",{get:function(){return this.getInstance().core.versionsApi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classesApi",{get:function(){return this.getInstance().core.classesApi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupsApi",{get:function(){return this.getInstance().core.groupsApi},enumerable:!0,configurable:!0}),e.prototype.load=function(){return k(this,void 0,void 0,function(){var t=this;return L(this,function(e){switch(e.label){case 0:return[4,this.appConfig.load().then(function(){t.initAlfrescoApi()})];case 1:return e.sent(),[2]}})})},e.prototype.reset=function(){return k(this,void 0,void 0,function(){return L(this,function(e){return this.initAlfrescoApi(),[2]})})},e.prototype.initAlfrescoApi=function(){var e=Object.assign({},this.appConfig.get(U.OAUTHCONFIG,null));e&&(e.redirectUri=window.location.origin+(e.redirectUri||"/"),e.redirectUriLogout=window.location.origin+(e.redirectUriLogout||"/"));var t=new I.AlfrescoApiConfig({provider:this.appConfig.get(U.PROVIDERS),hostEcm:this.appConfig.get(U.ECMHOST),hostBpm:this.appConfig.get(U.BPMHOST),authType:this.appConfig.get(U.AUTHTYPE,"BASIC"),contextRootBpm:this.appConfig.get(U.CONTEXTROOTBPM),contextRoot:this.appConfig.get(U.CONTEXTROOTECM),disableCsrf:this.appConfig.get(U.DISABLECSRF),withCredentials:this.appConfig.get(U.AUTH_WITH_CREDENTIALS,!1),oauth2:e});this.alfrescoApi&&this.isDifferentConfig(this.lastConfig,t)?(this.lastConfig=t,this.alfrescoApi.configureJsApi(t)):(this.lastConfig=t,this.alfrescoApi=new I.AlfrescoApiCompatibility(t))},e.prototype.isDifferentConfig=function(e,t){return JSON.stringify(e)!==JSON.stringify(t)},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:B}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(B))},token:e,providedIn:"root"}),e}(),G=function(){function e(){}return e.prototype.isEnabled=function(){return!1!==navigator.cookieEnabled&&(document.cookie="test-cookie",0<=document.cookie.indexOf("test-cookie"))},e.prototype.getItem=function(e){var t=new RegExp("(?:"+e+"|;s*"+e+")=(.*?)(?:;|$)","g").exec(document.cookie);return null===t?null:t[1]},e.prototype.setItem=function(e,t,n,i){document.cookie=e+"="+t+(n?";expires="+n.toUTCString():"")+(i?";path="+i:";path=/")},e.prototype.clear=function(){},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=A.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),Y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _(t,e),t.TRACE=5,t.DEBUG=4,t.INFO=3,t.WARN=2,t.ERROR=1,t.SILENT=0,t}(Number),z=[{level:Y.TRACE,name:"TRACE"},{level:Y.DEBUG,name:"DEBUG"},{level:Y.INFO,name:"INFO"},{level:Y.WARN,name:"WARN"},{level:Y.ERROR,name:"ERROR"},{level:Y.SILENT,name:"SILENT"}],q=function(){function e(e){this.appConfig=e,this.onMessage=new C.Subject}return Object.defineProperty(e.prototype,"currentLogLevel",{get:function(){var e=this.appConfig.get(U.LOG_LEVEL);return e?this.getLogLevel(e):Y.TRACE},enumerable:!0,configurable:!0}),e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.currentLogLevel>=Y.ERROR&&(this.messageBus(e,"ERROR"),console.error.apply(console,N([e],t)))},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.currentLogLevel>=Y.DEBUG&&(this.messageBus(e,"DEBUG"),console.debug.apply(console,N([e],t)))},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.currentLogLevel>=Y.INFO&&(this.messageBus(e,"INFO"),console.info.apply(console,N([e],t)))},e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.currentLogLevel>=Y.TRACE&&(this.messageBus(e,"LOG"),console.log.apply(console,N([e],t)))},e.prototype.trace=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.currentLogLevel>=Y.TRACE&&(this.messageBus(e,"TRACE"),console.trace.apply(console,N([e],t)))},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.currentLogLevel>=Y.WARN&&(this.messageBus(e,"WARN"),console.warn.apply(console,N([e],t)))},e.prototype.assert=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];this.currentLogLevel!==Y.SILENT&&(this.messageBus(t,"ASSERT"),console.assert.apply(console,N([e,t],n)))},e.prototype.group=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.currentLogLevel!==Y.SILENT&&console.group.apply(console,N([e],t))},e.prototype.groupEnd=function(){this.currentLogLevel!==Y.SILENT&&console.groupEnd()},e.prototype.getLogLevel=function(t){var e=z.find(function(e){return e.name.toLocaleLowerCase()===t.toLocaleLowerCase()});return e?e.level:5},e.prototype.messageBus=function(e,t){this.onMessage.next({text:e,type:t})},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:B}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(B))},token:e,providedIn:"root"}),e}(),W="ALFRESCO_REMEMBER_ME",$=function(){function e(e,t,n,i){this.appConfig=e,this.alfrescoApi=t,this.cookie=n,this.logService=i,this.redirectUrl=null,this.bearerExcludedUrls=["auth/realms","resources/","assets/"],this.onLogin=new C.Subject,this.onLogout=new C.Subject}return e.prototype.isLoggedIn=function(){return!(!this.isOauth()&&this.cookie.isEnabled()&&!this.isRememberMeSet())&&this.alfrescoApi.getInstance().isLoggedIn()},e.prototype.isOauth=function(){return this.alfrescoApi.getInstance().isOauthConfiguration()},e.prototype.isECMProvider=function(){return this.alfrescoApi.getInstance().isEcmConfiguration()},e.prototype.isBPMProvider=function(){return this.alfrescoApi.getInstance().isBpmConfiguration()},e.prototype.isALLProvider=function(){return this.alfrescoApi.getInstance().isEcmBpmConfiguration()},e.prototype.login=function(e,t,n){var i=this;return void 0===n&&(n=!1),C.from(this.alfrescoApi.getInstance().login(e,t)).pipe(y.map(function(e){return i.saveRememberMeCookie(n),i.onLogin.next(e),{type:i.appConfig.get(U.PROVIDERS),ticket:e}}),y.catchError(function(e){return i.handleError(e)}))},e.prototype.ssoImplicitLogin=function(){this.alfrescoApi.getInstance().implicitLogin()},e.prototype.saveRememberMeCookie=function(e){var t=null;if(e){var n=(t=new Date).getTime()+2592e6;t.setTime(n)}this.cookie.setItem(W,"1",t,null)},e.prototype.isRememberMeSet=function(){return null!==this.cookie.getItem(W)},e.prototype.logout=function(){var t=this;return C.from(this.callApiLogout()).pipe(y.tap(function(e){return t.onLogout.next(e),e}),y.catchError(function(e){return t.handleError(e)}))},e.prototype.callApiLogout=function(){if(this.alfrescoApi.getInstance())return this.alfrescoApi.getInstance().logout()},e.prototype.getTicketEcm=function(){return this.alfrescoApi.getInstance().getTicketEcm()},e.prototype.getTicketBpm=function(){return this.alfrescoApi.getInstance().getTicketBpm()},e.prototype.getTicketEcmBase64=function(){var e=this.alfrescoApi.getInstance().getTicketEcm();return e?"Basic "+btoa(e):null},e.prototype.isEcmLoggedIn=function(){return!(!this.isECMProvider()&&!this.isALLProvider())&&(!(!this.isOauth()&&this.cookie.isEnabled()&&!this.isRememberMeSet())&&this.alfrescoApi.getInstance().isEcmLoggedIn())},e.prototype.isBpmLoggedIn=function(){return!(!this.isBPMProvider()&&!this.isALLProvider())&&(!(!this.isOauth()&&this.cookie.isEnabled()&&!this.isRememberMeSet())&&this.alfrescoApi.getInstance().isBpmLoggedIn())},e.prototype.getEcmUsername=function(){return this.alfrescoApi.getInstance().getEcmUsername()},e.prototype.getBpmUsername=function(){return this.alfrescoApi.getInstance().getBpmUsername()},e.prototype.setRedirect=function(e){this.redirectUrl=e},e.prototype.getRedirect=function(){var e=this.appConfig.get(U.PROVIDERS);return this.hasValidRedirection(e)?this.redirectUrl.url:null},e.prototype.getBpmLoggedUser=function(){return C.from(this.alfrescoApi.getInstance().activiti.profileApi.getProfile())},e.prototype.hasValidRedirection=function(e){return this.redirectUrl&&(this.redirectUrl.provider===e||this.hasSelectedProviderAll(e))},e.prototype.hasSelectedProviderAll=function(e){return this.redirectUrl&&("ALL"===this.redirectUrl.provider||"ALL"===e)},e.prototype.handleError=function(e){return this.logService.error("Error when logging in",e),C.throwError(e||"Server error")},e.prototype.getBearerExcludedUrls=function(){return this.bearerExcludedUrls},e.prototype.getToken=function(){return localStorage.getItem("access_token")},e.prototype.addTokenToHeader=function(o){var r=this;return new C.Observable(function(e){var t=o;t||(t=new w.HttpHeaders);try{var n=r.getToken();t=t.set("Authorization","bearer "+n),e.next(t),e.complete()}catch(i){e.error(i)}})},e.prototype.isSSODiscoveryConfigured=function(){return!!this.alfrescoApi.getInstance().storage.getItem("discovery")},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:B},{type:H},{type:G},{type:q}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(B),A.inject(H),A.inject(G),A.inject(q))},token:e,providedIn:"root"}),e}(),X=function Va(e){e&&(this.edition=e.edition||null,this.majorVersion=e.majorVersion||null,this.revisionVersion=e.revisionVersion||null,this.minorVersion=e.minorVersion||null,this.type=e.type||null)},K=function Ua(e){e&&(this.major=e.major||null,this.minor=e.minor||null,this.patch=e.patch||null,this.hotfix=e.hotfix||null,this.schema=e.schema||null,this.label=e.label||null,this.display=e.display||null)},J=function ja(e){e&&(this.issuedAt=e.issuedAt||null,this.expiresAt=e.expiresAt||null,this.remainingDays=e.remainingDays||null,this.holder=e.holder||null,this.mode=e.mode||null,this.isClusterEnabled=!!e.isClusterEnabled,this.isCryptodocEnabled=!!e.isCryptodocEnabled)},Q=function Ba(e){e&&(this.isReadOnly=!!e.isReadOnly,this.isAuditEnabled=!!e.isAuditEnabled,this.isQuickShareEnabled=!!e.isQuickShareEnabled,this.isThumbnailGenerationEnabled=!!e.isThumbnailGenerationEnabled)},Z=function Ha(e){e&&(this.id=e.id||null,this.title=e.title||null,this.description=e.description||null,this.version=e.version||null,this.installDate=e.installDate||null,this.installState=e.installState||null,this.versionMin=e.versionMin||null,this.versionMax=e.versionMax||null)},ee=function Ga(e){var t=this;this.modules=[],e&&e.entry&&e.entry.repository&&(this.edition=e.entry.repository.edition||null,this.version=new K(e.entry.repository.version),this.license=new J(e.entry.repository.license),this.status=new Q(e.entry.repository.status),e.entry.repository.modules&&e.entry.repository.modules.forEach(function(e){t.modules.push(new Z(e))}))},te=function(){function e(e){this.apiService=e}return e.prototype.getEcmProductInfo=function(){return C.from(this.apiService.getInstance().discovery.discoveryApi.getRepositoryInformation()).pipe(y.map(function(e){return new ee(e)}),y.catchError(function(e){return C.throwError(e)}))},e.prototype.getBpmProductInfo=function(){return C.from(this.apiService.getInstance().activiti.aboutApi.getAppVersion()).pipe(y.map(function(e){return new X(e)}),y.catchError(function(e){return C.throwError(e)}))},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:H}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(H))},token:e,providedIn:"root"}),e}(),ne=function(){function a(){}return a.flatten=function(e){var o=e.createReader(),r=[];return new Promise(function(t){var n=[];!function i(){o.readEntries(function(e){e.length?(n.push(Promise.all(e.map(function(n){return n.isFile?new Promise(function(t){n.file(function(e){r.push({entry:n,file:e,relativeFolder:n.fullPath.replace(/\/[^\/]*$/,"")}),t()})}):a.flatten(n).then(function(e){r.push.apply(r,N(e))})}))),i()):Promise.all(n).then(function(){return t(r)})})}()})},a.toFileArray=function(e){var t=[];if(e&&0<e.length)for(var n=0;n<e.length;n++)t.push(e[n]);return t},a}(),ie={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMMM Y",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM Y"}},oe=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.localeData=b.localeData(),e}return _(e,n),e.prototype.getYear=function(e){return e.year()},e.prototype.getMonth=function(e){return e.month()},e.prototype.getDate=function(e){return e.date()},e.prototype.getDayOfWeek=function(e){return e.day()},e.prototype.getMonthNames=function(e){switch(e){case"long":return this.localeData.months();case"short":return this.localeData.monthsShort();case"narrow":return this.localeData.monthsShort().map(function(e){return e[0]});default:return}},e.prototype.getDateNames=function(){for(var e=[],t=1;t<=31;t++)e.push(String(t));return e},e.prototype.getDayOfWeekNames=function(e){switch(e){case"long":return this.localeData.weekdays();case"short":case"narrow":return this.localeData.weekdaysShort();default:return}},e.prototype.getYearName=function(e){return String(e.year())},e.prototype.getFirstDayOfWeek=function(){return this.localeData.firstDayOfWeek()},e.prototype.getNumDaysInMonth=function(e){return e.daysInMonth()},e.prototype.clone=function(e){var t=this.locale||"en";return e.clone().locale(t)},e.prototype.createDate=function(e,t,n){return b([e,t,n])},e.prototype.today=function(){var e=this.locale||"en";return b().locale(e)},e.prototype.parse=function(e,t){var n=this.locale||"en";if(e&&"string"==typeof e){var i=b(e,t,n,!0);if(i.isValid()||(i=b(e,this.overrideDisplayFormat,n,!0)),i.isValid()&&2001===i.year()&&-1===e.indexOf("2001")){var o=(new Date).getFullYear();i.set("year",o),i.isAfter(b())&&i.set("year",o-1)}return i}return e?b(e).locale(n):null},e.prototype.format=function(e,t){return e=this.clone(e),t=this.overrideDisplayFormat?this.overrideDisplayFormat:t,e&&e.format?e.format(t):""},e.prototype.addCalendarYears=function(e,t){return e.clone().add(t,"y")},e.prototype.addCalendarMonths=function(e,t){return e.clone().add(t,"M")},e.prototype.addCalendarDays=function(e,t){return e.clone().add(t,"d")},e.prototype.getISODateString=function(e){return e.toISOString()},e.prototype.setLocale=function(e){n.prototype.setLocale.call(this,e),this.localeData=b.localeData(e)},e.prototype.compareDate=function(e,t){return e.diff(t,"seconds",!0)},e.prototype.sameDate=function(e,t){return null==e?null==t:i.isMoment(e)?e.isSame(t):n.prototype.sameDate.call(this,e,t)},e.prototype.clampDate=function(e,t,n){return t&&e.isBefore(t)?t:n&&e.isAfter(n)?n:e},e.prototype.isDateInstance=function(e){var t=!1;return e&&(t=e._isAMomentObject),t},e.prototype.isValid=function(e){return e.isValid()},e.prototype.toIso8601=function(e){return this.clone(e).format()},e.prototype.fromIso8601=function(e){var t=this.locale||"en",n=b(e,b.ISO_8601).locale(t);return this.isValid(n)?n:null},e.prototype.invalid=function(){return b.invalid()},e}(E.DateAdapter),re=function(){function e(e,t){if(void 0===t&&(t=!1),this.obj=e,this.isSelected=t,!e)throw new Error("Object source not found")}return e.prototype.getValue=function(e){return V.getValue(this.obj,e)},e.prototype.hasValue=function(e){return this.getValue(e)!==undefined},e.prototype.imageErrorResolver=function(e){return""},e}(),ae=function Ya(e){this.key=e.key,this.type=e.type||"text",this.format=e.format,this.sortable=e.sortable,this.title=e.title,this.srTitle=e.srTitle,this.cssClass=e.cssClass,this.template=e.template,this.copyContent=e.copyContent},se=function za(e,t){this.key=e,this.direction=t},le=function(){function e(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=[]),this._rows=[],this._columns=[],e&&0<e.length&&(this._rows=e.map(function(e){return new re(e)})),t&&0<t.length){this._columns=t.map(function(e){return new ae(e)});var n=this._columns.filter(function(e){return e.sortable});0<n.length&&this.sort(n[0].key,"asc")}this.rowsChanged=new C.Subject}return e.generateSchema=function(e){var t=[];if(e&&e.length){var n=e[0];if("object"==typeof n)for(var i in n)n.hasOwnProperty(i)&&t.push({type:"text",key:i,title:i,sortable:!1})}return t},e.prototype.getRows=function(){return this._rows},e.prototype.setRows=function(e){this._rows=e||[],this.sort(),this.rowsChanged.next(this._rows)},e.prototype.getColumns=function(){return this._columns},e.prototype.setColumns=function(e){this._columns=e||[]},e.prototype.getValue=function(e,t){if(!e)throw new Error("Row not found");if(!t)throw new Error("Column not found");var n=e.getValue(t.key);return"icon"!==t.type?n:e.getValue(t.key)},e.prototype.getSorting=function(){return this._sorting},e.prototype.setSorting=function(o){(this._sorting=o)&&o.key&&this._rows.sort(function(e,t){var n=e.getValue(o.key);n=n?n instanceof Date?n.valueOf().toString():n.toString():"";var i=t.getValue(o.key);return i=i?i instanceof Date?i.valueOf().toString():i.toString():"","asc"===o.direction?n.localeCompare(i):i.localeCompare(n)})},e.prototype.sort=function(e,t){var n=this._sorting||new se;e&&(n.key=e,n.direction=t||"asc"),this.setSorting(n)},e}(),ce=function(){function e(e,t,n,i,o){this.http=e,this.appConfig=t,this.authService=n,this.discovery=i,this.extensionColumns=["$id","$name","$version","$vendor","$license","$runtime","$description"],this.githubUrlCommitAlpha="https://github.com/Alfresco/alfresco-ng2-components/commits/",this.showExtensions=!0,this.regexp="^(@alfresco)",this.ecmHost="",this.bpmHost="",this.ecmVersion=null,this.bpmVersion=null,this.extensions$=o.references$}return e.prototype.ngOnInit=function(){var i=this;this.authService.isEcmLoggedIn()&&this.discovery.getEcmProductInfo().subscribe(function(e){i.ecmVersion=e,i.modules=new le(i.ecmVersion.modules,[{type:"text",key:"id",title:"ABOUT.TABLE_HEADERS.MODULES.ID",sortable:!0},{type:"text",key:"title",title:"ABOUT.TABLE_HEADERS.MODULES.TITLE",sortable:!0},{type:"text",key:"version",title:"ABOUT.TABLE_HEADERS.MODULES.DESCRIPTION",sortable:!0},{type:"text",key:"installDate",title:"ABOUT.TABLE_HEADERS.MODULES.INSTALL_DATE",sortable:!0},{type:"text",key:"installState",title:"ABOUT.TABLE_HEADERS.MODULES.INSTALL_STATE",sortable:!0},{type:"text",key:"versionMin",title:"ABOUT.TABLE_HEADERS.MODULES.VERSION_MIN",sortable:!0},{type:"text",key:"versionMax",title:"ABOUT.TABLE_HEADERS.MODULES.VERSION_MAX",sortable:!0}]),i.status=new le([i.ecmVersion.status],[{type:"text",key:"isReadOnly",title:"ABOUT.TABLE_HEADERS.STATUS.READ_ONLY",sortable:!0},{type:"text",key:"isAuditEnabled",title:"ABOUT.TABLE_HEADERS.STATUS.AUDIT_ENABLED",sortable:!0},{type:"text",key:"isQuickShareEnabled",title:"ABOUT.TABLE_HEADERS.STATUS.QUICK_SHARE_ENABLED",sortable:!0},{type:"text",key:"isThumbnailGenerationEnabled",title:"ABOUT.TABLE_HEADERS.STATUS.THUMBNAIL_ENABLED",sortable:!0}]),i.license=new le([i.ecmVersion.license],[{type:"text",key:"issuedAt",title:"ABOUT.TABLE_HEADERS.LICENSE.ISSUES_AT",sortable:!0},{type:"text",key:"expiresAt",title:"ABOUT.TABLE_HEADERS.LICENSE.EXPIRES_AT",sortable:!0},{type:"text",key:"remainingDays",title:"ABOUT.TABLE_HEADERS.LICENSE.REMAINING_DAYS",sortable:!0},{type:"text",key:"holder",title:"ABOUT.TABLE_HEADERS.LICENSE.HOLDER",sortable:!0},{type:"text",key:"mode",title:"ABOUT.TABLE_HEADERS.LICENSE.MODE",sortable:!0},{type:"text",key:"isClusterEnabled",title:"ABOUT.TABLE_HEADERS.LICENSE.CLUSTER_ENABLED",sortable:!0},{type:"text",key:"isCryptodocEnabled",title:"ABOUT.TABLE_HEADERS.LICENSE.CRYPTODOC_ENABLED",sortable:!0}])}),this.authService.isBpmLoggedIn()&&this.discovery.getBpmProductInfo().subscribe(function(e){i.bpmVersion=e}),this.http.get("/versions.json?"+new Date).subscribe(function(t){var e=Object.keys(t.dependencies).filter(function(e){return new RegExp(i.regexp).test(e)}),n=[];e.forEach(function(e){n.push({name:e,version:t.dependencies[e].version||t.dependencies[e].required.version})}),i.gitHubLinkCreation(n),i.data=new le(n,[{type:"text",key:"name",title:"Name",sortable:!0},{type:"text",key:"version",title:"Version",sortable:!0}])}),this.ecmHost=this.appConfig.get(U.ECMHOST),this.bpmHost=this.appConfig.get(U.BPMHOST)},e.prototype.gitHubLinkCreation=function(e){var t=e.find(function(e){return"@alfresco/adf-core"===e.name});if(t){var n=t.version.split("-");1<n.length?this.githubUrlCommitAlpha=this.githubUrlCommitAlpha+n[1]:this.githubUrlCommitAlpha=this.githubUrlCommitAlpha+t.version}},e.decorators=[{type:A.Component,args:[{selector:"adf-about",template:'<div class="adf-about-container">\n    <div class="adf-extension-details-container" *ngIf="showExtensions">\n        <h3>{{ \'ABOUT.TITLE\' | translate }}</h3>\n        <mat-table [dataSource]="extensions$ | async">\n            \x3c!-- $id Column --\x3e\n            <ng-container matColumnDef="$id">\n                <mat-header-cell *matHeaderCellDef>{{ \'ABOUT.TABLE_HEADERS.ID\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let element">{{element.$id}}</mat-cell>\n            </ng-container>\n\n            \x3c!-- $name Column --\x3e\n            <ng-container matColumnDef="$name">\n                <mat-header-cell *matHeaderCellDef>{{ \'ABOUT.TABLE_HEADERS.NAME\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let element">{{element.$name}}</mat-cell>\n            </ng-container>\n\n            \x3c!-- $version Column --\x3e\n            <ng-container matColumnDef="$version">\n                <mat-header-cell *matHeaderCellDef>{{ \'ABOUT.TABLE_HEADERS.VERSION\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let element">{{element.$version}}</mat-cell>\n            </ng-container>\n\n            \x3c!-- $vendor Column --\x3e\n            <ng-container matColumnDef="$vendor">\n                <mat-header-cell *matHeaderCellDef>{{ \'ABOUT.TABLE_HEADERS.VENDOR\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let element">{{element.$vendor}}</mat-cell>\n            </ng-container>\n\n            \x3c!-- $license Column --\x3e\n            <ng-container matColumnDef="$license">\n                <mat-header-cell *matHeaderCellDef>{{ \'ABOUT.TABLE_HEADERS.LICENSE\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let element">{{element.$license}}</mat-cell>\n            </ng-container>\n\n            \x3c!-- $runtime Column --\x3e\n            <ng-container matColumnDef="$runtime">\n                <mat-header-cell *matHeaderCellDef>{{ \'ABOUT.TABLE_HEADERS.RUNTIME\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let element">{{element.$runtime}}</mat-cell>\n            </ng-container>\n\n            \x3c!-- $description Column --\x3e\n            <ng-container matColumnDef="$description">\n                <mat-header-cell *matHeaderCellDef>{{ \'ABOUT.TABLE_HEADERS.DESCRIPTION\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let element">{{element.$description}}</mat-cell>\n            </ng-container>\n\n            <mat-header-row *matHeaderRowDef="extensionColumns"></mat-header-row>\n            <mat-row *matRowDef="let row; columns: extensionColumns;"></mat-row>\n        </mat-table>\n    </div>\n    <h3>{{ \'ABOUT.SERVER_SETTINGS.TITLE\' | translate }}</h3>\n    <mat-list>\n        <small>{{ \'ABOUT.SERVER_SETTINGS.DESCRIPTION\' | translate }}</small>\n        <mat-list-item>\n            <h4 matLine> {{ \'ABOUT.SERVER_SETTINGS.PROCESS_SERVICE_HOST\' | translate: { value: bpmHost } }}</h4>\n        </mat-list-item>\n        <mat-divider></mat-divider>\n        <mat-list-item>\n            <h4 matLine>{{ \'ABOUT.SERVER_SETTINGS.PROCESS_SERVICE_HOST\' | translate: { value: ecmHost } }}</h4>\n        </mat-list-item>\n    </mat-list>\n\n    <h3>{{ \'ABOUT.VERSIONS.TITLE\' | translate }}</h3>\n    <div *ngIf="bpmVersion">\n        <h3>{{ \'ABOUT.VERSIONS.PROCESS_SERVICE\' | translate }}</h3>\n        <div> {{ \'ABOUT.VERSIONS.divS.EDITION\' | translate }} </div> {{ bpmVersion.edition }}\n        <p></p>\n        <div> {{ \'ABOUT.VERSIONS.divS.VERSION\' | translate }} </div> {{ bpmVersion.majorVersion }}.{{\n        bpmVersion.minorVersion }}.{{ bpmVersion.revisionVersion }}\n    </div>\n    <div *ngIf="ecmVersion">\n        <h3>{{ \'ABOUT.VERSIONS.CONTENT_SERVICE\' | translate }}</h3>\n        <div>{{ \'ABOUT.VERSIONS.divS.EDITION\' | translate }}</div> {{ ecmVersion.edition }}\n        <p></p>\n        <div> {{ \'ABOUT.VERSIONS.divS.VERSION\' | translate }} </div> {{ ecmVersion.version.display }}\n        <p></p>\n        <h4>{{ \'ABOUT.VERSIONS.divS.LICENSE\' | translate }}</h4>\n        <adf-datatable [data]="license"></adf-datatable>\n\n        <h4> {{ \'ABOUT.VERSIONS.divS.STATUS\' | translate }}</h4>\n        <adf-datatable [data]="status"></adf-datatable>\n\n        <h4>{{ \'ABOUT.VERSIONS.divS.MODULES\' | translate }}</h4>\n\n        <adf-datatable [data]="modules"></adf-datatable>\n    </div>\n\n    <div *ngIf="githubUrlCommitAlpha">\n        <h3>{{ \'ABOUT.SOURCE_CODE.TITLE\' | translate }}</h3>\n        <small>{{ \'ABOUT.SOURCE_CODE.DESCRIPTION\' | translate }}</small>\n        <div>\n            <a [href]="githubUrlCommitAlpha">{{githubUrlCommitAlpha}}</a>\n        </div>\n    </div>\n\n    <h3>{{ \'ABOUT.PACKAGES.TITLE\' | translate }}</h3>\n    <small>{{ \'ABOUT.PACKAGES.DESCRIPTION\' | translate }}</small>\n    <adf-datatable [data]="data"></adf-datatable>\n</div>\n',encapsulation:A.ViewEncapsulation.None,styles:[".adf-about-container{padding:10px}.adf-table-version{width:60%;border:0;border-spacing:0;text-align:center}"]}]}],e.ctorParameters=function(){return[{type:w.HttpClient},{type:B},{type:$},{type:te},{type:R.AppExtensionService}]},e.propDecorators={githubUrlCommitAlpha:[{type:A.Input}],showExtensions:[{type:A.Input}],regexp:[{type:A.Input}]},e}();function ue(){return[E.MatAutocompleteModule,E.MatButtonModule,E.MatCardModule,E.MatCheckboxModule,E.MatChipsModule,E.MatDatepickerModule,E.MatDialogModule,E.MatGridListModule,E.MatIconModule,E.MatInputModule,E.MatListModule,E.MatNativeDateModule,E.MatOptionModule,E.MatProgressSpinnerModule,E.MatRadioModule,E.MatRippleModule,E.MatSelectModule,E.MatSlideToggleModule,E.MatTableModule,E.MatTabsModule,E.MatMenuModule,E.MatProgressBarModule,E.MatSidenavModule,E.MatSnackBarModule,E.MatToolbarModule,E.MatTooltipModule,u.MatDatetimepickerModule,u.MatNativeDatetimeModule,E.MatExpansionModule]}var pe=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:ue(),exports:ue()}]}],e}(),de=function(){function e(){this.show=new C.Subject}return e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=A.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),fe=function(){function e(e,t,n,i){this.viewport=e,this.overlayContainer=t,this.contextMenuService=n,this.renderer=i,this.links=[],this.mouseLocation={left:0,top:0},this.menuElement=null,this.subscriptions=[],this.showIcons=!1}return e.prototype.onShowContextMenu=function(e){e&&e.preventDefault()},e.prototype.onResize=function(e){this.mdMenuElement&&this.updatePosition()},e.prototype.ngOnInit=function(){var t=this;this.subscriptions.push(this.contextMenuService.show.subscribe(function(e){return t.showMenu(e.event,e.obj)}),this.menuTrigger.onMenuOpen.subscribe(function(){var e=t.overlayContainer.getContainerElement();e&&(t.contextMenuListenerFn=t.renderer.listen(e,"contextmenu",function(e){e.preventDefault()})),t.menuElement=t.getContextMenuElement()}),this.menuTrigger.onMenuClose.subscribe(function(){t.menuElement=null,t.contextMenuListenerFn&&t.contextMenuListenerFn()}))},e.prototype.ngOnDestroy=function(){this.contextMenuListenerFn&&this.contextMenuListenerFn(),this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions=[],this.menuElement=null},e.prototype.onMenuItemClick=function(e,t){if(t&&t.model&&t.model.disabled)return e.preventDefault(),void e.stopImmediatePropagation();t.subject.next(t)},e.prototype.showMenu=function(e,t){this.links=t,e&&(this.mouseLocation={left:e.clientX,top:e.clientY}),this.menuTrigger.openMenu(),this.mdMenuElement&&this.updatePosition()},Object.defineProperty(e.prototype,"mdMenuElement",{get:function(){return this.menuElement},enumerable:!0,configurable:!0}),e.prototype.locationCss=function(){return{left:this.mouseLocation.left+"px",top:this.mouseLocation.top+"px"}},e.prototype.updatePosition=function(){var e=this;setTimeout(function(){e.mdMenuElement.parentElement&&(e.mdMenuElement.clientWidth+e.mouseLocation.left>e.viewport.getViewportRect().width?(e.menuTrigger.menu.xPosition="before",e.mdMenuElement.parentElement.style.left=e.mouseLocation.left-e.mdMenuElement.clientWidth+"px"):(e.menuTrigger.menu.xPosition="after",e.mdMenuElement.parentElement.style.left=e.locationCss().left),e.mdMenuElement.clientHeight+e.mouseLocation.top>e.viewport.getViewportRect().height?(e.menuTrigger.menu.yPosition="above",e.mdMenuElement.parentElement.style.top=e.mouseLocation.top-e.mdMenuElement.clientHeight+"px"):(e.menuTrigger.menu.yPosition="below",e.mdMenuElement.parentElement.style.top=e.locationCss().top))},0)},e.prototype.getContextMenuElement=function(){return this.overlayContainer.getContainerElement().querySelector(".context-menu")},e.decorators=[{type:A.Component,args:[{selector:"adf-context-menu-holder",template:'\n        <button mat-button [matMenuTriggerFor]="contextMenu"></button>\n        <mat-menu #contextMenu="matMenu" class="context-menu">\n            <ng-container *ngFor="let link of links">\n                <button *ngIf="link.model?.visible"\n                        [attr.data-automation-id]="\'context-\'+((link.title || link.model?.title) | translate)"\n                        mat-menu-item\n                        [disabled]="link.model?.disabled"\n                        (click)="onMenuItemClick($event, link)">\n                    <mat-icon *ngIf="showIcons && link.model?.icon">{{ link.model.icon }}</mat-icon>\n                    {{ (link.title || link.model?.title) | translate }}\n                </button>\n            </ng-container>\n        </mat-menu>\n    '}]}],e.ctorParameters=function(){return[{type:t.ViewportRuler},{type:a.OverlayContainer},{type:de},{type:A.Renderer2}]},e.propDecorators={showIcons:[{type:A.Input}],menuTrigger:[{type:A.ViewChild,args:[E.MatMenuTrigger]}],onShowContextMenu:[{type:A.HostListener,args:["contextmenu",["$event"]]}],onResize:[{type:A.HostListener,args:["window:resize",["$event"]]}]},e}(),me=function(){function e(e){this.overlayRef=e}return e.prototype.close=function(){this.overlayRef.dispose()},e}(),he=new A.InjectionToken("CONTEXT_MENU_DATA"),ge=[d.state("void",d.style({opacity:0,transform:"scale(0.01, 0.01)"})),d.transition("void => *",d.sequence([d.query(".mat-menu-content",d.style({opacity:0})),d.animate("100ms linear",d.style({opacity:1,transform:"scale(1, 0.5)"})),d.group([d.query(".mat-menu-content",d.animate("400ms cubic-bezier(0.55, 0, 0.55, 0.2)",d.style({opacity:1}))),d.animate("300ms cubic-bezier(0.25, 0.8, 0.25, 1)",d.style({transform:"scale(1, 1)"}))])])),d.transition("* => void",d.animate("150ms 50ms linear",d.style({opacity:0})))],ye=function(){function e(e,t){this.contextMenuOverlayRef=e,this.data=t,this.links=this.data}return e.prototype.handleKeydownEscape=function(e){e&&this.contextMenuOverlayRef.close()},e.prototype.handleKeydownEvent=function(e){if(e){var t=e.keyCode;t!==l.UP_ARROW&&t!==l.DOWN_ARROW||this.keyManager.onKeydown(e)}},e.prototype.onMenuItemClick=function(e,t){if(t&&t.model&&t.model.disabled)return e.preventDefault(),void e.stopImmediatePropagation();t.subject.next(t),this.contextMenuOverlayRef.close()},e.prototype.ngAfterViewInit=function(){this.keyManager=new n.FocusKeyManager(this.items),this.keyManager.setFirstItemActive()},e.decorators=[{type:A.Component,args:[{selector:"adf-context-menu",template:'\n        <div mat-menu class="mat-menu-panel" @panelAnimation>\n            <div id="adf-context-menu-content" class="mat-menu-content">\n                <ng-container *ngFor="let link of links">\n                    <button *ngIf="link.model?.visible"\n                            [attr.data-automation-id]="\'context-\'+((link.title || link.model?.title) | translate)"\n                            mat-menu-item\n                            [disabled]="link.model?.disabled"\n                            (click)="onMenuItemClick($event, link)">\n                        <mat-icon *ngIf="link.model?.icon">{{ link.model.icon }}</mat-icon>\n                        <span>{{ (link.title || link.model?.title) | translate }}</span>\n                    </button>\n                </ng-container>\n            </div>\n        </div>\n    ',host:{role:"menu","class":"adf-context-menu"},encapsulation:A.ViewEncapsulation.None,animations:[d.trigger("panelAnimation",ge)]}]}],e.ctorParameters=function(){return[{type:me,decorators:[{type:A.Inject,args:[me]}]},{type:undefined,decorators:[{type:A.Optional},{type:A.Inject,args:[he]}]}]},e.propDecorators={items:[{type:A.ViewChildren,args:[E.MatMenuItem]}],handleKeydownEscape:[{type:A.HostListener,args:["document:keydown.Escape",["$event"]]}],handleKeydownEvent:[{type:A.HostListener,args:["document:keydown",["$event"]]}]},e}(),ve={panelClass:"cdk-overlay-pane",backdropClass:"cdk-overlay-transparent-backdrop",hasBackdrop:!0},be=function(){function e(e,t){this.injector=e,this.overlay=t}return e.prototype.open=function(e){var t=P({},ve,e),n=this.createOverlay(t),i=new me(n);return this.attachDialogContainer(n,e,i),n.backdropClick().subscribe(function(){return i.close()}),t.hasBackdrop&&n._backdropElement.addEventListener("contextmenu",function(e){e.preventDefault(),n._backdropClick.next(null)},!0),i},e.prototype.createOverlay=function(e){var t=this.getOverlayConfig(e);return this.overlay.create(t)},e.prototype.attachDialogContainer=function(e,t,n){var i=this.createInjector(t,n),o=new r.ComponentPortal(ye,null,i);return e.attach(o).instance},e.prototype.createInjector=function(e,t){var n=new WeakMap;return n.set(me,t),n.set(he,e.data),new r.PortalInjector(this.injector,n)},e.prototype.getOverlayConfig=function(e){var t=e.source,n=t.clientY,i=t.clientX,o={getBoundingClientRect:function(){return{bottom:n,height:0,left:i,right:i,top:n,width:0}}},r=this.overlay.position().connectedTo(new A.ElementRef(o),{originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}).withFallbackPosition({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}).withFallbackPosition({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}).withFallbackPosition({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}).withFallbackPosition({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}).withFallbackPosition({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"});return new a.OverlayConfig({hasBackdrop:e.hasBackdrop,backdropClass:e.backdropClass,panelClass:e.panelClass,scrollStrategy:this.overlay.scrollStrategies.close(),positionStrategy:r})},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:A.Injector},{type:a.Overlay}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(A.INJECTOR),A.inject(a.Overlay))},token:e,providedIn:"root"}),e}(),Ee=function(){function e(e){this.contextMenuService=e,this.enabled=!1}return e.prototype.onShowContextMenu=function(e){this.enabled&&(e&&e.preventDefault(),this.links&&0<this.links.length&&this.contextMenuService.open({source:e,data:this.links}))},e.decorators=[{type:A.Directive,args:[{selector:"[adf-context-menu], [context-menu]"}]}],e.ctorParameters=function(){return[{type:be}]},e.propDecorators={links:[{type:A.Input,args:["adf-context-menu"]}],enabled:[{type:A.Input,args:["adf-context-menu-enabled"]}],onShowContextMenu:[{type:A.HostListener,args:["contextmenu",["$event"]]}]},e}(),Ie=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[S.CommonModule,pe,D.TranslateModule.forChild()],declarations:[fe,Ee,ye],exports:[fe,Ee],entryComponents:[ye]}]}],e}(),we=function(){function e(e){this.appConfigService=e,this.memoryStore={},this.useLocalStorage=!1,this.useLocalStorage=this.storageAvailable("localStorage"),this.appConfigService.onLoad.subscribe(this.getAppPrefix.bind(this))}return e.prototype.getItem=function(e){return this.useLocalStorage?localStorage.getItem(this.storagePrefix+e):this.memoryStore.hasOwnProperty(this.storagePrefix+e)?this.memoryStore[this.storagePrefix+e]:null},e.prototype.setItem=function(e,t){this.useLocalStorage?localStorage.setItem(this.storagePrefix+e,t):this.memoryStore[this.storagePrefix+e]=t.toString()},e.prototype.clear=function(){this.useLocalStorage?localStorage.clear():this.memoryStore={}},e.prototype.removeItem=function(e){this.useLocalStorage?localStorage.removeItem(this.storagePrefix+e):delete this.memoryStore[this.storagePrefix+e]},e.prototype.hasItem=function(e){return this.useLocalStorage?!!localStorage.getItem(this.storagePrefix+e):this.memoryStore.hasOwnProperty(e)},e.prototype.storageAvailable=function(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n,n),!0}catch(i){return!1}},e.prototype.getAppPrefix=function(){var e=this.appConfigService.get("application");e&&e.storagePrefix?this.storagePrefix=e.storagePrefix+"_":this.storagePrefix=""},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:B}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(B))},token:e,providedIn:"root"}),e}(),Ce={PaginationSize:"paginationSize",Locale:"locale",SupportedPageSizes:"supportedPageSizes",ExpandedSideNavStatus:"expandedSidenav"},Te=function(){function e(e,t,n){this.translate=e,this.appConfig=t,this.storage=n,this.defaults={paginationSize:25,supportedPageSizes:[5,10,15,20],locale:"en",expandedSidenav:!0},this.userPreferenceStatus=this.defaults,this.appConfig.onLoad.subscribe(this.initUserPreferenceStatus.bind(this)),this.onChangeSubject=new C.BehaviorSubject(this.userPreferenceStatus),this.onChange=this.onChangeSubject.asObservable()}return e.prototype.initUserPreferenceStatus=function(){this.initUserLanguage(),this.set(Ce.PaginationSize,this.paginationSize),this.set(Ce.SupportedPageSizes,JSON.stringify(this.supportedPageSizes))},e.prototype.initUserLanguage=function(){this.locale||this.appConfig.get(Ce.Locale)?this.set(Ce.Locale,this.locale||this.getDefaultLocale()):this.setWithoutStore(Ce.Locale,this.locale||this.getDefaultLocale())},e.prototype.select=function(t){return this.onChange.pipe(y.map(function(e){return e[t]}),y.distinctUntilChanged())},e.prototype.get=function(e,t){var n=this.getPropertyKey(e),i=this.storage.getItem(n);return i===undefined||null===i?t:i},e.prototype.set=function(e,t){e&&(this.storage.setItem(this.getPropertyKey(e),t),this.userPreferenceStatus[e]=t,this.onChangeSubject.next(this.userPreferenceStatus))},e.prototype.setWithoutStore=function(e,t){e&&(this.userPreferenceStatus[e]=t,this.onChangeSubject.next(this.userPreferenceStatus))},e.prototype.hasItem=function(e){if(e)return this.storage.hasItem(this.getPropertyKey(e))},e.prototype.getStoragePrefix=function(){return this.storage.getItem("USER_PROFILE")||"GUEST"},e.prototype.setStoragePrefix=function(e){this.storage.setItem("USER_PROFILE",e||"GUEST"),this.initUserPreferenceStatus()},e.prototype.getPropertyKey=function(e){return this.getStoragePrefix()+"__"+e},Object.defineProperty(e.prototype,"supportedPageSizes",{get:function(){var e=this.get(Ce.SupportedPageSizes);return e?JSON.parse(e):this.appConfig.get("pagination.supportedPageSizes",this.defaults.supportedPageSizes)},set:function(e){this.set(Ce.SupportedPageSizes,JSON.stringify(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paginationSize",{get:function(){var e=this.get(Ce.PaginationSize);return e?Number(e):Number(this.appConfig.get("pagination.size",this.defaults.paginationSize))},set:function(e){this.set(Ce.PaginationSize,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.get(Ce.Locale)},set:function(e){this.set(Ce.Locale,e)},enumerable:!0,configurable:!0}),e.prototype.getDefaultLocale=function(){return this.appConfig.get(Ce.Locale)||this.translate.getBrowserCultureLang()||"en"},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:D.TranslateService},{type:B},{type:we}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(D.TranslateService),A.inject(B),A.inject(we))},token:e,providedIn:"root"}),e}(),Se=new A.InjectionToken("Injection token for translation providers."),Ae=function(){function e(e,t,n){var i,o,r=this;if(this.translate=e,this.customLoader=this.translate.currentLoader,this.defaultLang="en",e.setDefaultLang(this.defaultLang),this.customLoader.setDefaultLang(this.defaultLang),n&&0<n.length)try{for(var a=M(n),s=a.next();!s.done;s=a.next()){var l=s.value;this.addTranslationFolder(l.name,l.source)}}catch(c){i={error:c}}finally{try{s&&!s.done&&(o=a["return"])&&o.call(a)}finally{if(i)throw i.error}}t.select(Ce.Locale).subscribe(function(e){e&&(r.userLang=e,r.use(r.userLang))})}return e.prototype.addTranslationFolder=function(e,t){void 0===e&&(e=""),void 0===t&&(t=""),this.customLoader.providerRegistered(e)||(this.customLoader.registerProvider(e,t),this.userLang?this.loadTranslation(this.userLang,this.defaultLang):this.loadTranslation(this.defaultLang))},e.prototype.loadTranslation=function(e,t){var n=this;this.translate.getTranslation(e).subscribe(function(){n.translate.use(e),n.onTranslationChanged(e)},function(){t&&t!==e&&n.loadTranslation(t)})},e.prototype.onTranslationChanged=function(e){this.translate.onTranslationChange.next({lang:e,translations:this.customLoader.getFullTranslationJSON(e)})},e.prototype.use=function(e){return this.customLoader.init(e),this.translate.use(e)},e.prototype.get=function(e,t){return this.translate.get(e,t)},e.prototype.instant=function(e,t){return e?this.translate.instant(e,t):""},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:D.TranslateService},{type:Te},{type:Array,decorators:[{type:A.Optional},{type:A.Inject,args:[Se]}]}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(D.TranslateService),A.inject(Te),A.inject(Se,8))},token:e,providedIn:"root"}),e}(),Oe=function(){function e(e){this.translation=e}return e.prototype.transform=function(e,t){if(void 0===t&&(t=2),null==e||e===undefined)return"";if(0===e)return"0 "+this.translation.instant("CORE.FILE_SIZE.BYTES");var n=t||2,i=Math.floor(Math.log(e)/Math.log(1024)),o=this.translation.instant("CORE.FILE_SIZE."+["BYTES","KB","MB","GB","TB","PB","EB","ZB","YB"][i]);return parseFloat((e/Math.pow(1024,i)).toFixed(n))+" "+o},e.decorators=[{type:A.Pipe,args:[{name:"adfFileSize",pure:!1}]}],e.ctorParameters=function(){return[{type:Ae}]},e}(),De=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _(t,e),t.CONTRIBUTOR="Contributor",t.CONSUMER="Consumer",t.COLLABORATOR="Collaborator",t.MANAGER="Manager",t.EDITOR="Editor",t.COORDINATOR="Coordinator",t.NOT_CONTRIBUTOR="!Contributor",t.NOT_CONSUMER="!Consumer",t.NOT_COLLABORATOR="!Collaborator",t.NOT_MANAGER="!Manager",t.NOT_EDITOR="!Editor",t.NOT_COORDINATOR="!Coordinator",t}(String),Re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _(t,e),t.DELETE="delete",t.UPDATE="update",t.CREATE="create",t.COPY="copy",t.LOCK="lock",t.UPDATEPERMISSIONS="updatePermissions",t.NOT_DELETE="!delete",t.NOT_UPDATE="!update",t.NOT_CREATE="!create",t.NOT_UPDATEPERMISSIONS="!updatePermissions",t}(String),xe=function(){function e(e,t,n,i){var a;this.authService=e,this.apiService=t,this.logService=n,this.sanitizer=i,this.folderCreated=new C.Subject,this.folderCreate=new C.Subject,this.folderEdit=new C.Subject,this.saveData=(a=document.createElement("a"),document.body.appendChild(a),a.style.display="none",function(e,t,n){var i=null;if("blob"!==t&&"data"!==t||(i=new Blob([e],{type:"octet/stream"})),"object"===t||"json"===t){var o=JSON.stringify(e);i=new Blob([o],{type:"octet/stream"})}if(i)if("undefined"!=typeof window.navigator&&window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(i,n);else{var r=window.URL.createObjectURL(i);a.href=r,a.download=n,a.click(),window.URL.revokeObjectURL(r)}})}return e.prototype.downloadBlob=function(e,t){this.saveData(e,"blob",t)},e.prototype.downloadData=function(e,t){this.saveData(e,"data",t)},e.prototype.downloadJSON=function(e,t){this.saveData(e,"json",t)},e.prototype.createTrustedUrl=function(e){var t=window.URL.createObjectURL(e);return this.sanitizer.bypassSecurityTrustUrl(t)},Object.defineProperty(e.prototype,"contentApi",{get:function(){return this.apiService.getInstance().content},enumerable:!0,configurable:!0}),e.prototype.getDocumentThumbnailUrl=function(e,t,n){return e&&e.entry&&(e=e.entry.id),this.contentApi.getDocumentThumbnailUrl(e,t,n)},e.prototype.getContentUrl=function(e,t,n){return e&&e.entry&&(e=e.entry.id),this.contentApi.getContentUrl(e,t,n)},e.prototype.getNodeContent=function(e){var t=this;return C.from(this.apiService.getInstance().core.nodesApi.getFileContent(e)).pipe(y.catchError(function(e){return t.handleError(e)}))},e.prototype.getNode=function(e,t){return C.from(this.apiService.getInstance().nodes.getNode(e,t))},e.prototype.hasPermissions=function(e,t){var n=!1;return e&&e.permissions&&e.permissions.locallySet?n=t&&t.startsWith("!")?!e.permissions.locallySet.find(function(e){return e.name===t.replace("!","")}):!!e.permissions.locallySet.find(function(e){return e.name===t}):t===De.CONSUMER?n=!0:t===De.NOT_CONSUMER?n=!1:t&&t.startsWith("!")&&(n=!0),n},e.prototype.hasAllowableOperations=function(e,t){var n=!1;return e&&e.allowableOperations?n=t&&t.startsWith("!")?!e.allowableOperations.find(function(e){return e===t.replace("!","")}):!!e.allowableOperations.find(function(e){return e===t}):t&&t.startsWith("!")&&(n=!0),t===Re.COPY&&(n=!0),t===Re.LOCK&&(n=e.isFile,e.isLocked&&e.allowableOperations&&(n=!!~e.allowableOperations.indexOf("updatePermissions"))),n},e.prototype.handleError=function(e){return this.logService.error(e),C.throwError(e||"Server error")},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:$},{type:H},{type:q},{type:h.DomSanitizer}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject($),A.inject(H),A.inject(q),A.inject(h.DomSanitizer))},token:e,providedIn:"root"}),e}(),_e=function(){function e(e,n,i){var o=this;this.contentService=e,this.DEFAULT_ICON="./assets/images/ft_ic_miscellaneous.svg",this.mimeTypeIcons={"image/png":"./assets/images/ft_ic_raster_image.svg","image/jpeg":"./assets/images/ft_ic_raster_image.svg","image/gif":"./assets/images/ft_ic_raster_image.svg","image/bmp":"./assets/images/ft_ic_raster_image.svg","image/cgm":"./assets/images/ft_ic_raster_image.svg","image/ief":"./assets/images/ft_ic_raster_image.svg","image/jp2":"./assets/images/ft_ic_raster_image.svg","image/tiff":"./assets/images/ft_ic_raster_image.svg","image/vnd.adobe.photoshop":"./assets/images/ft_ic_raster_image.svg","image/vnd.adobe.premiere":"./assets/images/ft_ic_raster_image.svg","image/x-cmu-raster":"./assets/images/ft_ic_raster_image.svg","image/x-dwt":"./assets/images/ft_ic_raster_image.svg","image/x-portable-anymap":"./assets/images/ft_ic_raster_image.svg","image/x-portable-bitmap":"./assets/images/ft_ic_raster_image.svg","image/x-portable-graymap":"./assets/images/ft_ic_raster_image.svg","image/x-portable-pixmap":"./assets/images/ft_ic_raster_image.svg","image/x-raw-adobe":"./assets/images/ft_ic_raster_image.svg","image/x-raw-canon":"./assets/images/ft_ic_raster_image.svg","image/x-raw-fuji":"./assets/images/ft_ic_raster_image.svg","image/x-raw-hasselblad":"./assets/images/ft_ic_raster_image.svg","image/x-raw-kodak":"./assets/images/ft_ic_raster_image.svg","image/x-raw-leica":"./assets/images/ft_ic_raster_image.svg","image/x-raw-minolta":"./assets/images/ft_ic_raster_image.svg","image/x-raw-nikon":"./assets/images/ft_ic_raster_image.svg","image/x-raw-olympus":"./assets/images/ft_ic_raster_image.svg","image/x-raw-panasonic":"./assets/images/ft_ic_raster_image.svg","image/x-raw-pentax":"./assets/images/ft_ic_raster_image.svg","image/x-raw-red":"./assets/images/ft_ic_raster_image.svg","image/x-raw-sigma":"./assets/images/ft_ic_raster_image.svg","image/x-raw-sony":"./assets/images/ft_ic_raster_image.svg","image/x-xbitmap":"./assets/images/ft_ic_raster_image.svg","image/x-xpixmap":"./assets/images/ft_ic_raster_image.svg","image/x-xwindowdump":"./assets/images/ft_ic_raster_image.svg","image/svg+xml":"./assets/images/ft_ic_vector_image.svg","application/eps":"./assets/images/ft_ic_raster_image.svg","application/illustrator":"./assets/images/ft_ic_raster_image.svg","application/pdf":"./assets/images/ft_ic_pdf.svg","application/vnd.ms-excel":"./assets/images/ft_ic_ms_excel.svg","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"./assets/images/ft_ic_ms_excel.svg","application/vnd.openxmlformats-officedocument.spreadsheetml.template":"./assets/images/ft_ic_ms_excel.svg","application/vnd.ms-excel.addin.macroenabled.12":"./assets/images/ft_ic_ms_excel.svg","application/vnd.ms-excel.sheet.binary.macroenabled.12":"./assets/images/ft_ic_ms_excel.svg","application/vnd.ms-excel.sheet.macroenabled.12":"./assets/images/ft_ic_ms_excel.svg","application/vnd.ms-excel.template.macroenabled.12":"./assets/images/ft_ic_ms_excel.svg","application/vnd.sun.xml.calc":"./assets/images/ft_ic_ms_excel.svg","application/vnd.sun.xml.calc.template":"./assets/images/ft_ic_ms_excel.svg","application/vnd.ms-outlook":"./assets/images/ft_ic_document.svg","application/msword":"./assets/images/ft_ic_ms_word.svg","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"./assets/images/ft_ic_ms_word.svg","application/vnd.openxmlformats-officedocument.wordprocessingml.template":"./assets/images/ft_ic_ms_word.svg","application/vnd.ms-word.document.macroenabled.12":"./assets/images/ft_ic_ms_word.svg","application/vnd.ms-word.template.macroenabled.12":"./assets/images/ft_ic_ms_word.svg","application/vnd.sun.xml.writer":"./assets/images/ft_ic_ms_word.svg","application/vnd.sun.xml.writer.template":"./assets/images/ft_ic_ms_word.svg","application/rtf":"./assets/images/ft_ic_ms_word.svg","text/rtf":"./assets/images/ft_ic_ms_word.svg","application/vnd.ms-powerpoint":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.openxmlformats-officedocument.presentationml.presentation":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.openxmlformats-officedocument.presentationml.template":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.openxmlformats-officedocument.presentationml.slideshow":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.oasis.opendocument.presentation":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.oasis.opendocument.presentation-template":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.openxmlformats-officedocument.presentationml.slide":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.sun.xml.impress":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.sun.xml.impress.template":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.oasis.opendocument.spreadsheet":"./assets/images/ft_ic_ms_excel.svg","application/vnd.oasis.opendocument.spreadsheet-template":"./assets/images/ft_ic_ms_excel.svg","application/vnd.ms-powerpoint.addin.macroenabled.12":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.ms-powerpoint.presentation.macroenabled.12":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.ms-powerpoint.slide.macroenabled.12":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.ms-powerpoint.slideshow.macroenabled.12":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.ms-powerpoint.template.macroenabled.12":"./assets/images/ft_ic_ms_powerpoint.svg","video/mp4":"./assets/images/ft_ic_video.svg","video/3gpp":"./assets/images/ft_ic_video.svg","video/3gpp2":"./assets/images/ft_ic_video.svg","video/mp2t":"./assets/images/ft_ic_video.svg","video/mpeg":"./assets/images/ft_ic_video.svg","video/mpeg2":"./assets/images/ft_ic_video.svg","video/ogg":"./assets/images/ft_ic_video.svg","video/quicktime":"./assets/images/ft_ic_video.svg","video/webm":"./assets/images/ft_ic_video.svg","video/x-flv":"./assets/images/ft_ic_video.svg","video/x-m4v":"./assets/images/ft_ic_video.svg","video/x-ms-asf":"./assets/images/ft_ic_video.svg","video/x-ms-wmv":"./assets/images/ft_ic_video.svg","video/x-msvideo":"./assets/images/ft_ic_video.svg","video/x-rad-screenplay":"./assets/images/ft_ic_video.svg","video/x-sgi-movie":"./assets/images/ft_ic_video.svg","video/x-matroska":"./assets/images/ft_ic_video.svg","audio/mpeg":"./assets/images/ft_ic_audio.svg","audio/ogg":"./assets/images/ft_ic_audio.svg","audio/wav":"./assets/images/ft_ic_audio.svg","audio/basic":"./assets/images/ft_ic_audio.svg","audio/mp4":"./assets/images/ft_ic_audio.svg","audio/vnd.adobe.soundbooth":"./assets/images/ft_ic_audio.svg","audio/vorbis":"./assets/images/ft_ic_audio.svg","audio/x-aiff":"./assets/images/ft_ic_audio.svg","audio/x-flac":"./assets/images/ft_ic_audio.svg","audio/x-ms-wma":"./assets/images/ft_ic_audio.svg","audio/x-wav":"./assets/images/ft_ic_audio.svg","x-world/x-vrml":"./assets/images/ft_ic_video.svg","text/plain":"./assets/images/ft_ic_document.svg","application/vnd.oasis.opendocument.text":"./assets/images/ft_ic_document.svg","application/vnd.oasis.opendocument.text-template":"./assets/images/ft_ic_document.svg","application/x-javascript":"./assets/images/ft_ic_document.svg","application/json":"./assets/images/ft_ic_document.svg","text/csv":"./assets/images/ft_ic_document.svg","text/xml":"./assets/images/ft_ic_document.svg","text/html":"./assets/images/ft_ic_website.svg","application/x-compressed":"./assets/images/ft_ic_archive.svg","application/x-zip-compressed":"./assets/images/ft_ic_archive.svg","application/zip":"./assets/images/ft_ic_archive.svg","application/x-tar":"./assets/images/ft_ic_archive.svg","application/vnd.apple.keynote":"./assets/images/ft_ic_presentation.svg","application/vnd.apple.pages":"./assets/images/ft_ic_document.svg","application/vnd.apple.numbers":"./assets/images/ft_ic_spreadsheet.svg","application/vnd.visio":"./assets/images/ft_ic_document.svg","application/wordperfect":"./assets/images/ft_ic_document.svg","application/x-cpio":"./assets/images/ft_ic_document.svg",folder:"./assets/images/ft_ic_folder.svg",smartFolder:"./assets/images/ft_ic_smart_folder.svg",ruleFolder:"./assets/images/ft_ic_folder_rule.svg",linkFolder:"./assets/images/ft_ic_folder_shortcut_link.svg","disable/folder":"./assets/images/ft_ic_folder_disable.svg",selected:"./assets/images/ft_ic_selected.svg"},Object.keys(this.mimeTypeIcons).forEach(function(e){var t=i.bypassSecurityTrustResourceUrl(o.mimeTypeIcons[e]);n.addSvgIcon(e,t),n.addSvgIconInNamespace("adf",e,t)})}return e.prototype.getDocumentThumbnailUrl=function(e){return this.contentService.getDocumentThumbnailUrl(e)||this.DEFAULT_ICON},e.prototype.getMimeTypeIcon=function(e){return this.mimeTypeIcons[e]||this.DEFAULT_ICON},e.prototype.getDefaultMimeTypeIcon=function(){return this.DEFAULT_ICON},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:xe},{type:E.MatIconRegistry},{type:h.DomSanitizer}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(xe),A.inject(o.MatIconRegistry),A.inject(h.DomSanitizer))},token:e,providedIn:"root"}),e}(),Pe=function(){function e(e){this.thumbnailService=e}return e.prototype.transform=function(e){return this.thumbnailService.getMimeTypeIcon(e)},e.decorators=[{type:A.Pipe,args:[{name:"adfMimeTypeIcon"}]}],e.ctorParameters=function(){return[{type:_e}]},e}(),ke=function(){function e(){}return e.prototype.transform=function(e){return e?this.getNodeTooltip(e):null},e.prototype.containsLine=function(e,t){return e.some(function(e){return e.toLowerCase()===t.toLowerCase()})},e.prototype.removeDuplicateLines=function(e){var n=this;return e.reduce(function(e,t){return n.containsLine(e,t)||e.push(t),e},[])},e.prototype.getNodeTooltip=function(e){if(!e||!e.entry)return null;var t=e.entry,n=t.properties,i=[t.name];if(n){var o=n["cm:title"],r=n["cm:description"];o&&r&&(i[0]=o,i[1]=r),o&&(i[1]=o),r&&(i[1]=r)}return this.removeDuplicateLines(i).join("\n")},e.decorators=[{type:A.Pipe,args:[{name:"adfNodeNameTooltip"}]}],e}(),Le=function(){function e(){}return e.prototype.highlight=function(e,t,n){void 0===n&&(n="adf-highlight");var i=!1,o=e;if(t&&e){var r=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");r=r.split(" ").filter(function(e){return 0<e.length}).join("|");var a=new RegExp(r,"gi");return{text:o=e.replace(/<[^>]+>/g,"").replace(a,function(e){return i=!0,'<span class="'+n+'">'+e+"</span>"}),changed:i}}return{text:o,changed:i}},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=A.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),Me=function(){function e(e){this.highlightTransformService=e}return e.prototype.transform=function(e,t){return this.highlightTransformService.highlight(e,t).text},e.decorators=[{type:A.Pipe,args:[{name:"highlight"}]}],e.ctorParameters=function(){return[{type:Le}]},e}(),Fe=function(){function e(){this.defaultLocale="en-US"}return e.prototype.transform=function(e,t){if(null===e||e===undefined)return"";var n=t||this.defaultLocale,i=b(e);return 7<b().locale(n).diff(i,"days")?i.locale(n).format("DD/MM/YYYY HH:mm"):i.locale(n).fromNow()},e.decorators=[{type:A.Pipe,args:[{name:"adfTimeAgo"}]}],e}(),Ne=function(){function e(e){this.sanitized=e}return e.prototype.transform=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n="");var i="";if(e){var o=this.getInitialUserName(e.firstName,e.lastName,n);i=this.sanitized.bypassSecurityTrustHtml('<div id="user-initials-image" class="'+t+'">'+o+"</div>")}return i},e.prototype.getInitialUserName=function(e,t,n){return(e=e?e[0]:"")+n+(t=t?t[0]:"")},e.decorators=[{type:A.Pipe,args:[{name:"usernameInitials"}]}],e.ctorParameters=function(){return[{type:h.DomSanitizer}]},e}(),Ve=function(){function e(){}return e.prototype.transform=function(e){var t="";return e&&(e.firstName&&(t+=e.firstName),e.lastName&&(t+=0<t.length?" ":"",t+=e.lastName)),t},e.decorators=[{type:A.Pipe,args:[{name:"fullName"}]}],e}(),Ue=function(){function e(){}return e.prototype.transform=function(e,t,n){void 0===t&&(t="_"),void 0===n&&(n=!0);var i="";return e&&(i=n?e.trim().split(" ").join(t).toLocaleLowerCase():e.trim().split(" ").join(t)),i},e.decorators=[{type:A.Pipe,args:[{name:"formatSpace"}]}],e}(),je=function(){function e(){}return e.prototype.transform=function(e){return null==e||e===undefined?"":e.substring(e.lastIndexOf("/")+1).replace(/\.[a-z]+/,"").split("_").pop()},e.decorators=[{type:A.Pipe,args:[{name:"fileType",pure:!0}]}],e}(),Be=function(){function n(){}return n.prototype.transform=function(e,t){return void 0===t&&(t=n.DEFAULT_SEPARATOR),e&&e instanceof Array?e.map(function(e){return e.trim()}).join(t):e},n.DEFAULT_SEPARATOR=", ",n.decorators=[{type:A.Pipe,args:[{name:"multiValue"}]}],n}(),He=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[S.CommonModule],declarations:[Oe,Me,Fe,Pe,Ne,Ve,ke,Ue,je,Be],providers:[Oe,Me,Fe,Pe,Ne,ke,Ue,je,Be],exports:[Oe,Me,Fe,Pe,Ne,Ve,ke,Ue,je,Be]}]}],e}(),Ge=function(){function e(e,t,n){this.el=e,this.renderer=t,this.highlightTransformService=n,this.selector="",this.search="",this.classToApply="adf-highlight"}return e.prototype.ngAfterViewChecked=function(){this.highlight()},e.prototype.highlight=function(n,e,i){var o=this;(void 0===n&&(n=this.search),void 0===e&&(e=this.selector),void 0===i&&(i=this.classToApply),n&&e)&&this.el.nativeElement.querySelectorAll(e).forEach(function(e){var t=o.highlightTransformService.highlight(e.innerHTML,n,i);t.changed&&o.renderer.setProperty(e,"innerHTML",t.text)})},e.decorators=[{type:A.Directive,args:[{selector:"[adf-highlight]"}]}],e.ctorParameters=function(){return[{type:A.ElementRef},{type:A.Renderer2},{type:Le}]},e.propDecorators={selector:[{type:A.Input,args:["adf-highlight-selector"]}],search:[{type:A.Input,args:["adf-highlight"]}],classToApply:[{type:A.Input,args:["adf-highlight-class"]}]},e}(),Ye=function(){function e(e,t,n,i){this.elementRef=e,this.renderer=t,this.router=n,this.auth=i,this.redirectUri="/login",this.enableRedirect=!0}return e.prototype.ngOnInit=function(){var t=this;this.elementRef.nativeElement&&this.renderer.listen(this.elementRef.nativeElement,"click",function(e){e.preventDefault(),t.logout()})},e.prototype.logout=function(){var e=this;this.auth.logout().subscribe(function(){return e.redirectToUri()},function(){return e.redirectToUri()})},e.prototype.redirectToUri=function(){this.enableRedirect&&this.router.navigate([this.redirectUri])},e.decorators=[{type:A.Directive,args:[{selector:"[adf-logout]"}]}],e.ctorParameters=function(){return[{type:A.ElementRef},{type:A.Renderer2},{type:m.Router},{type:$}]},e.propDecorators={redirectUri:[{type:A.Input}],enableRedirect:[{type:A.Input}]},e}(),ze=function(){function e(e,t,n){this.alfrescoApiService=e,this.translation=t,this.elementRef=n,this.permanent=!1,this["delete"]=new A.EventEmitter}return e.prototype.onClick=function(){this.process(this.selection)},e.prototype.ngOnChanges=function(){!this.selection||this.selection&&0===this.selection.length?this.setDisableAttribute(!0):this.elementRef.nativeElement.hasAttribute("adf-check-allowable-operation")||this.setDisableAttribute(!1)},e.prototype.setDisableAttribute=function(e){this.elementRef.nativeElement.disabled=e},e.prototype.process=function(e){var i=this;if(e&&e.length){var t=this.getDeleteNodesBatch(e);C.forkJoin.apply(void 0,N(t)).subscribe(function(e){var t=i.processStatus(e),n=i.getMessage(t);i["delete"].emit(n)})}},e.prototype.getDeleteNodesBatch=function(e){var t=this;return e.map(function(e){return t.deleteNode(e)})},e.prototype.deleteNode=function(e){var t,n=e.entry.nodeId||e.entry.id;return t=e.entry.hasOwnProperty("archivedAt")?this.alfrescoApiService.nodesApi.purgeDeletedNode(n):this.alfrescoApiService.nodesApi.deleteNode(n,{permanent:this.permanent}),C.from(t).pipe(y.map(function(){return{entry:e.entry,status:1}}),y.catchError(function(){return C.of({entry:e.entry,status:0})}))},e.prototype.processStatus=function(e){return e.reduce(function(e,t){return 1===t.status?e.success.push(t):e.failed.push(t),e},{success:[],failed:[],get someFailed(){return!!this.failed.length},get someSucceeded(){return!!this.success.length},get oneFailed(){return 1===this.failed.length},get oneSucceeded(){return 1===this.success.length},get allSucceeded(){return this.someSucceeded&&!this.someFailed},get allFailed(){return this.someFailed&&!this.someSucceeded}})},e.prototype.getMessage=function(e){return e.allFailed&&!e.oneFailed?this.translation.instant("CORE.DELETE_NODE.ERROR_PLURAL",{number:e.failed.length}):e.allSucceeded&&!e.oneSucceeded?this.translation.instant("CORE.DELETE_NODE.PLURAL",{number:e.success.length}):e.someFailed&&e.someSucceeded&&!e.oneSucceeded?this.translation.instant("CORE.DELETE_NODE.PARTIAL_PLURAL",{success:e.success.length,failed:e.failed.length}):e.someFailed&&e.oneSucceeded?this.translation.instant("CORE.DELETE_NODE.PARTIAL_SINGULAR",{success:e.success.length,failed:e.failed.length}):e.oneFailed&&!e.someSucceeded?this.translation.instant("CORE.DELETE_NODE.ERROR_SINGULAR",{name:e.failed[0].entry.name}):e.oneSucceeded&&!e.someFailed?this.translation.instant("CORE.DELETE_NODE.SINGULAR",{name:e.success[0].entry.name}):void 0},e.decorators=[{type:A.Directive,args:[{selector:"[adf-delete]"}]}],e.ctorParameters=function(){return[{type:H},{type:Ae},{type:A.ElementRef}]},e.propDecorators={selection:[{type:A.Input,args:["adf-delete"]}],permanent:[{type:A.Input}],"delete":[{type:A.Output}],onClick:[{type:A.HostListener,args:["click"]}]},e}(),qe=function(){function e(e){this.alfrescoApiService=e,this.favorites=[],this.selection=[],this.toggle=new A.EventEmitter,this.error=new A.EventEmitter}return e.prototype.onClick=function(){this.toggleFavorite()},e.prototype.ngOnChanges=function(e){e.selection.currentValue.length?this.markFavoritesNodes(e.selection.currentValue):this.favorites=[]},e.prototype.toggleFavorite=function(){var n=this;if(this.favorites.length){var e=this.favorites.every(function(e){return e.entry.isFavorite});if(e){var t=this.favorites.map(function(e){var t=e.entry.nodeId||e.entry.id;return C.from(n.alfrescoApiService.favoritesApi.removeFavoriteSite("-me-",t))});C.forkJoin(t).subscribe(function(){n.favorites.map(function(e){return e.entry.isFavorite=!1}),n.toggle.emit()},function(e){return n.error.emit(e)})}if(!e){var i=this.favorites.filter(function(e){return!e.entry.isFavorite}),o=i.map(function(e){return n.createFavoriteBody(e)});C.from(this.alfrescoApiService.favoritesApi.addFavorite("-me-",o)).subscribe(function(){i.map(function(e){return e.entry.isFavorite=!0}),n.toggle.emit()},function(e){return n.error.emit(e)})}}},e.prototype.markFavoritesNodes=function(e){var n=this;if(e.length<=this.favorites.length){var t=this.reduce(this.favorites,e);this.favorites=t}var i=this.diff(e,this.favorites),o=this.getProcessBatch(i);C.forkJoin(o).subscribe(function(e){var t;(t=n.favorites).push.apply(t,N(e))})},e.prototype.hasFavorites=function(){return!(this.favorites&&!this.favorites.length)&&this.favorites.every(function(e){return e.entry.isFavorite})},e.prototype.getProcessBatch=function(e){var t=this;return e.map(function(e){return t.getFavorite(e)})},e.prototype.getFavorite=function(e){var t=e.entry;if(t&&t.hasOwnProperty("isFavorite"))return C.of(e);var n=t,i=n.name,o=n.isFile,r=n.isFolder,a=t.nodeId||t.id,s=this.alfrescoApiService.favoritesApi.getFavorite("-me-",a);return C.from(s).pipe(y.map(function(){return{entry:{id:a,isFolder:r,isFile:o,name:i,isFavorite:!0}}}),y.catchError(function(){return C.of({entry:{id:a,isFolder:r,isFile:o,name:i,isFavorite:!1}})}))},e.prototype.createFavoriteBody=function(e){var t,n=this.getNodeType(e),i=e.entry.nodeId||e.entry.id;return{target:(t={},t[n]={guid:i},t)}},e.prototype.getNodeType=function(e){return e.entry.isFile||e.entry.isFolder?e.entry.isFile?"file":"folder":"file"},e.prototype.diff=function(e,t){var n=t.map(function(e){return e.entry.id});return e.filter(function(e){return n.includes(e.entry.id)?null:e})},e.prototype.reduce=function(e,t){var n=t.map(function(e){return e.entry.id});return e.filter(function(e){return n.includes(e.entry.id)?e:null})},e.decorators=[{type:A.Directive,args:[{selector:"[adf-node-favorite]",exportAs:"adfFavorite"}]}],e.ctorParameters=function(){return[{type:H}]},e.propDecorators={selection:[{type:A.Input,args:["adf-node-favorite"]}],toggle:[{type:A.Output}],error:[{type:A.Output}],onClick:[{type:A.HostListener,args:["click"]}]},e}(),We=new A.InjectionToken("extendible.component"),$e=function(){function e(e,t,n,i,o){this.elementRef=e,this.renderer=t,this.contentService=n,this.changeDetector=i,this.parentComponent=o,this.permission=null,this.nodes=[]}return e.prototype.ngOnChanges=function(e){e.nodes&&!e.nodes.firstChange&&this.updateElement()},e.prototype.updateElement=function(){var e=this.hasAllowableOperations(this.nodes,this.permission);return e?this.enable():this.disable(),e},e.prototype.enable=function(){this.parentComponent?(this.parentComponent.disabled=!1,this.changeDetector.detectChanges()):this.enableElement()},e.prototype.disable=function(){this.parentComponent?(this.parentComponent.disabled=!0,this.changeDetector.detectChanges()):this.disableElement()},e.prototype.enableElement=function(){this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")},e.prototype.disableElement=function(){this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","true")},e.prototype.hasAllowableOperations=function(e,t){var n=this;return!!(e&&0<e.length)&&e.every(function(e){return n.contentService.hasAllowableOperations(e.entry,t)})},e.decorators=[{type:A.Directive,args:[{selector:"[adf-check-allowable-operation]"}]}],e.ctorParameters=function(){return[{type:A.ElementRef},{type:A.Renderer2},{type:xe},{type:A.ChangeDetectorRef},{type:undefined,decorators:[{type:A.Host},{type:A.Optional},{type:A.Inject,args:[We]}]}]},e.propDecorators={permission:[{type:A.Input,args:["adf-check-allowable-operation"]}],nodes:[{type:A.Input,args:["adf-nodes"]}]},e}(),Xe=function qa(){},Ke=function(){function e(e,t){this.alfrescoApiService=e,this.translation=t,this.restore=new A.EventEmitter,this.restoreProcessStatus=this.processStatus()}return e.prototype.onClick=function(){this.recover(this.selection)},e.prototype.recover=function(r){var e,a=this;if(r.length){var t=this.getNodesWithPath(r);if(!r.length||!t.length)return(e=this.restoreProcessStatus.fail).push.apply(e,N(r)),void this.notification();this.restoreNodesBatch(t).pipe(y.tap(function(e){var t,n,i=a.processStatus(e);(t=a.restoreProcessStatus.fail).push.apply(t,N(i.fail)),(n=a.restoreProcessStatus.success).push.apply(n,N(i.success))}),y.mergeMap(function(){return a.getDeletedNodes()})).subscribe(function(e){var t=e.list.entries,n=a.restoreProcessStatus.fail,i=a.diff(n,r,!1),o=a.diff(i,t);o.length?a.recover(o):a.notification()})}},e.prototype.restoreNodesBatch=function(e){var t=this;return C.forkJoin(e.map(function(e){return t.restoreNode(e)}))},e.prototype.getNodesWithPath=function(e){return e.filter(function(e){return e.entry.path})},e.prototype.getDeletedNodes=function(){var e=this.alfrescoApiService.getInstance().core.nodesApi.getDeletedNodes({include:["path"]});return C.from(e)},e.prototype.restoreNode=function(e){var n=e.entry,t=this.alfrescoApiService.getInstance().nodes.restoreNode(n.id);return C.from(t).pipe(y.map(function(){return{status:1,entry:n}}),y.catchError(function(e){var t=JSON.parse(e.message).error.statusCode;return C.of({status:0,statusCode:t,entry:n})}))},e.prototype.diff=function(e,t,n){void 0===n&&(n=!0);var i=e.map(function(e){return e.entry.id});return t.filter(function(e){return n?i.includes(e.entry.id)?e:null:i.includes(e.entry.id)?null:e})},e.prototype.processStatus=function(e){void 0===e&&(e=[]);return e.reduce(function(e,t){return t.status?e.success.push(t):e.fail.push(t),e},{fail:[],success:[],get someFailed(){return!!this.fail.length},get someSucceeded(){return!!this.success.length},get oneFailed(){return 1===this.fail.length},get oneSucceeded(){return 1===this.success.length},get allSucceeded(){return this.someSucceeded&&!this.someFailed},get allFailed(){return this.someFailed&&!this.someSucceeded},reset:function(){this.fail=[],this.success=[]}})},e.prototype.getRestoreMessage=function(){var e=this.restoreProcessStatus;return e.someFailed&&!e.oneFailed?this.translation.instant("CORE.RESTORE_NODE.PARTIAL_PLURAL",{number:e.fail.length}):e.oneFailed&&e.fail[0].statusCode?409===e.fail[0].statusCode?this.translation.instant("CORE.RESTORE_NODE.NODE_EXISTS",{name:e.fail[0].entry.name}):this.translation.instant("CORE.RESTORE_NODE.GENERIC",{name:e.fail[0].entry.name}):e.oneFailed&&!e.fail[0].statusCode?this.translation.instant("CORE.RESTORE_NODE.LOCATION_MISSING",{name:e.fail[0].entry.name}):e.allSucceeded&&!e.oneSucceeded?this.translation.instant("CORE.RESTORE_NODE.PLURAL"):e.allSucceeded&&e.oneSucceeded?this.translation.instant("CORE.RESTORE_NODE.SINGULAR",{name:e.success[0].entry.name}):void 0},e.prototype.notification=function(){var e=Object.assign({},this.restoreProcessStatus),t=this.getRestoreMessage();this.reset();var n,i=e.oneSucceeded&&!e.someFailed?this.translation.instant("CORE.RESTORE_NODE.VIEW"):"";e.success&&0<e.success.length&&(n=e.success[0].entry.path),this.restore.emit({message:t,action:i,path:n})},e.prototype.reset=function(){this.restoreProcessStatus.reset(),this.selection=[]},e.decorators=[{type:A.Directive,args:[{selector:"[adf-restore]"}]}],e.ctorParameters=function(){return[{type:H},{type:Ae}]},e.propDecorators={selection:[{type:A.Input,args:["adf-restore"]}],restore:[{type:A.Output}],onClick:[{type:A.HostListener,args:["click"]}]},e}(),Je=function(){function e(e,t,n){this.el=e,this.renderer=t,this.ngZone=n,this.enabled=!0,this.mode=["drop"],this.isDragging=!1,this.cssClassName="adf-upload__dragging",this.element=e.nativeElement}return e.prototype.ngOnInit=function(){var t=this;if(this.isClickMode()&&this.renderer){var e=this.renderer.createElement("input");this.upload=this.el.nativeElement.parentElement.appendChild(e),this.upload.type="file",this.upload.style.display="none",this.upload.addEventListener("change",function(e){return t.onSelectFiles(e)}),this.multiple&&this.upload.setAttribute("multiple",""),this.accept&&this.upload.setAttribute("accept",this.accept),this.directory&&this.upload.setAttribute("webkitdirectory","")}this.isDropMode()&&this.ngZone.runOutsideAngular(function(){t.element.addEventListener("dragenter",t.onDragEnter.bind(t)),t.element.addEventListener("dragover",t.onDragOver.bind(t)),t.element.addEventListener("dragleave",t.onDragLeave.bind(t)),t.element.addEventListener("drop",t.onDrop.bind(t))})},e.prototype.ngOnDestroy=function(){this.element.removeEventListener("dragenter",this.onDragEnter),this.element.removeEventListener("dragover",this.onDragOver),this.element.removeEventListener("dragleave",this.onDragLeave),this.element.removeEventListener("drop",this.onDrop)},e.prototype.onClick=function(e){this.isClickMode()&&this.upload&&(e.preventDefault(),this.upload.click())},e.prototype.onDragEnter=function(e){this.isDropMode()&&(this.element.classList.add(this.cssClassName),this.isDragging=!0)},e.prototype.onDragOver=function(e){return e.preventDefault(),this.isDropMode()&&(this.element.classList.add(this.cssClassName),this.isDragging=!0),!1},e.prototype.onDragLeave=function(e){this.isDropMode()&&(this.element.classList.remove(this.cssClassName),this.isDragging=!1)},e.prototype.onDrop=function(e){var t=this;if(this.isDropMode()){e.stopPropagation(),e.preventDefault(),this.element.classList.remove(this.cssClassName),this.isDragging=!1;var n=this.getDataTransfer(e);n&&this.getFilesDropped(n).then(function(e){t.onUploadFiles(e)})}return!1},e.prototype.onUploadFiles=function(e){if(this.enabled&&0<e.length){var t=new CustomEvent("upload-files",{detail:{sender:this,data:this.data,files:e},bubbles:!0});this.el.nativeElement.dispatchEvent(t)}},e.prototype.hasMode=function(e){return this.enabled&&e&&this.mode&&-1<this.mode.indexOf(e)},e.prototype.isDropMode=function(){return this.hasMode("drop")},e.prototype.isClickMode=function(){return this.hasMode("click")},e.prototype.getDataTransfer=function(e){return e&&e.dataTransfer?e.dataTransfer:e&&e.originalEvent&&e.originalEvent.dataTransfer?e.originalEvent.dataTransfer:null},e.prototype.getFilesDropped=function(a){return new Promise(function(t){var i=[];if(a){var o=a.items;if(o)for(var e=function(e){if("undefined"!=typeof o[e].webkitGetAsEntry){var n=o[e].webkitGetAsEntry();n&&(n.isFile?i.push(Promise.resolve({entry:n,file:o[e].getAsFile(),relativeFolder:"/"})):n.isDirectory&&i.push(new Promise(function(t){ne.flatten(n).then(function(e){return t(e)})})))}else i.push(Promise.resolve({entry:null,file:o[e].getAsFile(),relativeFolder:"/"}))},n=0;n<o.length;n++)e(n);else{var r=ne.toFileArray(a.files).map(function(e){return{entry:null,file:e,relativeFolder:"/"}});i.push(Promise.resolve(r))}}Promise.all(i).then(function(e){t(e.reduce(function(e,t){return e.concat(t)},[]))})})},e.prototype.onSelectFiles=function(e){if(this.isClickMode()){var t=e.currentTarget,n=ne.toFileArray(t.files);this.onUploadFiles(n.map(function(e){return{entry:null,file:e,relativeFolder:"/"}})),e.target.value=""}},e.decorators=[{type:A.Directive,args:[{selector:"[adf-upload]"}]}],e.ctorParameters=function(){return[{type:A.ElementRef},{type:A.Renderer2},{type:A.NgZone}]},e.propDecorators={enabled:[{type:A.Input,args:["adf-upload"]}],data:[{type:A.Input,args:["adf-upload-data"]}],mode:[{type:A.Input}],multiple:[{type:A.Input}],accept:[{type:A.Input}],directory:[{type:A.Input}],onClick:[{type:A.HostListener,args:["click",["$event"]]}]},e}(),Qe=function(){function e(e,t){this.apiService=e,this.logService=t}return e.prototype.createDownload=function(e){var t=this;return C.from(this.apiService.getInstance().core.downloadsApi.createDownload(e)).pipe(y.catchError(function(e){return t.handleError(e)}))},e.prototype.getContentUrl=function(e,t){return this.apiService.getInstance().content.getContentUrl(e,t)},e.prototype.getNode=function(e){return C.from(this.apiService.getInstance().core.nodesApi.getNode(e))},e.prototype.getDownload=function(e){return C.from(this.apiService.getInstance().core.downloadsApi.getDownload(e))},e.prototype.cancelDownload=function(e){this.apiService.getInstance().core.downloadsApi.cancelDownload(e)},e.prototype.handleError=function(e){return this.logService.error(e),C.throwError(e||"Server error")},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:H},{type:q}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(H),A.inject(q))},token:e,providedIn:"root"}),e}(),Ze=function(){function e(e,t,n,i){this.dialogRef=e,this.data=t,this.logService=n,this.downloadZipService=i,this.cancelled=!1}return e.prototype.ngOnInit=function(){this.data&&this.data.nodeIds&&0<this.data.nodeIds.length&&(this.cancelled?this.logService.log("Cancelled"):this.downloadZip(this.data.nodeIds))},e.prototype.cancelDownload=function(){this.cancelled=!0,this.downloadZipService.cancelDownload(this.downloadId),this.dialogRef.close(!1)},e.prototype.downloadZip=function(e){var o=this;e&&0<e.length&&this.downloadZipService.createDownload({nodeIds:e}).subscribe(function(n){if(n&&n.entry&&n.entry.id){var i=o.downloadZipService.getContentUrl(n.entry.id,!0);o.downloadZipService.getNode(n.entry.id).subscribe(function(e){o.logService.log(e);var t=e.entry.name;o.downloadId=n.entry.id,o.waitAndDownload(n.entry.id,i,t)})}})},e.prototype.waitAndDownload=function(t,n,i){var o=this;this.cancelled||this.downloadZipService.getDownload(t).subscribe(function(e){e.entry&&("DONE"===e.entry.status?o.download(n,i):setTimeout(function(){o.waitAndDownload(t,n,i)},1e3))})},e.prototype.download=function(e,t){if(e&&t){var n=document.createElement("a");n.style.display="none",n.download=t,n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}this.dialogRef.close(!0)},e.decorators=[{type:A.Component,args:[{selector:"adf-download-zip-dialog",template:'<h1 matDialogTitle>{{ \'CORE.DIALOG.DOWNLOAD_ZIP.TITLE\' | translate }}</h1>\n<div mat-dialog-content>\n    <mat-progress-bar color="primary" mode="indeterminate"></mat-progress-bar>\n</div>\n<div mat-dialog-actions>\n    <span class="adf-spacer"></span>\n    <button mat-button color="primary" id="cancel-button" (click)="cancelDownload()">\n        {{ \'CORE.DIALOG.DOWNLOAD_ZIP.ACTIONS.CANCEL\' | translate }}\n    </button>\n</div>\n',host:{"class":"adf-download-zip-dialog"},encapsulation:A.ViewEncapsulation.None,styles:[".adf-spacer{flex:1 1 auto}.adf-download-zip-dialog .mat-dialog-actions .mat-button-wrapper{text-transform:uppercase}"]}]}],e.ctorParameters=function(){return[{type:E.MatDialogRef},{type:undefined,decorators:[{type:A.Inject,args:[E.MAT_DIALOG_DATA]}]},{type:q},{type:Qe}]},e}(),et=function(){function e(e,t){this.apiService=e,this.dialog=t}return e.prototype.onClick=function(){this.downloadNodes(this.nodes)},e.prototype.downloadNodes=function(e){this.isSelectionValid(e)&&(e instanceof Array?1===e.length?this.downloadNode(e[0]):this.downloadZip(e):this.downloadNode(e))},e.prototype.downloadNode=function(e){if(e&&e.entry){var t=e.entry;t.isFile&&this.downloadFile(e),t.isFolder&&this.downloadZip([e]),t.isFile||t.isFolder||!t.nodeId||this.downloadFile(e)}},e.prototype.isSelectionValid=function(e){return e||e instanceof Array&&0<e.length},e.prototype.downloadFile=function(e){if(e&&e.entry){var t=this.apiService.getInstance().content,n=e.entry.nodeId||e.entry.id,i=t.getContentUrl(n,!0),o=e.entry.name;this.download(i,o)}},e.prototype.downloadZip=function(e){if(e&&0<e.length){var t=e.map(function(e){return e.entry.nodeId||e.entry.id});this.dialog.open(Ze,{width:"600px",disableClose:!0,data:{nodeIds:t}})}},e.prototype.download=function(e,t){if(e&&t){var n=document.createElement("a");n.style.display="none",n.download=t,n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}},e.decorators=[{type:A.Directive,args:[{selector:"[adf-node-download], [adfNodeDownload]"}]}],e.ctorParameters=function(){return[{type:H},{type:E.MatDialog}]},e.propDecorators={nodes:[{type:A.Input,args:["adfNodeDownload"]}],onClick:[{type:A.HostListener,args:["click"]}]},e}(),tt=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[S.CommonModule,pe],declarations:[Ge,Ye,ze,qe,$e,Ke,et,Je],exports:[Ge,Ye,ze,qe,$e,Ke,et,Je]}]}],e}(),nt=function(){function e(e){this.alfrescoApiService=e,this.value$=new C.BehaviorSubject("")}return e.prototype.ngOnInit=function(){var t=this;this.updateValue(),this.sub=this.alfrescoApiService.nodeUpdated.subscribe(function(e){t.row&&t.row.node.entry.id===e.id&&(t.row.node.entry=e,t.row.cache[t.column.key]=t.column.key.split(".").reduce(function(e,t){return e[t]},e),t.updateValue())})},e.prototype.updateValue=function(){if(this.column&&this.column.key&&this.row&&this.data){var e=this.data.getValue(this.row,this.column);this.value$.next(e),this.tooltip||(this.tooltip=e)}},e.prototype.ngOnDestroy=function(){this.sub&&(this.sub.unsubscribe(),this.sub=null)},e.decorators=[{type:A.Component,args:[{selector:"adf-datatable-cell",changeDetection:A.ChangeDetectionStrategy.OnPush,template:'\n        <ng-container>\n            <span *ngIf="copyContent; else defaultCell"\n                adf-clipboard="CLIPBOARD.CLICK_TO_COPY"\n                [clipboard-notification]="\'CLIPBOARD.SUCCESS_COPY\'"\n                [attr.aria-label]="value$ | async"\n                [title]="tooltip"\n                class="adf-datatable-cell-value"\n                >{{ value$ | async }}</span>\n        </ng-container>\n        <ng-template #defaultCell>\n            <span\n                [attr.aria-label]="value$ | async"\n                [title]="tooltip"\n                class="adf-datatable-cell-value"\n            >{{ value$ | async }}</span>\n        </ng-template>\n    ',encapsulation:A.ViewEncapsulation.None,host:{"class":"adf-datatable-content-cell"}}]}],e.ctorParameters=function(){return[{type:H}]},e.propDecorators={data:[{type:A.Input}],column:[{type:A.Input}],row:[{type:A.Input}],copyContent:[{type:A.Input}],tooltip:[{type:A.Input}]},e}(),it=function(){function e(){this.type="text",this.sortable=!0,this.title=""}return e.prototype.ngOnInit=function(){this.srTitle||"$thumbnail"!==this.key||(this.srTitle="Thumbnail")},e.decorators=[{type:A.Component,args:[{selector:"data-column",template:""}]}],e.propDecorators={key:[{type:A.Input}],type:[{type:A.Input}],format:[{type:A.Input}],sortable:[{type:A.Input}],title:[{type:A.Input}],template:[{type:A.ContentChild,args:[A.TemplateRef]}],formatTooltip:[{type:A.Input}],srTitle:[{type:A.Input,args:["sr-title"]}],cssClass:[{type:A.Input,args:["class"]}],copyContent:[{type:A.Input}]},e}(),ot=function(){function e(){}return e.decorators=[{type:A.Component,args:[{selector:"data-columns",template:""}]}],e.propDecorators={columns:[{type:A.ContentChildren,args:[it]}]},e}(),rt=function(){function e(){this.isDefaultPrevented=!1}return Object.defineProperty(e.prototype,"defaultPrevented",{get:function(){return this.isDefaultPrevented},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){this.isDefaultPrevented=!0},e}(),at=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _(t,e),t}(rt),st=function Wa(){},lt={Pending:0,Complete:1,Starting:2,Progress:3,Cancelled:4,Aborted:5,Error:6,Deleted:7};lt[lt.Pending]="Pending",lt[lt.Complete]="Complete",lt[lt.Starting]="Starting",lt[lt.Progress]="Progress",lt[lt.Cancelled]="Cancelled",lt[lt.Aborted]="Aborted",lt[lt.Error]="Error",lt[lt.Deleted]="Deleted";var ct=function(){function e(e,t,n){this.status=lt.Pending,this.file=e,this.id=n,this.name=e.name,this.size=e.size,this.data=null,this.errorCode=null,this.progress={loaded:0,total:0,percent:0},this.options=Object.assign({},{newVersion:!1},t)}return Object.defineProperty(e.prototype,"extension",{get:function(){return this.name.slice((Math.max(0,this.name.lastIndexOf("."))||Infinity)+1)},enumerable:!0,configurable:!0}),e}(),ut=function $a(e,t,n){void 0===t&&(t=lt.Pending),void 0===n&&(n=null),this.file=e,this.status=t,this.error=n},pt=function(r){function e(e,t,n,i){void 0===t&&(t=0),void 0===i&&(i=0);var o=r.call(this,e,lt.Complete)||this;return o.totalComplete=t,o.data=n,o.totalAborted=i,o}return _(e,r),e}(ut),dt=function(i){function e(e,t){void 0===t&&(t=0);var n=i.call(this,e,lt.Deleted)||this;return n.totalComplete=t,n}return _(e,i),e}(ut),ft=function(o){function e(e,t,n){void 0===n&&(n=0);var i=o.call(this,e,lt.Error)||this;return i.error=t,i.totalError=n,i}return _(e,o),e}(ut),mt=function(o){function e(e,t,n){var i=o.call(this)||this;return i.value=e,i.event=t,i.sender=n,i}return _(e,o),e}(at),ht=function Xa(e,t,n){this.row=e,this.col=t,this.actions=n||[]},gt=function(o){function e(e,t,n){var i=o.call(this)||this;return i.value=new ht(e,t,n),i}return _(e,o),e}(rt),yt=function Ka(e,t){this.row=e,this.action=t},vt=function(i){function e(e,t){var n=i.call(this)||this;return n.value=new yt(e,t),n}return _(e,i),Object.defineProperty(e.prototype,"args",{get:function(){return this.value},enumerable:!0,configurable:!0}),e}(rt),bt={List:"list",Gallery:"gallery"},Et=function(){function e(e,t){var n=this;this.elementRef=e,this.display=bt.List,this.rows=[],this.sorting=[],this.columns=[],this.selectionMode="single",this.multiselect=!1,this.actions=!1,this.actionsPosition="right",this.contextMenu=!1,this.allowDropFiles=!1,this.rowStyleClass="",this.showHeader=!0,this.stickyHeader=!1,this.rowClick=new A.EventEmitter,this.rowDblClick=new A.EventEmitter,this.showRowContextMenu=new A.EventEmitter,this.showRowActionsMenu=new A.EventEmitter,this.executeRowAction=new A.EventEmitter,this.loading=!1,this.noPermission=!1,this.rowMenuCacheEnabled=!0,this.isSelectAllChecked=!1,this.selection=new Array,this.fakeRows=[],this.rowMenuCache={},this.subscriptions=[],t&&(this.differ=t.find([]).create(null)),this.click$=new C.Observable(function(e){return n.clickObserver=e}).pipe(y.share())}return e.prototype.ngAfterContentInit=function(){var e=this;this.columnList&&this.subscriptions.push(this.columnList.columns.changes.subscribe(function(){e.setTableSchema()})),this.datatableLayoutFix(),this.setTableSchema()},e.prototype.ngOnChanges=function(e){this.initAndSubscribeClickStream(),this.isPropertyChanged(e.data)?this.isTableEmpty()?this.initTable():(this.data=e.data.currentValue,this.resetSelection()):this.isPropertyChanged(e.rows)?this.isTableEmpty()?this.initTable():this.setTableRows(e.rows.currentValue):(e.selectionMode&&!e.selectionMode.isFirstChange()&&(this.resetSelection(),this.emitRowSelectionEvent("row-unselect",null)),this.isPropertyChanged(e.sorting)&&this.setTableSorting(e.sorting.currentValue),this.isPropertyChanged(e.display)&&this.datatableLayoutFix())},e.prototype.ngDoCheck=function(){this.differ.diff(this.rows)&&this.setTableRows(this.rows)},e.prototype.isPropertyChanged=function(e){return!(!e||!e.currentValue)},e.prototype.convertToRowsData=function(e){return e.map(function(e){return new re(e,e.isSelected)})},e.prototype.convertToDataSorting=function(e){if(e&&0<e.length)return new se(e[0],e[1])},e.prototype.initAndSubscribeClickStream=function(){var n=this;this.unsubscribeClickStream();var e=this.click$.pipe(y.buffer(this.click$.pipe(y.debounceTime(250))),y.map(function(e){return e}),y.filter(function(e){return 1===e.length}));this.singleClickStreamSub=e.subscribe(function(e){var t=e[0];n.handleRowSelection(t.value,t.event),n.rowClick.emit(t),t.defaultPrevented||n.elementRef.nativeElement.dispatchEvent(new CustomEvent("row-click",{detail:t,bubbles:!0}))});var t=this.click$.pipe(y.buffer(this.click$.pipe(y.debounceTime(250))),y.map(function(e){return e}),y.filter(function(e){return 2<=e.length}));this.multiClickStreamSub=t.subscribe(function(e){var t=e[0];n.rowDblClick.emit(t),t.defaultPrevented||n.elementRef.nativeElement.dispatchEvent(new CustomEvent("row-dblclick",{detail:t,bubbles:!0}))})},e.prototype.unsubscribeClickStream=function(){this.singleClickStreamSub&&(this.singleClickStreamSub.unsubscribe(),this.singleClickStreamSub=null),this.multiClickStreamSub&&(this.multiClickStreamSub.unsubscribe(),this.multiClickStreamSub=null)},e.prototype.initTable=function(){this.data=new le(this.rows,this.columns),this.setTableSorting(this.sorting),this.resetSelection(),this.rowMenuCache={}},e.prototype.isTableEmpty=function(){return this.data===undefined||null===this.data},e.prototype.setTableRows=function(e){this.data&&(this.resetSelection(),this.data.setRows(this.convertToRowsData(e)))},e.prototype.setTableSchema=function(){var e=[];e=this.columns&&0!==this.columns.length?this.columns.concat(this.getSchemaFromHtml()):this.getSchemaFromHtml(),this.columns=e,this.data&&this.columns&&0<this.columns.length&&this.data.setColumns(this.columns)},e.prototype.setTableSorting=function(e){this.data&&this.data.setSorting(this.convertToDataSorting(e))},e.prototype.getSchemaFromHtml=function(){var e=[];return this.columnList&&this.columnList.columns&&0<this.columnList.columns.length&&(e=this.columnList.columns.map(function(e){return e})),e},e.prototype.onRowClick=function(e,t){if(t&&t.preventDefault(),e){var n=new mt(e,t,this);this.clickObserver.next(n)}},e.prototype.onEnterKeyPressed=function(e,t){e&&this.handleRowSelection(e,t)},e.prototype.handleRowSelection=function(e,t){if(this.data&&(this.isSingleSelectionMode()&&(this.resetSelection(),this.selectRow(e,!0),this.emitRowSelectionEvent("row-select",e)),this.isMultiSelectionMode())){var n=t&&(t.metaKey||t.ctrlKey),i=void 0,o=(i=1===this.selection.length?!e.isSelected:!n||!e.isSelected)?"row-select":"row-unselect";n||this.resetSelection(),this.selectRow(e,i),this.emitRowSelectionEvent(o,e)}},e.prototype.resetSelection=function(){if(this.data){var e=this.data.getRows();e&&0<e.length&&e.forEach(function(e){return e.isSelected=!1}),this.selection=[]}this.isSelectAllChecked=!1},e.prototype.onRowDblClick=function(e,t){t&&t.preventDefault();var n=new mt(e,t,this);this.clickObserver.next(n)},e.prototype.onRowKeyUp=function(e,t){var n=new CustomEvent("row-keyup",{detail:{row:e,keyboardEvent:t,sender:this},bubbles:!0});this.elementRef.nativeElement.dispatchEvent(n),n.defaultPrevented?t.preventDefault():"Enter"===t.key&&this.onKeyboardNavigate(e,t)},e.prototype.onKeyboardNavigate=function(e,t){t&&t.preventDefault();var n=new mt(e,t,this);this.rowDblClick.emit(n),this.elementRef.nativeElement.dispatchEvent(new CustomEvent("row-dblclick",{detail:n,bubbles:!0}))},e.prototype.onColumnHeaderClick=function(e){if(e&&e.sortable){var t=this.data.getSorting(),n="asc";t&&e.key===t.key&&(n="asc"===t.direction?"desc":"asc"),this.data.setSorting(new se(e.key,n)),this.emitSortingChangedEvent(e.key,n)}},e.prototype.onSelectAllClick=function(e){if(this.isSelectAllChecked=e.checked,this.multiselect){var t=this.data.getRows();if(t&&0<t.length)for(var n=0;n<t.length;n++)this.selectRow(t[n],e.checked);var i=e.checked?"row-select":"row-unselect",o=0<this.selection.length?this.selection[0]:null;this.emitRowSelectionEvent(i,o)}},e.prototype.onCheckboxChange=function(e,t){var n=t.checked;this.selectRow(e,n);var i=n?"row-select":"row-unselect";this.emitRowSelectionEvent(i,e)},e.prototype.onImageLoadingError=function(e,t){if(e){var n=e.target;this.fallbackThumbnail?n.src=this.fallbackThumbnail:n.src=t.imageErrorResolver(e)}},e.prototype.isIconValue=function(e,t){if(e&&t){var n=e.getValue(t.key);return n&&n.startsWith("material-icons://")}return!1},e.prototype.asIconValue=function(e,t){return this.isIconValue(e,t)?(e.getValue(t.key)||"").replace("material-icons://",""):null},e.prototype.iconAltTextKey=function(e){return e?"ICONS."+e.substring(e.lastIndexOf("/")+1).replace(/\.[a-z]+/,""):""},e.prototype.isColumnSorted=function(e,t){if(e&&t){var n=this.data.getSorting();return n&&n.key===e.key&&n.direction===t}return!1},e.prototype.getContextMenuActions=function(e,t){var n=new gt(e,t,[]);return this.showRowContextMenu.emit(n),n.value.actions},e.prototype.getRowActions=function(e,t){var n=e.getValue("id");if(!this.rowMenuCache[n]){var i=new gt(e,t,[]);if(this.showRowActionsMenu.emit(i),!this.rowMenuCacheEnabled)return i.value.actions;this.rowMenuCache[n]=i.value.actions}return this.rowMenuCache[n]},e.prototype.onExecuteRowAction=function(e,t){t.disabled||t.disabled?event.stopPropagation():this.executeRowAction.emit(new vt(e,t))},e.prototype.rowAllowsDrop=function(e){return!0===e.isDropTarget},e.prototype.hasSelectionMode=function(){return this.isSingleSelectionMode()||this.isMultiSelectionMode()},e.prototype.isSingleSelectionMode=function(){return this.selectionMode&&"single"===this.selectionMode.toLowerCase()},e.prototype.isMultiSelectionMode=function(){return this.selectionMode&&"multiple"===this.selectionMode.toLowerCase()},e.prototype.getRowStyle=function(e){return e.cssClass=e.cssClass?e.cssClass:"",this.rowStyleClass=this.rowStyleClass?this.rowStyleClass:"",e.cssClass+" "+this.rowStyleClass},e.prototype.getSortingKey=function(){if(this.data.getSorting())return this.data.getSorting().key},e.prototype.selectRow=function(e,t){if(e){e.isSelected=t;var n=this.selection.indexOf(e);t?n<0&&this.selection.push(e):-1<n&&this.selection.splice(n,1)}},e.prototype.getCellTooltip=function(e,t){if(e&&t&&t.formatTooltip){var n=t.formatTooltip(e,t);if(n)return n}return null},e.prototype.getSortableColumns=function(){return this.data.getColumns().filter(function(e){return!0===e.sortable})},e.prototype.isEmpty=function(){return 0===this.data.getRows().length},e.prototype.isHeaderVisible=function(){return!this.loading&&!this.isEmpty()&&!this.noPermission},e.prototype.emitRowSelectionEvent=function(e,t){var n=new CustomEvent(e,{detail:{row:t,selection:this.selection},bubbles:!0});this.elementRef.nativeElement.dispatchEvent(n)},e.prototype.emitSortingChangedEvent=function(e,t){var n=new CustomEvent("sorting-changed",{detail:{key:e,direction:t},bubbles:!0});this.elementRef.nativeElement.dispatchEvent(n)},e.prototype.ngOnDestroy=function(){this.unsubscribeClickStream(),this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions=[],this.dataRowsChanged&&(this.dataRowsChanged.unsubscribe(),this.dataRowsChanged=null)},e.prototype.datatableLayoutFix=function(){if("gallery"===this.display)for(var e=0;e<25;e++)this.fakeRows.push("");else this.fakeRows=[]},e.prototype.getNameColumnValue=function(){return this.data.getColumns().find(function(e){return e.key.includes("name")})},e.prototype.getAutomationValue=function(e,t){var n=this.getNameColumnValue();return n?e.getValue(n.key):""},e.decorators=[{type:A.Component,args:[{selector:"adf-datatable",template:'<div\n    role="grid"\n    *ngIf="data" class="adf-full-width"\n    [class.adf-datatable-card]="display === \'gallery\'"\n    [class.adf-datatable-list]="display === \'list\'"\n    [class.adf-sticky-header]="stickyHeader"\n    [class.adf-datatable--empty]="!isHeaderVisible()">\n    <div *ngIf="showHeader && isHeaderVisible()" class="adf-datatable-header" role="rowgroup">\n        <div class="adf-datatable-row" *ngIf="display === \'list\'" role="row">\n            \x3c!-- Actions (left) --\x3e\n            <div *ngIf="actions && actionsPosition === \'left\'" class="adf-actions-column adf-datatable-cell-header">\n                <span class="adf-sr-only">Actions</span>\n            </div>\n            \x3c!-- Columns --\x3e\n            <div *ngIf="multiselect" class="adf-datatable-cell-header adf-datatable-checkbox">\n                <mat-checkbox [checked]="isSelectAllChecked" (change)="onSelectAllClick($event)" class="adf-checkbox-sr-only">{{ \'ADF-DATATABLE.ACCESSIBILITY.SELECT_ALL\' | translate }}</mat-checkbox>\n            </div>\n            <div class="adf-datatable-cell--{{col.type || \'text\'}} {{col.cssClass}} adf-datatable-cell-header"\n                 *ngFor="let col of data.getColumns()"\n                 [class.adf-sortable]="col.sortable"\n                 [attr.data-automation-id]="\'auto_id_\' + col.key"\n                 [class.adf-datatable__header--sorted-asc]="isColumnSorted(col, \'asc\')"\n                 [class.adf-datatable__header--sorted-desc]="isColumnSorted(col, \'desc\')"\n                 (click)="onColumnHeaderClick(col)"\n                 (keyup.enter)="onColumnHeaderClick(col)"\n                 role="columnheader"\n                 tabindex="0"\n                 title="{{ col.title | translate }}"\n                 adf-drop-zone dropTarget="header" [dropColumn]="col">\n                <span *ngIf="col.srTitle" class="adf-sr-only">{{ col.srTitle | translate }}</span>\n                <span *ngIf="col.title" class="adf-datatable-cell-value">{{ col.title | translate}}</span>\n            </div>\n            \x3c!-- Actions (right) --\x3e\n            <div *ngIf="actions && actionsPosition === \'right\'" class="adf-actions-column adf-datatable-cell-header adf-datatable__actions-cell">\n                <span class="adf-sr-only">Actions</span>\n            </div>\n        </div>\n        <mat-form-field *ngIf="display === \'gallery\'">\n            <mat-select [value]="getSortingKey()" [attr.data-automation-id]="\'grid-view-sorting\'">\n                <mat-option *ngFor="let col of getSortableColumns()"\n                            [value]="col.key"\n                            [attr.data-automation-id]="\'grid-view-sorting-\'+col.title"\n                            (click)="onColumnHeaderClick(col)"\n                            (keyup.enter)="onColumnHeaderClick(col)">\n                    {{ col.title | translate}}\n                </mat-option>\n            </mat-select>\n        </mat-form-field>\n    </div>\n\n    <div class="adf-datatable-body" role="rowgroup">\n        <ng-container *ngIf="!loading && !noPermission">\n            <div *ngFor="let row of data.getRows(); let idx = index"\n                 class="adf-datatable-row"\n                 role="row"\n                 [class.adf-is-selected]="row.isSelected"\n                 [adf-upload]="allowDropFiles && rowAllowsDrop(row)" [adf-upload-data]="row"\n                 [ngStyle]="rowStyle"\n                 [ngClass]="getRowStyle(row)"\n                 (keyup)="onRowKeyUp(row, $event)">\n                \x3c!-- Actions (left) --\x3e\n                <div *ngIf="actions && actionsPosition === \'left\'" role="gridcell" class="adf-datatable-cell">\n                    <button mat-icon-button [matMenuTriggerFor]="menu"\n                            [title]="\'ADF-DATATABLE.CONTENT-ACTIONS.TOOLTIP\' | translate"\n                            [attr.id]="\'action_menu_left_\' + idx"\n                            [attr.data-automation-id]="\'action_menu_\' + idx">\n                        <mat-icon>more_vert</mat-icon>\n                    </button>\n                    <mat-menu #menu="matMenu">\n                        <button mat-menu-item *ngFor="let action of getRowActions(row)"\n                                [attr.data-automation-id]="action.title"\n                                [disabled]="action.disabled"\n                                (click)="onExecuteRowAction(row, action)">\n                            <mat-icon *ngIf="action.icon">{{ action.icon }}</mat-icon>\n                            <span>{{ action.title | translate }}</span>\n                        </button>\n                    </mat-menu>\n                </div>\n\n                <div *ngIf="multiselect" class="adf-datatable-cell adf-datatable-checkbox">\n                    <mat-checkbox\n                        [checked]="row.isSelected"\n                        [attr.aria-checked]="row.isSelected"\n                        role="checkbox"\n                        (change)="onCheckboxChange(row, $event)"\n                        class="adf-checkbox-sr-only">\n                        {{ \'ADF-DATATABLE.ACCESSIBILITY.SELECT_FILE\' | translate }}\n                    </mat-checkbox>\n                </div>\n                <div *ngFor="let col of data.getColumns()"\n                     role="gridcell"\n                     class=" adf-datatable-cell adf-datatable-cell--{{col.type || \'text\'}} {{col.cssClass}}"\n                     [attr.title]="col.title | translate"\n                     [attr.data-automation-id]="getAutomationValue(row, col)"\n                     tabindex="0"\n                     (click)="onRowClick(row, $event)"\n                     (keydown.enter)="onEnterKeyPressed(row, $event)"\n                     [adf-context-menu]="getContextMenuActions(row, col)"\n                     [adf-context-menu-enabled]="contextMenu"\n                     adf-drop-zone dropTarget="cell" [dropColumn]="col" [dropRow]="row">\n                    <div *ngIf="!col.template" class="adf-datatable-cell-container">\n                        <ng-container [ngSwitch]="col.type">\n                            <div *ngSwitchCase="\'image\'" class="adf-cell-value">\n                                <mat-icon *ngIf="isIconValue(row, col); else no_iconvalue">{{ asIconValue(row, col) }}\n                                </mat-icon>\n                                <ng-template #no_iconvalue>\n                                    <mat-icon class="adf-datatable-selected"\n                                              *ngIf="row.isSelected && !multiselect; else no_selected_row" svgIcon="selected">\n                                    </mat-icon>\n                                    <ng-template #no_selected_row>\n                                        <img class="adf-datatable-center-img-ie"\n                                            [attr.aria-label]="data.getValue(row, col) | fileType"\n                                            alt="{{ iconAltTextKey(data.getValue(row, col)) | translate }}"\n                                            src="{{ data.getValue(row, col) }}"\n                                            (error)="onImageLoadingError($event, row)">\n                                    </ng-template>\n                                </ng-template>\n                            </div>\n                            <div *ngSwitchCase="\'icon\'" class="adf-cell-value">\n                                <span class="adf-sr-only">{{ iconAltTextKey(data.getValue(row, col)) | translate }}</span>\n                                <mat-icon>{{ data.getValue(row, col) }}</mat-icon>\n                            </div>\n                            <div *ngSwitchCase="\'date\'" class="adf-cell-value"\n                                 [attr.data-automation-id]="\'date_\' + (data.getValue(row, col) | date: \'medium\') ">\n                                <adf-date-cell class = "adf-datatable-center-date-column-ie"\n                                    [data]="data"\n                                    [column]="col"\n                                    [row]="row"\n                                    [tooltip]="getCellTooltip(row, col)">\n                                </adf-date-cell>\n                            </div>\n                            <div *ngSwitchCase="\'location\'" class="adf-cell-value"\n                                 [attr.data-automation-id]="\'location\' + data.getValue(row, col)">\n                                <adf-location-cell\n                                    [data]="data"\n                                    [column]="col"\n                                    [row]="row"\n                                    [tooltip]="getCellTooltip(row, col)">\n                                </adf-location-cell>\n                            </div>\n                            <div *ngSwitchCase="\'fileSize\'" class="adf-cell-value"\n                                 [attr.data-automation-id]="\'fileSize_\' + data.getValue(row, col)">\n                                <adf-filesize-cell class="adf-datatable-center-size-column-ie"\n                                    [data]="data"\n                                    [column]="col"\n                                    [row]="row"\n                                    [tooltip]="getCellTooltip(row, col)">\n                                </adf-filesize-cell>\n                            </div>\n                            <div *ngSwitchCase="\'text\'" class="adf-cell-value"\n                                 [attr.data-automation-id]="\'text_\' + data.getValue(row, col)">\n                                <adf-datatable-cell\n                                    [copyContent]="col.copyContent"\n                                    [data]="data"\n                                    [column]="col"\n                                    [row]="row"\n                                    [tooltip]="getCellTooltip(row, col)">\n                                </adf-datatable-cell>\n                            </div>\n                            <div *ngSwitchCase="\'json\'" class="adf-cell-value">\n                                <adf-json-cell\n                                    [copyContent]="col.copyContent"\n                                    [data]="data"\n                                    [column]="col"\n                                    [row]="row">\n                                </adf-json-cell>\n                            </div>\n                            <span *ngSwitchDefault class="adf-cell-value">\n                    \x3c!-- empty cell for unknown column type --\x3e\n                    </span>\n                        </ng-container>\n                    </div>\n                    <div *ngIf="col.template" class="adf-datatable-cell-container">\n                        <div class="adf-cell-value">\n                            <ng-container\n                                [ngTemplateOutlet]="col.template"\n                                [ngTemplateOutletContext]="{ $implicit: { data: data, row: row, col: col }, value: data.getValue(row, col) }">\n                            </ng-container>\n                        </div>\n                    </div>\n                </div>\n\n                \x3c!-- Actions (right) --\x3e\n                <div *ngIf="actions && actionsPosition === \'right\'"\n                     role="gridcell"\n                     class="adf-datatable-cell adf-datatable__actions-cell adf-datatable-center-actions-column-ie">\n                    <button mat-icon-button [matMenuTriggerFor]="menu"\n                            [title]="\'ADF-DATATABLE.CONTENT-ACTIONS.TOOLTIP\' | translate"\n                            [attr.id]="\'action_menu_right_\' + idx"\n                            [attr.data-automation-id]="\'action_menu_\' + idx">\n                        <mat-icon>more_vert</mat-icon>\n                    </button>\n                    <mat-menu #menu="matMenu">\n                        <button mat-menu-item *ngFor="let action of getRowActions(row)"\n                                [attr.data-automation-id]="action.title"\n                                [attr.aria-label]="action.title | translate"\n                                [disabled]="action.disabled"\n                                (click)="onExecuteRowAction(row, action)">\n                            <mat-icon *ngIf="action.icon">{{ action.icon }}</mat-icon>\n                            <span>{{ action.title | translate }}</span>\n                        </button>\n                    </mat-menu>\n                </div>\n\n            </div>\n            <div *ngIf="isEmpty()"\n                 role="row"\n                 [class.adf-datatable-row]="display === \'list\'"\n                 [class.adf-datatable-card-empty]="display === \'gallery\'">\n                <div class="adf-no-content-container adf-datatable-cell" role="gridcell">\n                    <ng-template *ngIf="noContentTemplate"\n                                 ngFor [ngForOf]="[data]"\n                                 [ngForTemplate]="noContentTemplate">\n                    </ng-template>\n                    <ng-content select="adf-empty-list"></ng-content>\n                </div>\n            </div>\n            <div *ngFor="let row of fakeRows"\n                 class="adf-datatable-row adf-datatable-row-empty-card">\n            </div>\n        </ng-container>\n        <div *ngIf="!loading && noPermission"\n             role="row"\n             [class.adf-datatable-row]="display === \'list\'"\n             [class.adf-datatable-card-permissions]="display === \'gallery\'"\n             class="adf-no-permission__row">\n            <div class="adf-no-permission__cell adf-no-content-container adf-datatable-cell">\n                <ng-template *ngIf="noPermissionTemplate"\n                             ngFor [ngForOf]="[data]"\n                             [ngForTemplate]="noPermissionTemplate">\n                </ng-template>\n            </div>\n        </div>\n        <div *ngIf="loading"\n             [class.adf-datatable-row]="display === \'list\'"\n             [class.adf-datatable-card-loading]="display === \'gallery\'">\n            <div class="adf-no-content-container adf-datatable-cell">\n                <ng-template *ngIf="loadingTemplate"\n                             ngFor [ngForOf]="[data]"\n                             [ngForTemplate]="loadingTemplate">\n                </ng-template>\n            </div>\n        </div>\n    </div>\n</div>\n',encapsulation:A.ViewEncapsulation.None,host:{"class":"adf-datatable"},styles:[""]}]}],e.ctorParameters=function(){return[{type:A.ElementRef},{type:A.IterableDiffers}]},e.propDecorators={columnList:[{type:A.ContentChild,args:[ot]}],data:[{type:A.Input}],display:[{type:A.Input}],rows:[{type:A.Input}],sorting:[{type:A.Input}],columns:[{type:A.Input}],selectionMode:[{type:A.Input}],multiselect:[{type:A.Input}],actions:[{type:A.Input}],actionsPosition:[{type:A.Input}],fallbackThumbnail:[{type:A.Input}],contextMenu:[{type:A.Input}],allowDropFiles:[{type:A.Input}],rowStyle:[{type:A.Input}],rowStyleClass:[{type:A.Input}],showHeader:[{type:A.Input}],stickyHeader:[{type:A.Input}],rowClick:[{type:A.Output}],rowDblClick:[{type:A.Output}],showRowContextMenu:[{type:A.Output}],showRowActionsMenu:[{type:A.Output}],executeRowAction:[{type:A.Output}],loading:[{type:A.Input}],noPermission:[{type:A.Input}],rowMenuCacheEnabled:[{type:A.Input}]},e}(),It=function(i){function e(e,t){var n=i.call(this,t)||this;return e&&e.select(Ce.Locale).subscribe(function(e){n.currentLocale=e}),n}return _(e,i),Object.defineProperty(e.prototype,"format",{get:function(){return this.column&&this.column.format||"medium"},enumerable:!0,configurable:!0}),e.decorators=[{type:A.Component,args:[{selector:"adf-date-cell",template:'\n        <ng-container>\n            <span\n                [attr.aria-label]="value$ | async | adfTimeAgo: currentLocale"\n                title="{{ tooltip | date: \'medium\' }}"\n                class="adf-datatable-cell-value"\n                *ngIf="format === \'timeAgo\'; else standard_date"\n            >\n                {{ value$ | async | adfTimeAgo: currentLocale }}\n            </span>\n        </ng-container>\n        <ng-template #standard_date>\n            <span\n                title="{{ tooltip | date: format }}"\n                class="adf-datatable-cell-value"\n                [attr.aria-label]="value$ | async | date: format"\n            >\n                {{ value$ | async | date: format }}\n            </span>\n        </ng-template>\n    ',encapsulation:A.ViewEncapsulation.None,host:{"class":"adf-date-cell adf-datatable-content-cell"}}]}],e.ctorParameters=function(){return[{type:Te},{type:H}]},e}(nt),wt=function(){function e(){}return e.decorators=[{type:A.Component,args:[{selector:"adf-empty-list",template:'<div class="adf-empty-list_template">\n    <ng-content select="[adf-empty-list-header]"></ng-content>\n    <ng-content select="[adf-empty-list-body]"></ng-content>\n    <ng-content select="[adf-empty-list-footer]"></ng-content>\n    <ng-content></ng-content>\n</div>',encapsulation:A.ViewEncapsulation.None,styles:[".adf-empty-list_template{text-align:center;margin-top:20px;margin-bottom:20px}"]}]}],e}(),Ct=function(){function e(){}return e.decorators=[{type:A.Directive,args:[{selector:"[adf-empty-list-header]"}]}],e}(),Tt=function(){function e(){}return e.decorators=[{type:A.Directive,args:[{selector:"[adf-empty-list-body]"}]}],e}(),St=function(){function e(){}return e.decorators=[{type:A.Directive,args:[{selector:"[adf-empty-list-footer]"}]}],e}(),At=function(t){function e(e){return t.call(this,e)||this}return _(e,t),e.decorators=[{type:A.Component,args:[{selector:"adf-filesize-cell",template:'\n        <ng-container>\n            <span\n                [title]="tooltip"\n                [attr.aria-label]="value$ | async | adfFileSize"\n                >{{ value$ | async | adfFileSize }}</span\n            >\n        </ng-container>\n    ',encapsulation:A.ViewEncapsulation.None,host:{"class":"adf-filesize-cell"}}]}],e.ctorParameters=function(){return[{type:H}]},e}(nt),Ot=function(t){function e(e){return t.call(this,e)||this}return _(e,t),e.prototype.ngOnInit=function(){if(this.column&&this.column.key&&this.row&&this.data){var e=this.data.getValue(this.row,this.column);if(e&&e.name&&e.elements){this.value$.next(e.name.split("/").pop()),this.tooltip||(this.tooltip=e.name);var t=e.elements[e.elements.length-1];this.link=[this.column.format,t.id]}}},e.decorators=[{type:A.Component,args:[{selector:"adf-location-cell",changeDetection:A.ChangeDetectionStrategy.OnPush,template:'\n        <ng-container>\n            <a href="" [title]="tooltip" [routerLink]="link">\n                {{ value$ | async }}\n            </a>\n        </ng-container>\n    ',encapsulation:A.ViewEncapsulation.None,host:{"class":"adf-location-cell adf-datatable-content-cell"}}]}],e.ctorParameters=function(){return[{type:H}]},e.propDecorators={link:[{type:A.Input}]},e}(nt),Dt=function(){function e(e){this.dataTable=e}return e.prototype.ngAfterContentInit=function(){this.dataTable&&(this.dataTable.loadingTemplate=this.template)},e.decorators=[{type:A.Directive,args:[{selector:"adf-loading-content-template, loading-content-template"}]}],e.ctorParameters=function(){return[{type:Et}]},e.propDecorators={template:[{type:A.ContentChild,args:[A.TemplateRef]}]},e}(),Rt=function(){function e(e){this.dataTable=e}return e.prototype.ngAfterContentInit=function(){this.dataTable&&(this.dataTable.noContentTemplate=this.template)},e.decorators=[{type:A.Directive,args:[{selector:"adf-no-content-template, no-content-template"}]}],e.ctorParameters=function(){return[{type:Et}]},e.propDecorators={template:[{type:A.ContentChild,args:[A.TemplateRef]}]},e}(),xt=function(){function e(e){this.dataTable=e}return e.prototype.ngAfterContentInit=function(){this.dataTable&&(this.dataTable.noPermissionTemplate=this.template)},e.decorators=[{type:A.Directive,args:[{selector:"adf-no-permission-template, no-permission-template"}]}],e.ctorParameters=function(){return[{type:Et}]},e.propDecorators={template:[{type:A.ContentChild,args:[A.TemplateRef]}]},e}(),_t=function(){function e(){}return e.decorators=[{type:A.Directive,args:[{selector:"adf-custom-empty-content-template, empty-folder-content"}]}],e}(),Pt=function(){function e(){}return e.decorators=[{type:A.Directive,args:[{selector:"adf-custom-loading-content-template"}]}],e}(),kt=function(){function e(){}return e.decorators=[{type:A.Directive,args:[{selector:"adf-custom-no-permission-template, no-permission-content"}]}],e}(),Lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _(t,e),t.prototype.ngOnInit=function(){this.column&&this.column.key&&this.row&&this.data&&this.value$.next(this.data.getValue(this.row,this.column))},t.decorators=[{type:A.Component,args:[{selector:"adf-json-cell",changeDetection:A.ChangeDetectionStrategy.OnPush,template:'\n        <ng-container>\n            <span *ngIf="copyContent; else defaultJsonTemplate" class="adf-datatable-cell-value">\n                <pre\n                    class="adf-datatable-json-cell"\n                    [adf-clipboard]="\'CLIPBOARD.CLICK_TO_COPY\'"\n                    [clipboard-notification]="\'CLIPBOARD.SUCCESS_COPY\'">{{ value$ | async | json }}</pre>\n            </span>\n        </ng-container>\n        <ng-template #defaultJsonTemplate>\n            <span class="adf-datatable-cell-value">\n                <pre class="adf-datatable-json-cell">{{ value$ | async | json }}</pre>\n            </span>\n        </ng-template>\n    ',encapsulation:A.ViewEncapsulation.None,host:{"class":"adf-datatable-content-cell"},styles:[".adf-datatable-json-cell{white-space:pre-wrap;word-wrap:break-word}.adf-datatable-cell-value{position:relative}"]}]}],t.propDecorators={copyContent:[{type:A.Input}]},t}(nt),Mt=function(){function e(e,t,n){this.snackBar=e,this.translationService=t,this.appConfigService=n,this.DEFAULT_DURATION_MESSAGE=5e3,this.DEFAULT_DURATION_MESSAGE=this.appConfigService.get(U.NOTIFY_DURATION)||this.DEFAULT_DURATION_MESSAGE}return e.prototype.openSnackMessage=function(e,t){t||(t=this.DEFAULT_DURATION_MESSAGE);var n=this.translationService.instant(e);return"number"==typeof t&&(t={duration:t}),this.snackBar.open(n,null,t)},e.prototype.openSnackMessageAction=function(e,t,n){n||(n=this.DEFAULT_DURATION_MESSAGE);var i=this.translationService.instant(e);return"number"==typeof n&&(n={duration:n}),this.snackBar.open(i,t,n)},e.prototype.dismissSnackMessageAction=function(){return this.snackBar.dismiss()},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:E.MatSnackBar},{type:Ae},{type:B}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(s.MatSnackBar),A.inject(Ae),A.inject(B))},token:e,providedIn:"root"}),e}(),Ft=function(){function e(e,t,n){this.document=e,this.logService=t,this.notificationService=n}return e.prototype.isTargetValid=function(e){return(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&!e.hasAttribute("disabled")},e.prototype.copyToClipboard=function(e,t){if(this.isTargetValid(e))try{e.select(),e.setSelectionRange(0,e.value.length),this.document.execCommand("copy"),this.notify(t)}catch(n){this.logService.error(n)}},e.prototype.copyContentToClipboard=function(t,e){try{document.addEventListener("copy",function(e){e.clipboardData.setData("text/plain",t),e.preventDefault(),document.removeEventListener("copy",null)}),document.execCommand("copy"),this.notify(e)}catch(n){this.logService.error(n)}},e.prototype.notify=function(e){e&&this.notificationService.openSnackMessage(e)},e.decorators=[{type:A.Injectable}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:A.Inject,args:[h.DOCUMENT]}]},{type:q},{type:Mt}]},e}(),Nt=function(){function e(e,t,n){this.clipboardService=e,this.viewContainerRef=t,this.resolver=n}return e.prototype.handleClickEvent=function(e){e.preventDefault(),e.stopPropagation(),this.copyToClipboard()},e.prototype.showTooltip=function(){if(this.placeholder){var e=this.resolver.resolveComponentFactory(Vt);this.viewContainerRef.createComponent(e).instance.placeholder=this.placeholder}},e.prototype.closeTooltip=function(){this.viewContainerRef.remove()},e.prototype.copyToClipboard=function(){this.clipboardService.isTargetValid(this.target)?this.clipboardService.copyToClipboard(this.target,this.message):this.copyContentToClipboard(this.viewContainerRef.element.nativeElement.innerHTML)},e.prototype.copyContentToClipboard=function(e){this.clipboardService.copyContentToClipboard(e,this.message)},e.decorators=[{type:A.Directive,args:[{selector:"[adf-clipboard]",exportAs:"adfClipboard"}]}],e.ctorParameters=function(){return[{type:Ft},{type:A.ViewContainerRef},{type:A.ComponentFactoryResolver}]},e.propDecorators={placeholder:[{type:A.Input,args:["adf-clipboard"]}],target:[{type:A.Input}],message:[{type:A.Input,args:["clipboard-notification"]}],handleClickEvent:[{type:A.HostListener,args:["click",["$event"]]}],showTooltip:[{type:A.HostListener,args:["mouseenter"]}],closeTooltip:[{type:A.HostListener,args:["mouseleave"]}]},e}(),Vt=function(){function e(){}return e.prototype.ngOnInit=function(){this.placeholder=this.placeholder||"CLIPBOARD.CLICK_TO_COPY"},e.decorators=[{type:A.Component,args:[{selector:"adf-copy-content-tooltip",template:"\n        <span class='adf-copy-tooltip'>{{ placeholder | translate }} </span>\n        ",encapsulation:A.ViewEncapsulation.None,styles:[""]}]}],e}(),Ut=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[S.CommonModule,D.TranslateModule.forChild()],providers:[Ft],declarations:[Nt,Vt],exports:[Nt],entryComponents:[Vt]}]}],e}(),jt=function(){function e(e,t){this.ngZone=t,this.dropTarget="cell",this.element=e.nativeElement}return e.prototype.ngOnInit=function(){var e=this;this.ngZone.runOutsideAngular(function(){e.element.addEventListener("dragover",e.onDragOver.bind(e)),e.element.addEventListener("drop",e.onDrop.bind(e))})},e.prototype.ngOnDestroy=function(){this.element.removeEventListener("dragover",this.onDragOver),this.element.removeEventListener("drop",this.onDrop)},e.prototype.onDragOver=function(e){var t=new CustomEvent(this.dropTarget+"-dragover",{detail:{target:this.dropTarget,event:e,column:this.dropColumn,row:this.dropRow},bubbles:!0});this.element.dispatchEvent(t),t.defaultPrevented&&(e.preventDefault(),e.stopPropagation())},e.prototype.onDrop=function(e){var t=new CustomEvent(this.dropTarget+"-drop",{detail:{target:this.dropTarget,event:e,column:this.dropColumn,row:this.dropRow},bubbles:!0});this.element.dispatchEvent(t),t.defaultPrevented&&(e.preventDefault(),e.stopPropagation())},e.decorators=[{type:A.Directive,args:[{selector:"[adf-drop-zone]"}]}],e.ctorParameters=function(){return[{type:A.ElementRef},{type:A.NgZone}]},e.propDecorators={dropTarget:[{type:A.Input}],dropRow:[{type:A.Input}],dropColumn:[{type:A.Input}]},e}(),Bt=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[m.RouterModule,pe,S.CommonModule,D.TranslateModule.forChild(),Ie,He,tt,Ut],declarations:[Et,wt,Ct,Tt,St,nt,It,At,Ot,Lt,Rt,xt,Dt,_t,Pt,kt,jt],exports:[Et,wt,Ct,Tt,St,nt,It,At,Ot,Lt,Rt,xt,Dt,_t,Pt,kt,jt]}]}],e}(),Ht=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[S.CommonModule],declarations:[it,ot],exports:[it,ot]}]}],e}(),Gt=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[S.CommonModule,pe,D.TranslateModule.forChild(),Bt,Ht],declarations:[ce],exports:[ce]}]}],e}(),Yt=function(){function a(e,t){this.apiService=e,this.logService=t,this.maxRetries=5,this.mimeTypes={text:["text/plain","text/csv","text/xml","text/html","application/x-javascript"],pdf:["application/pdf"],image:["image/png","image/jpeg","image/gif","image/bmp","image/svg+xml"],media:["video/mp4","video/webm","video/ogg","audio/mpeg","audio/ogg","audio/wav"]}}return a.prototype.printFile=function(e,t){var n=window.open(e,a.TARGET);n&&(t===a.ContentGroup.IMAGE&&(n.onfocus=function(){setTimeout(function(){n.close()},500)}),n.onload=function(){n.print()})},a.prototype.printFileGeneric=function(e,t){var i=this,o=e,r=this.getViewerTypeByMimeType(t);this.getRendition(o,a.ContentGroup.PDF).then(function(e){var t=i.getRenditionUrl(o,r,!!e),n=r===a.ContentGroup.PDF||r===a.ContentGroup.TEXT?a.ContentGroup.PDF:r;i.printFile(t,n)})["catch"](function(e){i.logService.error("Error with Printing"),i.logService.error(e)})},a.prototype.getRenditionUrl=function(e,t,n){return n&&t!==a.ContentGroup.IMAGE?this.apiService.contentApi.getRenditionUrl(e,a.ContentGroup.PDF):this.apiService.contentApi.getContentUrl(e,!1)},a.prototype.waitRendition=function(n,i,o){return k(this,void 0,void 0,function(){var t;return L(this,function(e){switch(e.label){case 0:return[4,this.apiService.renditionsApi.getRendition(n,i)];case 1:return t=e.sent(),this.maxRetries<o?"CREATED"!==t.entry.status.toString()?[3,2]:[2,t]:[3,5];case 2:return o+=1,[4,this.wait(1e3)];case 3:return e.sent(),[4,this.waitRendition(n,i,o)];case 4:return[2,e.sent()];case 5:return[2]}})})},a.prototype.getViewerTypeByMimeType=function(e){var t,n;if(e){e=e.toLowerCase();var i=Object.keys(this.mimeTypes);try{for(var o=M(i),r=o.next();!r.done;r=o.next()){var a=r.value;if(0<=this.mimeTypes[a].indexOf(e))return a}}catch(s){t={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(t)throw t.error}}}return"unknown"},a.prototype.wait=function(t){return new Promise(function(e){return setTimeout(e,t)})},a.prototype.getRendition=function(o,r){return k(this,void 0,void 0,function(){var t,n,i;return L(this,function(e){switch(e.label){case 0:return[4,this.apiService.renditionsApi.getRenditions(o)];case 1:if(t=e.sent(),!(n=t.list.entries.find(function(e){return e.entry.id.toLowerCase()===r})))return[3,6];if("NOT_CREATED"!==n.entry.status.toString())return[3,6];e.label=2;case 2:return e.trys.push([2,5,,6]),[4,this.apiService.renditionsApi.createRendition(o,{id:r})];case 3:return e.sent(),[4,this.waitRendition(o,r,0)];case 4:return n=e.sent(),[3,6];case 5:return i=e.sent(),this.logService.error(i),[3,6];case 6:return[2,new Promise(function(e){return e(n)})]}})})},a.TARGET="_new",a.ContentGroup={IMAGE:"image",MEDIA:"media",PDF:"pdf",TEXT:"text"},a.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],a.ctorParameters=function(){return[{type:H},{type:q}]},a.ngInjectableDef=A.defineInjectable({factory:function(){return new a(A.inject(H),A.inject(q))},token:a,providedIn:"root"}),a}(),zt=function(){function e(e){var t=this;this.router=e,this.currentUrl=this.router.url,this.router.events.subscribe(function(e){e instanceof m.NavigationEnd&&(t.previousUrl=t.currentUrl,t.currentUrl=e.url)})}return e.prototype.getPreviousUrl=function(){return this.previousUrl},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:m.Router}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(m.Router))},token:e,providedIn:"root"}),e}(),qt=function(){function e(){}return e.decorators=[{type:A.Component,args:[{selector:"adf-viewer-more-actions",encapsulation:A.ViewEncapsulation.None,changeDetection:A.ChangeDetectionStrategy.OnPush,host:{"class":"adf-viewer-more-actions"},template:"<ng-content></ng-content>"}]}],e}(),Wt=function(){function e(){}return e.decorators=[{type:A.Component,args:[{selector:"adf-viewer-open-with",encapsulation:A.ViewEncapsulation.None,changeDetection:A.ChangeDetectionStrategy.OnPush,host:{"class":"adf-viewer-open-with"},template:"<ng-content></ng-content>"}]}],e}(),$t=function(){function e(){}return e.decorators=[{type:A.Component,args:[{selector:"adf-viewer-sidebar",encapsulation:A.ViewEncapsulation.None,changeDetection:A.ChangeDetectionStrategy.OnPush,host:{"class":"adf-viewer-sidebar"},template:"<ng-content></ng-content>"}]}],e}(),Xt=function(){function e(){}return e.decorators=[{type:A.Component,args:[{selector:"adf-viewer-toolbar",encapsulation:A.ViewEncapsulation.None,changeDetection:A.ChangeDetectionStrategy.OnPush,host:{"class":"adf-viewer-toolbar"},template:"<ng-content></ng-content>"}]}],e}(),Kt=function(){function e(e,t,n,i,o,r,a,s){this.apiService=e,this.viewUtils=t,this.logService=n,this.location=i,this.extensionService=o,this.el=r,this.router=a,this.previousRouteService=s,this.urlFile="",this.urlFileViewer=null,this.nodeId=null,this.sharedLinkId=null,this.overlayMode=!1,this.showViewer=!0,this.showToolbar=!0,this.allowGoBack=!0,this.allowDownload=!0,this.allowPrint=!1,this.allowFullScreen=!0,this.allowNavigate=!1,this.canNavigateBefore=!0,this.canNavigateNext=!0,this.allowLeftSidebar=!1,this.allowRightSidebar=!1,this.allowThumbnails=!0,this.showRightSidebar=!1,this.showLeftSidebar=!1,this.sidebarRightTemplate=null,this.sidebarLeftTemplate=null,this.thumbnailsTemplate=null,this.maxRetries=10,this.goBack=new A.EventEmitter,this.print=new A.EventEmitter,this.showViewerChange=new A.EventEmitter,this.extensionChange=new A.EventEmitter,this.navigateBefore=new A.EventEmitter,this.navigateNext=new A.EventEmitter,this.invalidSharedLink=new A.EventEmitter,this.viewerType="unknown",this.isLoading=!1,this.extensionTemplates=[],this.externalExtensions=[],this.sidebarRightTemplateContext={node:null},this.sidebarLeftTemplateContext={node:null},this.viewerExtensions=[],this.subscriptions=[],this.extensions={image:["png","jpg","jpeg","gif","bpm","svg"],media:["wav","mp4","mp3","webm","ogg"],text:["txt","xml","html","json","ts","css","md"],pdf:["pdf"]},this.mimeTypes={text:["text/plain","text/csv","text/xml","text/html","application/x-javascript"],pdf:["application/pdf"],image:["image/png","image/jpeg","image/gif","image/bmp","image/svg+xml"],media:["video/mp4","video/webm","video/ogg","audio/mpeg","audio/ogg","audio/wav"]}}return e.prototype.isSourceDefined=function(){return!!(this.urlFile||this.blobFile||this.nodeId||this.sharedLinkId)},e.prototype.ngOnInit=function(){var t=this;this.subscriptions.push(this.apiService.nodeUpdated.subscribe(function(e){return t.onNodeUpdated(e)})),this.loadExtensions()},e.prototype.loadExtensions=function(){var t=this;this.viewerExtensions=this.extensionService.getViewerExtensions(),this.viewerExtensions.forEach(function(e){t.externalExtensions.push(e.fileExtension)})},e.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions=[]},e.prototype.onNodeUpdated=function(e){var t=this;e&&e.id===this.nodeId&&(this.generateCacheBusterNumber(),this.isLoading=!0,this.setUpNodeFile(e).then(function(){t.isLoading=!1}))},e.prototype.ngOnChanges=function(e){var t=this;if(this.showViewer){if(!this.isSourceDefined())throw new Error("A content source attribute value is missing.");this.isLoading=!0,this.blobFile?(this.setUpBlobData(),this.isLoading=!1):this.urlFile?(this.setUpUrlFile(),this.isLoading=!1):this.nodeId?this.apiService.nodesApi.getNode(this.nodeId,{include:["allowableOperations"]}).then(function(e){t.nodeEntry=e,t.setUpNodeFile(e.entry).then(function(){t.isLoading=!1})},function(e){t.isLoading=!1,t.logService.error("This node does not exist")}):this.sharedLinkId&&(this.allowGoBack=!1,this.apiService.sharedLinksApi.getSharedLink(this.sharedLinkId).then(function(e){t.setUpSharedLinkFile(e),t.isLoading=!1},function(){t.isLoading=!1,t.logService.error("This sharedLink does not exist"),t.invalidSharedLink.next()}))}},e.prototype.setUpBlobData=function(){this.fileTitle=this.getDisplayName("Unknown"),this.mimeType=this.blobFile.type,this.viewerType=this.getViewerTypeByMimeType(this.mimeType),this.allowDownload=!1,this.extensionChange.emit(this.mimeType),this.scrollTop()},e.prototype.setUpUrlFile=function(){var e=this.getFilenameFromUrl(this.urlFile);this.fileTitle=this.getDisplayName(e),this.extension=this.getFileExtension(e),this.urlFileContent=this.urlFile,this.fileName=this.displayName,this.viewerType=this.urlFileViewer||this.getViewerTypeByExtension(this.extension),"unknown"===this.viewerType&&(this.viewerType=this.getViewerTypeByMimeType(this.mimeType)),this.extensionChange.emit(this.extension),this.scrollTop()},e.prototype.setUpNodeFile=function(n){return k(this,void 0,void 0,function(){var t;return L(this,function(e){return n.content&&(this.mimeType=n.content.mimeType),this.fileTitle=this.getDisplayName(n.name),this.urlFileContent=this.apiService.contentApi.getContentUrl(n.id),this.urlFileContent=this.cacheBusterNumber?this.urlFileContent+"&"+this.cacheBusterNumber:this.urlFileContent,this.extension=this.getFileExtension(n.name),this.fileName=n.name,this.viewerType=this.getViewerTypeByExtension(this.extension),"unknown"===this.viewerType&&(this.viewerType=this.getViewerTypeByMimeType(this.mimeType)),"unknown"===this.viewerType&&(t=this.displayNodeRendition(n.id)),this.extensionChange.emit(this.extension),this.sidebarRightTemplateContext.node=n,this.sidebarLeftTemplateContext.node=n,this.scrollTop(),[2,t]})})},e.prototype.setUpSharedLinkFile=function(e){this.mimeType=e.entry.content.mimeType,this.fileTitle=this.getDisplayName(e.entry.name),this.extension=this.getFileExtension(e.entry.name),this.fileName=e.entry.name,this.urlFileContent=this.apiService.contentApi.getSharedLinkContentUrl(this.sharedLinkId,!1),this.viewerType=this.getViewerTypeByMimeType(this.mimeType),"unknown"===this.viewerType&&(this.viewerType=this.getViewerTypeByExtension(this.extension)),"unknown"===this.viewerType&&this.displaySharedLinkRendition(this.sharedLinkId),this.extensionChange.emit(this.extension)},e.prototype.toggleSidebar=function(){var t=this;this.showRightSidebar=!this.showRightSidebar,this.showRightSidebar&&this.nodeId&&this.apiService.getInstance().nodes.getNode(this.nodeId,{include:["allowableOperations"]}).then(function(e){t.sidebarRightTemplateContext.node=e.entry})},e.prototype.toggleLeftSidebar=function(){var t=this;this.showLeftSidebar=!this.showLeftSidebar,this.showRightSidebar&&this.nodeId&&this.apiService.getInstance().nodes.getNode(this.nodeId,{include:["allowableOperations"]}).then(function(e){t.sidebarLeftTemplateContext.node=e.entry})},e.prototype.getDisplayName=function(e){return this.displayName||e},e.prototype.scrollTop=function(){window.scrollTo(0,1)},e.prototype.getViewerTypeByMimeType=function(e){var t,n;if(e){e=e.toLowerCase();var i=Object.keys(this.mimeTypes);try{for(var o=M(i),r=o.next();!r.done;r=o.next()){var a=r.value;if(0<=this.mimeTypes[a].indexOf(e))return a}}catch(s){t={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(t)throw t.error}}}return"unknown"},e.prototype.getViewerTypeByExtension=function(e){return e&&(e=e.toLowerCase()),this.isCustomViewerExtension(e)?"custom":0<=this.extensions.image.indexOf(e)?"image":0<=this.extensions.media.indexOf(e)?"media":0<=this.extensions.text.indexOf(e)?"text":0<=this.extensions.pdf.indexOf(e)?"pdf":"unknown"},e.prototype.onBackButtonClick=function(){if(this.overlayMode)this.close();else{var e=new rt;if(this.goBack.next(e),!e.defaultPrevented){var t=this.previousRouteService.getPreviousUrl();t&&t.includes("login")||window.history.length<=2?this.router.navigate([{outlets:{overlay:null,primary:["home"]}}]):this.location.back()}}},e.prototype.onNavigateBeforeClick=function(){this.navigateBefore.next()},e.prototype.onNavigateNextClick=function(){this.navigateNext.next()},e.prototype.close=function(){this.otherMenu&&(this.otherMenu.hidden=!1),this.showViewer=!1,this.showViewerChange.emit(this.showViewer)},e.prototype.getFilenameFromUrl=function(e){var t=e.indexOf("#"),n=e.indexOf("?"),i=Math.min(0<t?t:e.length,0<n?n:e.length);return e.substring(e.lastIndexOf("/",i)+1,i)},e.prototype.getFileExtension=function(e){if(e){var t=e.match(/\.([^\./\?\#]+)($|\?|\#)/);return t?t[1]:null}return null},e.prototype.isCustomViewerExtension=function(e){var t=this.externalExtensions||[];return!!(e&&0<t.length)&&(e=e.toLowerCase(),0<=t.flat().indexOf(e))},e.prototype.handleKeyboardEvent=function(e){var t=e.keyCode;27===t&&this.overlayMode&&this.close(),37===t&&this.canNavigateBefore&&(e.preventDefault(),this.onNavigateBeforeClick()),39===t&&this.canNavigateNext&&(e.preventDefault(),this.onNavigateNextClick()),70===t&&e.ctrlKey&&(e.preventDefault(),this.enterFullScreen())},e.prototype.printContent=function(){if(this.allowPrint){var e=new rt;this.print.next(e),e.defaultPrevented||this.viewUtils.printFileGeneric(this.nodeId,this.mimeType)}},e.prototype.enterFullScreen=function(){if(this.allowFullScreen){var e=this.el.nativeElement.querySelector(".adf-viewer__fullscreen-container");e&&(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen())}},e.prototype.displayNodeRendition=function(o){return k(this,void 0,void 0,function(){var t,n,i;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.resolveRendition(o,"pdf")];case 1:return(t=e.sent())&&("pdf"===(n=t.entry.id)?this.viewerType="pdf":"imgpreview"===n&&(this.viewerType="image"),this.urlFileContent=this.apiService.contentApi.getRenditionUrl(o,n)),[3,3];case 2:return i=e.sent(),this.logService.error(i),[3,3];case 3:return[2]}})})},e.prototype.displaySharedLinkRendition=function(i){return k(this,void 0,void 0,function(){var t,n;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,7]),[4,this.apiService.renditionsApi.getSharedLinkRendition(i,"pdf")];case 1:return"CREATED"===e.sent().entry.status.toString()&&(this.viewerType="pdf",this.urlFileContent=this.apiService.contentApi.getSharedLinkRenditionUrl(i,"pdf")),[3,7];case 2:t=e.sent(),this.logService.error(t),e.label=3;case 3:return e.trys.push([3,5,,6]),[4,this.apiService.renditionsApi.getSharedLinkRendition(i,"imgpreview")];case 4:return"CREATED"===e.sent().entry.status.toString()&&(this.viewerType="image",this.urlFileContent=this.apiService.contentApi.getSharedLinkRenditionUrl(i,"imgpreview")),[3,6];case 5:return n=e.sent(),this.logService.error(n),[3,6];case 6:return[3,7];case 7:return[2]}})})},e.prototype.resolveRendition=function(r,a){return k(this,void 0,void 0,function(){var t,n,i,o=this;return L(this,function(e){switch(e.label){case 0:return a=a.toLowerCase(),[4,this.apiService.renditionsApi.getRenditions(r)];case 1:if(t=e.sent(),(n=t.list.entries.find(function(e){return e.entry.id.toLowerCase()===a}))||(a="imgpreview",n=t.list.entries.find(function(e){return e.entry.id.toLowerCase()===a})),!n)return[3,6];if("NOT_CREATED"!==n.entry.status.toString())return[3,6];e.label=2;case 2:return e.trys.push([2,5,,6]),[4,this.apiService.renditionsApi.createRendition(r,{id:a}).then(function(){o.viewerType="in_creation"})];case 3:return e.sent(),[4,this.waitRendition(r,a)];case 4:return n=e.sent(),[3,6];case 5:return i=e.sent(),this.logService.error(i),[3,6];case 6:return[2,n]}})})},e.prototype.waitRendition=function(r,a){return k(this,void 0,void 0,function(){var i,o=this;return L(this,function(e){return i=0,[2,new Promise(function(t,e){var n=setInterval(function(){i++,o.maxRetries>=i&&o.apiService.renditionsApi.getRendition(r,a).then(function(e){if("CREATED"===e.entry.status.toString())return"pdf"===a?o.viewerType="pdf":"imgpreview"===a&&(o.viewerType="image"),o.urlFileContent=o.apiService.contentApi.getRenditionUrl(r,a),clearInterval(n),t(e)},function(){return o.viewerType="error_in_creation",e()})},1e3)})]})})},e.prototype.checkExtensions=function(e){var t=this;return"string"==typeof e?this.extension.toLowerCase()===e.toLowerCase():0<e.length?e.find(function(e){return t.extension.toLowerCase()===e.toLowerCase()}):void 0},e.prototype.generateCacheBusterNumber=function(){this.cacheBusterNumber=Date.now()},e.decorators=[{type:A.Component,args:[{selector:"adf-viewer",template:'<div *ngIf="showViewer"\n     class="adf-viewer-container"\n     [class.adf-viewer-overlay-container]="overlayMode"\n     [class.adf-viewer-inline-container]="!overlayMode">\n\n    <div class="adf-viewer-content" fxLayout="column">\n        <ng-content select="adf-viewer-toolbar"></ng-content>\n        <ng-container *ngIf="showToolbar && !toolbar">\n            <adf-toolbar color="default" id="adf-viewer-toolbar" class="adf-viewer-toolbar">\n\n                <adf-toolbar-title>\n\n                    <ng-container *ngIf="allowLeftSidebar">\n                        <button\n                            mat-icon-button\n                            title="{{ \'ADF_VIEWER.ACTIONS.INFO\' | translate }}"\n                            data-automation-id="adf-toolbar-left-sidebar"\n                            [color]="showLeftSidebar ? \'accent\' : \'default\'"\n                            (click)="toggleLeftSidebar()">\n                            <mat-icon>info_outline</mat-icon>\n                        </button>\n                    </ng-container>\n\n                    <button *ngIf="allowGoBack"\n                            class="adf-viewer-close-button"\n                            data-automation-id="adf-toolbar-back"\n                            mat-icon-button\n                            title="{{ \'ADF_VIEWER.ACTIONS.CLOSE\' | translate }}"\n                            (click)="onBackButtonClick()">\n                        <mat-icon>close</mat-icon>\n                    </button>\n                </adf-toolbar-title>\n\n                <div fxFlex="1 1 auto" class="adf-viewer__file-title">\n                    <button\n                        *ngIf="allowNavigate && canNavigateBefore"\n                        data-automation-id="adf-toolbar-pref-file"\n                        mat-icon-button\n                        title="{{ \'ADF_VIEWER.ACTIONS.PREV_FILE\' | translate }}"\n                        (click)="onNavigateBeforeClick()">\n                        <mat-icon>navigate_before</mat-icon>\n                    </button>\n                    <img class="adf-viewer__mimeicon" [alt]="mimeType | adfMimeTypeIcon" [src]="mimeType | adfMimeTypeIcon" data-automation-id="adf-file-thumbnail">\n                    <span class="adf-viewer__display-name" id="adf-viewer-display-name">{{ fileTitle }}</span>\n                    <button\n                        *ngIf="allowNavigate && canNavigateNext"\n                        data-automation-id="adf-toolbar-next-file"\n                        mat-icon-button\n                        title="{{ \'ADF_VIEWER.ACTIONS.NEXT_FILE\' | translate }}"\n                        (click)="onNavigateNextClick()">\n                        <mat-icon>navigate_next</mat-icon>\n                    </button>\n                </div>\n\n                <ng-content select="adf-viewer-toolbar-actions"></ng-content>\n\n                <ng-container *ngIf="mnuOpenWith" data-automation-id=\'adf-toolbar-custom-btn\'>\n                    <button\n                        id="adf-viewer-openwith"\n                        mat-button\n                        [matMenuTriggerFor]="mnuOpenWith"\n                        data-automation-id="adf-toolbar-open-with">\n                        <span>{{ \'ADF_VIEWER.ACTIONS.OPEN_WITH\' | translate }}</span>\n                        <mat-icon>arrow_drop_down</mat-icon>\n                    </button>\n                    <mat-menu #mnuOpenWith="matMenu" [overlapTrigger]="false">\n                        <ng-content select="adf-viewer-open-with"></ng-content>\n                    </mat-menu>\n                </ng-container>\n\n                <adf-toolbar-divider></adf-toolbar-divider>\n\n                <button\n                    id="adf-viewer-download"\n                    *ngIf="allowDownload"\n                    mat-icon-button\n                    title="{{ \'ADF_VIEWER.ACTIONS.DOWNLOAD\' | translate }}"\n                    data-automation-id="adf-toolbar-download"\n                    [adfNodeDownload]="nodeEntry">\n                    <mat-icon>file_download</mat-icon>\n                </button>\n\n                <button\n                    id="adf-viewer-print"\n                    *ngIf="allowPrint"\n                    mat-icon-button\n                    title="{{ \'ADF_VIEWER.ACTIONS.PRINT\' | translate }}"\n                    data-automation-id="adf-toolbar-print"\n                    (click)="printContent()">\n                    <mat-icon>print</mat-icon>\n                </button>\n\n                <button\n                    id="adf-viewer-fullscreen"\n                    *ngIf="viewerType !== \'media\' && allowFullScreen"\n                    mat-icon-button\n                    title="{{ \'ADF_VIEWER.ACTIONS.FULLSCREEN\' | translate }}"\n                    data-automation-id="adf-toolbar-fullscreen"\n                    (click)="enterFullScreen()">\n                    <mat-icon>fullscreen</mat-icon>\n                </button>\n\n                <ng-container *ngIf="allowRightSidebar">\n                    <adf-toolbar-divider></adf-toolbar-divider>\n\n                    <button\n                        mat-icon-button\n                        title="{{ \'ADF_VIEWER.ACTIONS.INFO\' | translate }}"\n                        data-automation-id="adf-toolbar-sidebar"\n                        [color]="showRightSidebar ? \'accent\' : \'default\'"\n                        (click)="toggleSidebar()">\n                        <mat-icon>info_outline</mat-icon>\n                    </button>\n\n                </ng-container>\n\n                <ng-container *ngIf="mnuMoreActions">\n                    <button\n                        id="adf-viewer-moreactions"\n                        mat-icon-button\n                        [matMenuTriggerFor]="mnuMoreActions"\n                        title="{{ \'ADF_VIEWER.ACTIONS.MORE_ACTIONS\' | translate }}"\n                        data-automation-id="adf-toolbar-more-actions">\n                        <mat-icon>more_vert</mat-icon>\n                    </button>\n                    <mat-menu #mnuMoreActions="matMenu" [overlapTrigger]="false">\n                        <ng-content select="adf-viewer-more-actions"></ng-content>\n                    </mat-menu>\n                </ng-container>\n\n            </adf-toolbar>\n        </ng-container>\n\n        <div fxLayout="row" fxFlex="1 1 auto">\n            <ng-container *ngIf="allowRightSidebar && showRightSidebar">\n                <div class="adf-viewer__sidebar" [ngClass]="\'adf-viewer__sidebar__right\'" fxFlexOrder="4"  id="adf-right-sidebar" >\n                    <ng-container *ngIf="sidebarRightTemplate">\n                        <ng-container *ngTemplateOutlet="sidebarRightTemplate;context:sidebarRightTemplateContext"></ng-container>\n                    </ng-container>\n                    <ng-content *ngIf="!sidebarRightTemplate" select="adf-viewer-sidebar"></ng-content>\n                </div>\n            </ng-container>\n\n            <ng-container *ngIf="allowLeftSidebar && showLeftSidebar">\n                <div class="adf-viewer__sidebar" [ngClass]="\'adf-viewer__sidebar__left\'" fxFlexOrder="1"  id="adf-left-sidebar" >\n                    <ng-container *ngIf="sidebarLeftTemplate">\n                        <ng-container *ngTemplateOutlet="sidebarLeftTemplate;context:sidebarLeftTemplateContext"></ng-container>\n                    </ng-container>\n                    <ng-content *ngIf="!sidebarLeftTemplate" select="adf-viewer-sidebar"></ng-content>\n                </div>\n            </ng-container>\n\n            <div  *ngIf="isLoading"  class="adf-viewer-main" fxFlexOrder="1" fxFlex="1 1 auto">\n                <div class="adf-viewer-layout-content adf-viewer__fullscreen-container">\n                    <div class="adf-viewer-content-container">\n                        <ng-container *ngIf="isLoading">\n                            <div class="adf-viewer__loading-screen" fxFlex="1 1 auto">\n                                <h2>{{ \'ADF_VIEWER.LOADING\' | translate }}</h2>\n                                <div>\n                                    <mat-spinner></mat-spinner>\n                                </div>\n                            </div>\n                        </ng-container>\n\n                    </div>\n                </div>\n            </div>\n\n            <div  *ngIf="!isLoading"  class="adf-viewer-main" fxFlexOrder="1" fxFlex="1 1 auto">\n                <div class="adf-viewer-layout-content adf-viewer__fullscreen-container">\n                    <div class="adf-viewer-content-container" [ngSwitch]="viewerType">\n\n                        <ng-container *ngSwitchCase="\'pdf\'">\n                            <adf-pdf-viewer [thumbnailsTemplate]="thumbnailsTemplate" [allowThumbnails]="allowThumbnails" [blobFile]="blobFile" [urlFile]="urlFileContent" [nameFile]="displayName"></adf-pdf-viewer>\n                        </ng-container>\n\n                        <ng-container *ngSwitchCase="\'image\'">\n                            <adf-img-viewer [urlFile]="urlFileContent" [nameFile]="displayName" [blobFile]="blobFile"></adf-img-viewer>\n                        </ng-container>\n\n                        <ng-container *ngSwitchCase="\'media\'">\n                            <adf-media-player id="adf-mdedia-player" [urlFile]="urlFileContent" [mimeType]="mimeType" [blobFile]="blobFile" [nameFile]="displayName"></adf-media-player>\n                        </ng-container>\n\n                        <ng-container *ngSwitchCase="\'text\'">\n                            <adf-txt-viewer [urlFile]="urlFileContent" [blobFile]="blobFile"></adf-txt-viewer>\n                        </ng-container>\n\n                        <ng-container *ngSwitchCase="\'in_creation\'">\n                            <div class="adf-viewer__loading-screen" fxFlex="1 1 auto">\n                                <h2>{{ \'ADF_VIEWER.LOADING\' | translate }}</h2>\n                                <div>\n                                    <mat-spinner></mat-spinner>\n                                </div>\n                            </div>\n                        </ng-container>\n\n                        <ng-container *ngSwitchCase="\'custom\'">\n                            <ng-container *ngFor="let ext of viewerExtensions">\n                                <adf-preview-extension\n                                    *ngIf="checkExtensions(ext.fileExtension)"\n                                    [id]="ext.component"\n                                    [node]="nodeEntry.entry"\n                                    [url]="urlFileContent"\n                                    [extension]="extension"\n                                    [attr.data-automation-id]="ext.component">\n                                </adf-preview-extension>\n                            </ng-container>\n\n                            <span class="adf-viewer-custom-content" *ngFor="let extensionTemplate of extensionTemplates">\n                                <ng-template\n                                    *ngIf="extensionTemplate.isVisible"\n                                    [ngTemplateOutlet]="extensionTemplate.template"\n                                    [ngTemplateOutletContext]="{ urlFileContent: urlFileContent, extension:extension }">\n                                </ng-template>\n                            </span>\n                        </ng-container>\n\n                        <ng-container *ngSwitchDefault>\n                            <adf-viewer-unknown-format></adf-viewer-unknown-format>\n                        </ng-container>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</div>\n',host:{"class":"adf-viewer"},encapsulation:A.ViewEncapsulation.None,styles:[""]}]}],e.ctorParameters=function(){return[{type:H},{type:Yt},{type:q},{type:S.Location},{type:R.AppExtensionService},{type:A.ElementRef},{type:m.Router},{type:zt}]},e.propDecorators={toolbar:[{type:A.ContentChild,args:[Xt]}],sidebar:[{type:A.ContentChild,args:[$t]}],mnuOpenWith:[{type:A.ContentChild,args:[Wt]}],mnuMoreActions:[{type:A.ContentChild,args:[qt]}],urlFile:[{type:A.Input}],urlFileViewer:[{type:A.Input}],blobFile:[{type:A.Input}],nodeId:[{type:A.Input}],sharedLinkId:[{type:A.Input}],overlayMode:[{type:A.Input}],showViewer:[{type:A.Input}],showToolbar:[{type:A.Input}],displayName:[{type:A.Input}],allowGoBack:[{type:A.Input}],allowDownload:[{type:A.Input}],allowPrint:[{type:A.Input}],allowFullScreen:[{type:A.Input}],allowNavigate:[{type:A.Input}],canNavigateBefore:[{type:A.Input}],canNavigateNext:[{type:A.Input}],allowLeftSidebar:[{type:A.Input}],allowRightSidebar:[{type:A.Input}],allowThumbnails:[{type:A.Input}],showRightSidebar:[{type:A.Input}],showLeftSidebar:[{type:A.Input}],sidebarRightTemplate:[{type:A.Input}],sidebarLeftTemplate:[{type:A.Input}],thumbnailsTemplate:[{type:A.Input}],mimeType:[{type:A.Input}],fileName:[{type:A.Input}],maxRetries:[{type:A.Input}],goBack:[{type:A.Output}],print:[{type:A.Output}],showViewerChange:[{type:A.Output}],extensionChange:[{type:A.Output}],navigateBefore:[{type:A.Output}],navigateNext:[{type:A.Output}],invalidSharedLink:[{type:A.Output}],handleKeyboardEvent:[{type:A.HostListener,args:["document:keyup",["$event"]]}]},e}(),Jt=function(){function e(e,t,n){this.appConfigService=e,this.contentService=t,this.el=n,this.showToolbar=!0,this.rotate=0,this.scaleX=1,this.scaleY=1,this.offsetX=0,this.offsetY=0,this.isDragged=!1,this.drag={x:0,y:0},this.delta={x:0,y:0},this.initializeScaling()}return Object.defineProperty(e.prototype,"transform",{get:function(){return"scale("+this.scaleX+", "+this.scaleY+") rotate("+this.rotate+"deg) translate("+this.offsetX+"px, "+this.offsetY+"px)"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentScaleText",{get:function(){return Math.round(100*this.scaleX)+"%"},enumerable:!0,configurable:!0}),e.prototype.initializeScaling=function(){var e=this.appConfigService.get("adf-viewer.image-viewer-scaling",undefined)/100;e&&(this.scaleX=e,this.scaleY=e)},e.prototype.ngOnInit=function(){this.element=this.el.nativeElement.querySelector("#viewer-image"),this.element&&(this.element.addEventListener("mousedown",this.onMouseDown.bind(this)),this.element.addEventListener("mouseup",this.onMouseUp.bind(this)),this.element.addEventListener("mouseleave",this.onMouseLeave.bind(this)),this.element.addEventListener("mouseout",this.onMouseOut.bind(this)),this.element.addEventListener("mousemove",this.onMouseMove.bind(this)))},e.prototype.ngOnDestroy=function(){this.element&&(this.element.removeEventListener("mousedown",this.onMouseDown),this.element.removeEventListener("mouseup",this.onMouseUp),this.element.removeEventListener("mouseleave",this.onMouseLeave),this.element.removeEventListener("mouseout",this.onMouseOut),this.element.removeEventListener("mousemove",this.onMouseMove))},e.prototype.onMouseDown=function(e){e.preventDefault(),this.isDragged=!0,this.drag={x:e.pageX,y:e.pageY}},e.prototype.onMouseMove=function(e){if(this.isDragged){e.preventDefault(),this.delta.x=e.pageX-this.drag.x,this.delta.y=e.pageY-this.drag.y,this.drag.x=e.pageX,this.drag.y=e.pageY;var t=0!==this.scaleX?this.scaleX:1,n=0!==this.scaleY?this.scaleY:1;this.offsetX+=this.delta.x/t,this.offsetY+=this.delta.y/n}},e.prototype.onMouseUp=function(e){this.isDragged&&(e.preventDefault(),this.isDragged=!1)},e.prototype.onMouseLeave=function(e){this.isDragged&&(e.preventDefault(),this.isDragged=!1)},e.prototype.onMouseOut=function(e){this.isDragged&&(e.preventDefault(),this.isDragged=!1)},e.prototype.ngOnChanges=function(e){var t=e.blobFile;if(t&&t.currentValue)this.urlFile=this.contentService.createTrustedUrl(this.blobFile);else if(!this.urlFile&&!this.blobFile)throw new Error("Attribute urlFile or blobFile is required")},e.prototype.zoomIn=function(){var e=+(this.scaleX+.2).toFixed(1);this.scaleX=this.scaleY=e},e.prototype.zoomOut=function(){var e=+(this.scaleX-.2).toFixed(1);e<.2&&(e=.2),this.scaleX=this.scaleY=e},e.prototype.rotateLeft=function(){var e=this.rotate-90;this.rotate=Math.abs(e)<360?e:0},e.prototype.rotateRight=function(){var e=this.rotate+90;this.rotate=Math.abs(e)<360?e:0},e.prototype.reset=function(){this.rotate=0,this.scaleX=1,this.scaleY=1,this.offsetX=0,this.offsetY=0},e.decorators=[{type:A.Component,args:[{selector:"adf-img-viewer",template:'<div class="adf-image-container" tabindex="0" role="img" [attr.aria-label]="nameFile" [ngStyle]="{ transform: transform }" data-automation-id="adf-image-container">\n    <img id="viewer-image" [src]="urlFile" [alt]="nameFile" [ngStyle]="{ \'cursor\' : isDragged ? \'move\': \'default\' } " />\n</div>\n\n<div class="adf-image-viewer__toolbar" *ngIf="showToolbar">\n    <adf-toolbar>\n        <button\n            id="viewer-zoom-in-button"\n            mat-icon-button\n            title="{{ \'ADF_VIEWER.ARIA.ZOOM_IN\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.ZOOM_IN\' | translate }}"\n            (click)="zoomIn()">\n            <mat-icon>zoom_in</mat-icon>\n        </button>\n\n        <button\n            id="viewer-zoom-out-button"\n            title="{{ \'ADF_VIEWER.ARIA.ZOOM_OUT\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.ZOOM_OUT\' | translate }}"\n            mat-icon-button\n            (click)="zoomOut()">\n            <mat-icon>zoom_out</mat-icon>\n        </button>\n\n        <div class="adf-viewer__toolbar-page-scale" data-automation-id="adf-page-scale">\n            {{ currentScaleText }}\n        </div>\n\n        <button\n            id="viewer-rotate-left-button"\n            title="{{ \'ADF_VIEWER.ARIA.ROTATE_LEFT\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.ROTATE_LEFT\' | translate }}"\n            mat-icon-button\n            (click)="rotateLeft()">\n            <mat-icon>rotate_left</mat-icon>\n        </button>\n\n        <button\n            id="viewer-rotate-right-button"\n            title="{{ \'ADF_VIEWER.ARIA.ROTATE_RIGHT\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.ROTATE_RIGHT\' | translate }}"\n            mat-icon-button\n            (click)="rotateRight()">\n            <mat-icon>rotate_right</mat-icon>\n        </button>\n\n        <button\n            id="viewer-reset-button"\n            title="{{ \'ADF_VIEWER.ARIA.RESET\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.RESET\' | translate }}"\n            mat-icon-button\n            (click)="reset()">\n            <mat-icon>zoom_out_map</mat-icon>\n        </button>\n    </adf-toolbar>\n</div>\n',host:{"class":"adf-image-viewer"},encapsulation:A.ViewEncapsulation.None,styles:[""]}]}],e.ctorParameters=function(){return[{type:B},{type:xe},{type:A.ElementRef}]},e.propDecorators={showToolbar:[{type:A.Input}],urlFile:[{type:A.Input}],blobFile:[{type:A.Input}],nameFile:[{type:A.Input}]},e}(),Qt=function(){function e(e){this.contentService=e}return e.prototype.ngOnChanges=function(e){var t=e.blobFile;if(t&&t.currentValue)this.urlFile=this.contentService.createTrustedUrl(this.blobFile);else if(!this.urlFile&&!this.blobFile)throw new Error("Attribute urlFile or blobFile is required")},e.decorators=[{type:A.Component,args:[{selector:"adf-media-player",template:'<video controls>\n    <source [src]="urlFile" [type]="mimeType" />\n</video>\n',host:{"class":"adf-media-player"},encapsulation:A.ViewEncapsulation.None,styles:[".adf-media-player{display:flex}.adf-media-player video{display:flex;flex:1;max-height:90vh;max-width:100%}"]}]}],e.ctorParameters=function(){return[{type:xe}]},e.propDecorators={urlFile:[{type:A.Input}],blobFile:[{type:A.Input}],mimeType:[{type:A.Input}],nameFile:[{type:A.Input}]},e}(),Zt=function(){function e(){this.renderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},this.CLEANUP_TIMEOUT=3e4,this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}return e.prototype.setViewer=function(e){this.pdfViewer=e},e.prototype.setThumbnailViewer=function(e){this.pdfThumbnailViewer=e},e.prototype.isHighestPriority=function(e){return this.highestPriorityPage===e.renderingId},e.prototype.renderHighestPriority=function(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(e)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),this.CLEANUP_TIMEOUT))},e.prototype.getHighestPriority=function(e,t,n){var i=e.views,o=i.length;if(0===o)return!1;for(var r=0;r<o;++r){var a=i[r].view;if(!this.isViewFinished(a))return a}if(n){var s=e.last.id;if(t[s]&&!this.isViewFinished(t[s]))return t[s]}else{var l=e.first.id-2;if(t[l]&&!this.isViewFinished(t[l]))return t[l]}return null},e.prototype.isViewFinished=function(e){return e.renderingState===this.renderingStates.FINISHED},e.prototype.renderView=function(e){switch(e.renderingState){case this.renderingStates.FINISHED:return!1;case this.renderingStates.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case this.renderingStates.RUNNING:this.highestPriorityPage=e.renderingId;break;case this.renderingStates.INITIAL:this.highestPriorityPage=e.renderingId;var t=function(){this.renderHighestPriority()}.bind(this);e.draw().then(t,t)}return!0},e.decorators=[{type:A.Injectable}],e}(),en=function(){function e(e,t){this.dialogRef=e,this.data=t}return e.prototype.ngOnInit=function(){this.passwordFormControl=new O.FormControl("",[O.Validators.required])},e.prototype.isError=function(){return this.data.reason===pdfjsLib.PasswordResponses.INCORRECT_PASSWORD},e.prototype.isValid=function(){return!this.passwordFormControl.hasError("required")},e.prototype.submit=function(){this.dialogRef.close(this.passwordFormControl.value)},e.decorators=[{type:A.Component,args:[{selector:"adf-pdf-viewer-password-dialog",template:'<div mat-dialog-title>\n    <mat-icon>lock</mat-icon>\n</div>\n\n<mat-dialog-content>\n    <form (submit)="submit()">\n        <mat-form-field class="adf-full-width">\n            <input matInput\n                   data-automation-id=\'adf-password-dialog-input\'\n                   type="password"\n                   placeholder="{{ \'ADF_VIEWER.PDF_DIALOG.PLACEHOLDER\' | translate }}"\n                   [formControl]="passwordFormControl" />\n        </mat-form-field>\n\n        <mat-error *ngIf="isError()" data-automation-id=\'adf-password-dialog-error\'>{{ \'ADF_VIEWER.PDF_DIALOG.ERROR\' | translate }}</mat-error>\n    </form>\n</mat-dialog-content>\n\n<mat-dialog-actions class="adf-dialog-buttons">\n    <span class="adf-fill-remaining-space"></span>\n\n    <button mat-button mat-dialog-close>{{ \'ADF_VIEWER.PDF_DIALOG.CLOSE\' | translate }}</button>\n\n    <button mat-button\n            data-automation-id=\'adf-password-dialog-submit\'\n            class="adf-dialog-action-button"\n            [disabled]="!isValid()"\n            (click)="submit()">\n        {{ \'ADF_VIEWER.PDF_DIALOG.SUBMIT\' | translate }}\n    </button>\n</mat-dialog-actions>\n',styles:[".adf-fill-remaining-space{flex:1 1 auto}.adf-full-width{width:100%}"]}]}],e.ctorParameters=function(){return[{type:E.MatDialogRef},{type:undefined,decorators:[{type:A.Inject,args:[E.MAT_DIALOG_DATA]}]}]},e}(),tn=function(){function e(e,t,n,i){this.dialog=e,this.renderingQueueServices=t,this.logService=n,this.appConfigService=i,this.showToolbar=!0,this.allowThumbnails=!1,this.thumbnailsTemplate=null,this.rendered=new A.EventEmitter,this.error=new A.EventEmitter,this.currentScaleMode="auto",this.currentScale=1,this.MAX_AUTO_SCALE=1.25,this.DEFAULT_SCALE_DELTA=1.1,this.MIN_SCALE=.25,this.MAX_SCALE=10,this.isPanelDisabled=!0,this.showThumbnails=!1,this.pdfThumbnailsContext={viewer:null},this.onPageChange=this.onPageChange.bind(this),this.onPagesLoaded=this.onPagesLoaded.bind(this),this.onPageRendered=this.onPageRendered.bind(this),this.randomPdfId=this.generateUuid(),this.currentScale=this.getUserScaling()}return Object.defineProperty(e.prototype,"currentScaleText",{get:function(){return Math.round(100*this.currentScale)+"%"},enumerable:!0,configurable:!0}),e.prototype.getUserScaling=function(){var e=this.appConfigService.get("adf-viewer.pdf-viewer-scaling",undefined)/100;return e?this.checkLimits(e):1},e.prototype.checkLimits=function(e){return e>this.MAX_SCALE?this.MAX_SCALE:e<this.MIN_SCALE?this.MIN_SCALE:e},e.prototype.ngOnChanges=function(e){var t=this,n=e.blobFile;if(n&&n.currentValue){var i=new FileReader;i.onload=function(){var e={data:i.result,withCredentials:t.appConfigService.get("auth.withCredentials",undefined)};t.executePdf(e)},i.readAsArrayBuffer(n.currentValue)}var o=e.urlFile;if(o&&o.currentValue){var r={url:o.currentValue,withCredentials:this.appConfigService.get("auth.withCredentials",undefined)};this.executePdf(r)}if(!this.urlFile&&!this.blobFile)throw new Error("Attribute urlFile or blobFile is required")},e.prototype.executePdf=function(e){var n=this;pdfjsLib.GlobalWorkerOptions.workerSrc="pdf.worker.min.js",this.loadingTask=pdfjsLib.getDocument(e),this.loadingTask.onPassword=function(e,t){n.onPdfPassword(e,t)},this.loadingTask.onProgress=function(e){var t=e.loaded/e.total;n.loadingPercent=Math.round(100*t)},this.loadingTask.then(function(e){n.currentPdfDocument=e,n.totalPages=e.numPages,n.page=1,n.displayPage=1,n.initPDFViewer(n.currentPdfDocument),n.currentPdfDocument.getPage(1).then(function(){n.scalePage("auto")},function(e){n.error.emit()})},function(e){n.error.emit()})},e.prototype.initPDFViewer=function(e){var t=document.getElementById(this.randomPdfId+"-viewer-viewerPdf"),n=document.getElementById(this.randomPdfId+"-viewer-pdf-viewer");t&&n&&(this.documentContainer=n,this.documentContainer.addEventListener("pagechange",this.onPageChange,!0),this.documentContainer.addEventListener("pagesloaded",this.onPagesLoaded,!0),this.documentContainer.addEventListener("textlayerrendered",this.onPageRendered,!0),this.pdfViewer=new pdfjsViewer.PDFViewer({container:this.documentContainer,viewer:t,renderingQueue:this.renderingQueueServices}),this.renderingQueueServices.setViewer(this.pdfViewer),this.pdfViewer.setDocument(e),this.pdfThumbnailsContext.viewer=this.pdfViewer)},e.prototype.ngOnDestroy=function(){if(this.documentContainer&&(this.documentContainer.removeEventListener("pagechange",this.onPageChange,!0),this.documentContainer.removeEventListener("pagesloaded",this.onPagesLoaded,!0),this.documentContainer.removeEventListener("textlayerrendered",this.onPageRendered,!0)),this.loadingTask){try{this.loadingTask.destroy()}catch(e){}this.loadingTask=null}},e.prototype.toggleThumbnails=function(){this.showThumbnails=!this.showThumbnails},e.prototype.scalePage=function(e){this.currentScaleMode=e;var t=document.getElementById(this.randomPdfId+"-viewer-main-container"),n=document.getElementById(this.randomPdfId+"-viewer-pdf-viewer");if(this.pdfViewer&&n){var i=void 0,o=void 0;o=t&&t.clientWidth<=n.clientWidth?(i=t.clientWidth,t.clientHeight):(i=n.clientWidth,n.clientHeight);var r=this.pdfViewer._pages[this.pdfViewer._currentPageNumber-1],a=(i-20)/r.width*r.scale,s=(o-20)/r.width*r.scale,l=this.getUserScaling();if(l)this.currentScale=0,this.setScaleUpdatePages(l);else{switch(this.currentScaleMode){case"page-actual":l=1;break;case"page-width":l=a;break;case"page-height":l=s;break;case"page-fit":l=Math.min(a,s);break;case"auto":var c=void 0;c=this.isLandscape?Math.min(s,a):a,c=Math.round(c),l=Math.min(this.MAX_AUTO_SCALE,c);break;default:return void this.logService.error("pdfViewSetScale: '"+e+"' is an unknown zoom value.")}this.setScaleUpdatePages(l)}}},e.prototype.setScaleUpdatePages=function(t){this.pdfViewer&&(this.isSameScale(this.currentScale,t)||(this.currentScale=t,this.pdfViewer._pages.forEach(function(e){e.update(t)})),this.pdfViewer.update())},e.prototype.isSameScale=function(e,t){return t===e},e.prototype.isLandscape=function(e,t){return t<e},e.prototype.onResize=function(){this.scalePage(this.currentScaleMode)},e.prototype.pageFit=function(){"page-fit"!==this.currentScaleMode?this.scalePage("page-fit"):this.scalePage("auto")},e.prototype.zoomIn=function(e){for(var t=this.currentScale;t=(t*this.DEFAULT_SCALE_DELTA).toFixed(2),t=Math.ceil(10*t)/10,t=Math.min(this.MAX_SCALE,t),0<--e&&t<this.MAX_SCALE;);this.currentScaleMode="auto",this.setScaleUpdatePages(t)},e.prototype.zoomOut=function(e){for(var t=this.currentScale;t=(t/this.DEFAULT_SCALE_DELTA).toFixed(2),t=Math.floor(10*t)/10,t=Math.max(this.MIN_SCALE,t),0<--e&&t>this.MIN_SCALE;);this.currentScaleMode="auto",this.setScaleUpdatePages(t)},e.prototype.previousPage=function(){this.pdfViewer&&1<this.page&&(this.page--,this.displayPage=this.page,this.pdfViewer.currentPageNumber=this.page)},e.prototype.nextPage=function(){this.pdfViewer&&this.page<this.totalPages&&(this.page++,this.displayPage=this.page,this.pdfViewer.currentPageNumber=this.page)},e.prototype.inputPage=function(e){var t=parseInt(e,10);!isNaN(t)&&0<t&&t<=this.totalPages?(this.page=t,this.displayPage=this.page,this.pdfViewer.currentPageNumber=this.page):this.displayPage=this.page},e.prototype.onPageChange=function(e){this.page=e.pageNumber,this.displayPage=e.pageNumber},e.prototype.onPdfPassword=function(t,e){this.dialog.open(en,{width:"400px",disableClose:!0,data:{reason:e}}).afterClosed().subscribe(function(e){e&&t(e)})},e.prototype.onPageRendered=function(){this.rendered.emit()},e.prototype.onPagesLoaded=function(e){this.isPanelDisabled=!1},e.prototype.handleKeyboardEvent=function(e){var t=e.keyCode;39===t?this.nextPage():37===t&&this.previousPage()},e.prototype.generateUuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},e.decorators=[{type:A.Component,args:[{selector:"adf-pdf-viewer",template:'<div class="adf-pdf-viewer__container">\n    <ng-container *ngIf="showThumbnails">\n        <div class="adf-pdf-viewer__thumbnails">\n            <div class="adf-thumbnails-template__container">\n                <div class="adf-thumbnails-template__buttons">\n                    <button mat-icon-button data-automation-id=\'adf-thumbnails-close\' (click)="toggleThumbnails()">\n                        <mat-icon>close</mat-icon>\n                    </button>\n                </div>\n\n                <ng-container *ngIf="thumbnailsTemplate">\n                    <ng-container *ngTemplateOutlet="thumbnailsTemplate;context:pdfThumbnailsContext"></ng-container>\n                </ng-container>\n\n                <ng-container *ngIf="!thumbnailsTemplate">\n                    <adf-pdf-thumbnails [pdfViewer]="pdfViewer"></adf-pdf-thumbnails>\n                </ng-container>\n            </div>\n        </div>\n    </ng-container>\n\n    <div class="adf-pdf-viewer__content">\n        <div [id]="randomPdfId+\'-viewer-pdf-viewer\'" class="adf-viewer-pdf-viewer" (window:resize)="onResize()">\n            <div [id]="randomPdfId+\'-viewer-viewerPdf\'" class="adf-pdfViewer" role="document" tabindex="0" aria-expanded="true">\n                <div id="loader-container" class="adf-loader-container">\n                    <div class="adf-loader-item">\n                        <mat-progress-bar mode="indeterminate"></mat-progress-bar>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="adf-pdf-viewer__toolbar" *ngIf="showToolbar">\n    <adf-toolbar>\n\n        <ng-container *ngIf="allowThumbnails">\n            <button mat-icon-button\n                    data-automation-id="adf-thumbnails-button"\n                    [disabled]="isPanelDisabled"\n                    (click)="toggleThumbnails()">\n                <mat-icon>dashboard</mat-icon>\n            </button>\n            <adf-toolbar-divider></adf-toolbar-divider>\n        </ng-container>\n\n        <button\n            id="viewer-previous-page-button"\n            title="{{ \'ADF_VIEWER.ARIA.PREVIOUS_PAGE\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.PREVIOUS_PAGE\' | translate }}"\n            mat-icon-button\n            (click)="previousPage()">\n            <mat-icon>keyboard_arrow_up</mat-icon>\n        </button>\n\n        <button\n            id="viewer-next-page-button"\n            title="{{ \'ADF_VIEWER.ARIA.NEXT_PAGE\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.NEXT_PAGE\' | translate }}"\n            mat-icon-button\n            (click)="nextPage()">\n            <mat-icon>keyboard_arrow_down</mat-icon>\n        </button>\n\n        <div class="adf-pdf-viewer__toolbar-page-selector">\n            <span>{{ \'ADF_VIEWER.PAGE_LABEL.SHOWING\' | translate }}</span>\n            <input #page\n                   type="text"\n                   data-automation-id="adf-page-selector"\n                   pattern="-?[0-9]*(\\.[0-9]+)?"\n                   value="{{ displayPage }}"\n                   (keyup.enter)="inputPage(page.value)">\n            <span>{{ \'ADF_VIEWER.PAGE_LABEL.OF\' | translate }} {{ totalPages }}</span>\n        </div>\n\n        <div class="adf-viewer__toolbar-page-scale" data-automation-id="adf-page-scale">\n            {{ currentScaleText }}\n        </div>\n\n        <button\n            id="viewer-zoom-in-button"\n            title="{{ \'ADF_VIEWER.ARIA.ZOOM_IN\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.ZOOM_IN\' | translate }}"\n            mat-icon-button\n            (click)="zoomIn()">\n            <mat-icon>zoom_in</mat-icon>\n        </button>\n\n        <button\n            id="viewer-zoom-out-button"\n            title="{{ \'ADF_VIEWER.ARIA.ZOOM_OUT\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.ZOOM_OUT\' | translate }}"\n            mat-icon-button\n            (click)="zoomOut()">\n            <mat-icon>zoom_out</mat-icon>\n        </button>\n\n        <button\n            id="viewer-scale-page-button"\n            title="{{ \'ADF_VIEWER.ARIA.FIT_PAGE\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.FIT_PAGE\' | translate }}"\n            mat-icon-button\n            (click)="pageFit()">\n            <mat-icon>zoom_out_map</mat-icon>\n        </button>\n\n    </adf-toolbar>\n</div>\n',providers:[Zt],host:{"class":"adf-pdf-viewer"},encapsulation:A.ViewEncapsulation.None,styles:["",".adf-pdf-viewer .textLayer{position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;border:1px solid gray}.adf-pdf-viewer .textLayer>div{color:transparent;position:absolute;white-space:pre;cursor:text;-webkit-transform-origin:0 0;transform-origin:0 0}.adf-pdf-viewer .textLayer .adf-highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}.adf-pdf-viewer .textLayer .adf-highlight.adf-begin{border-radius:4px 0 0 4px}.adf-pdf-viewer .textLayer .adf-highlight.adf-end{border-radius:0 4px 4px 0}.adf-pdf-viewer .textLayer .adf-highlight.adf-middle{border-radius:0}.adf-pdf-viewer .textLayer .adf-highlight.adf-selected{background-color:#006400}.adf-pdf-viewer .textLayer::selection{background:#00f}.adf-pdf-viewer .textLayer::-moz-selection{background:#00f}.adf-pdf-viewer .textLayer .adf-endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;user-select:none;-webkit-user-select:none;-ms-user-select:none;-moz-user-select:none}.adf-pdf-viewer .textLayer .adf-endOfContent.adf-active{top:0}.adf-pdf-viewer .adf-annotationLayer section{position:absolute}.adf-pdf-viewer .adf-annotationLayer .adf-linkAnnotation>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%;background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)}.adf-pdf-viewer .adf-annotationLayer .adf-linkAnnotation>a:hover{opacity:.2;background:#ff0;box-shadow:0 2px 10px #ff0}.adf-pdf-viewer .adf-annotationLayer .adf-textAnnotation img{position:absolute;cursor:pointer}.adf-pdf-viewer .adf-annotationLayer .adf-popupWrapper{position:absolute;width:20em}.adf-pdf-viewer .adf-annotationLayer .adf-popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #333;border-radius:2px;padding:.6em;margin-left:5px;cursor:pointer;word-wrap:break-word}.adf-pdf-viewer .adf-annotationLayer .adf-popup h1{font-size:1em;border-bottom:1px solid #000;padding-bottom:.2em}.adf-pdf-viewer .adf-annotationLayer .adf-popup p{padding-top:.2em}.adf-pdf-viewer .adf-annotationLayer .adf-fileAttachmentAnnotation,.adf-pdf-viewer .adf-annotationLayer .adf-highlightAnnotation,.adf-pdf-viewer .adf-annotationLayer .adf-squigglyAnnotation,.adf-pdf-viewer .adf-annotationLayer .adf-strikeoutAnnotation,.adf-pdf-viewer .adf-annotationLayer .adf-underlineAnnotation{cursor:pointer}.adf-pdf-viewer .adf-pdfViewer .canvasWrapper{overflow:hidden}.adf-pdf-viewer .adf-pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:1px auto -8px;position:relative;overflow:visible;border:9px solid transparent;background-clip:content-box;background-color:#fff}.adf-pdf-viewer .adf-pdfViewer .page canvas{margin:0;display:block}.adf-pdf-viewer .adf-pdfViewer .page .adf-loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0}.adf-pdf-viewer .adf-pdfViewer .page *{padding:0;margin:0}.adf-pdf-viewer .adf-pdfViewer.adf-removePageBorders .adf-page{margin:0 auto 10px;border:none}.adf-pdf-viewer .adf-pdfViewer .adf-loadingIcon{width:100px;height:100px;left:50%!important;top:50%!important;margin-top:-50px;margin-left:-50px;font-size:5px;text-indent:-9999em;border-top:1.1em solid rgba(3,0,2,.2);border-right:1.1em solid rgba(3,0,2,.2);border-bottom:1.1em solid rgba(3,0,2,.2);border-left:1.1em solid #030002;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation:1.1s linear infinite load8;animation:1.1s linear infinite load8;border-radius:50%}.adf-pdf-viewer .adf-pdfViewer .adf-loadingIcon::after{border-radius:50%}.adf-pdf-viewer .adf-hidden,.adf-pdf-viewer [hidden]{display:none!important}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.adf-viewer-pdf-viewer{overflow:auto;-webkit-overflow-scrolling:touch;position:absolute;top:0;right:0;bottom:0;left:0;outline:0}html[dir=ltr] .adf-viewer-pdf-viewer{box-shadow:inset 1px 0 0 rgba(255,255,255,.05)}html[dir=rtl] .adf-viewer-pdf-viewer{box-shadow:inset -1px 0 0 rgba(255,255,255,.05)}"]}]}],e.ctorParameters=function(){return[{type:E.MatDialog},{type:Zt},{type:q},{type:B}]},e.propDecorators={urlFile:[{type:A.Input}],blobFile:[{type:A.Input}],nameFile:[{type:A.Input}],showToolbar:[{type:A.Input}],allowThumbnails:[{type:A.Input}],thumbnailsTemplate:[{type:A.Input}],rendered:[{type:A.Output}],error:[{type:A.Output}],handleKeyboardEvent:[{type:A.HostListener,args:["document:keydown",["$event"]]}]},e}(),nn=function(){function e(e){this.element=e,this.virtualHeight=0,this.translateY=0,this.renderItems=[],this.width=91,this.currentHeight=0,this.items=[],this.margin=15,this.itemHeight=114+this.margin,this.calculateItems=this.calculateItems.bind(this),this.onPageChange=this.onPageChange.bind(this)}return e.prototype.onResize=function(e){this.calculateItems()},e.prototype.ngOnInit=function(){this.pdfViewer.eventBus.on("pagechange",this.onPageChange),this.element.nativeElement.addEventListener("scroll",this.calculateItems,!0),this.setHeight(this.pdfViewer.currentPageNumber),this.items=this.getPages(),this.calculateItems()},e.prototype.ngAfterViewInit=function(){var e=this;setTimeout(function(){return e.scrollInto(e.pdfViewer.currentPageNumber)},0)},e.prototype.ngOnDestroy=function(){this.element.nativeElement.removeEventListener("scroll",this.calculateItems,!0),this.pdfViewer.eventBus.off("pagechange",this.onPageChange)},e.prototype.trackByFn=function(e,t){return t.id},e.prototype.isSelected=function(e){return this.pdfViewer.currentPageNumber===e},e.prototype.goTo=function(e){this.pdfViewer.currentPageNumber=e},e.prototype.scrollInto=function(t){if(this.items.length){var e=this.items.findIndex(function(e){return e.id===t});if(e<0||e>=this.items.length)return;this.element.nativeElement.scrollTop=e*this.itemHeight,this.calculateItems()}},e.prototype.getPages=function(){var t=this;return this.pdfViewer._pages.map(function(e){return{id:e.id,getWidth:function(){return t.width},getHeight:function(){return t.currentHeight},getPage:function(){return t.pdfViewer.pdfDocument.getPage(e.id)}}})},e.prototype.setHeight=function(e){var t=this;return this.pdfViewer.pdfDocument.getPage(e).then(function(e){return t.calculateHeight(e)})},e.prototype.calculateHeight=function(e){var t=e.getViewport(1),n=t.width/t.height,i=Math.floor(this.width/n);this.currentHeight=i,this.itemHeight=i+this.margin},e.prototype.calculateItems=function(){var e=this.getContainerSetup(),t=e.element,n=e.viewPort,i=e.itemsInView,o=t.scrollTop/n*this.items.length/i,r=Math.floor(o),a=Math.ceil(o)+i;this.translateY=this.itemHeight*Math.ceil(r),this.virtualHeight=this.itemHeight*this.items.length-this.translateY,this.renderItems=this.items.slice(r,a)},e.prototype.getContainerSetup=function(){var e=this.element.nativeElement,t=e.getBoundingClientRect(),n=Math.ceil(t.height/this.itemHeight);return{element:e,viewPort:this.itemHeight*this.items.length/n,itemsInView:n}},e.prototype.onPageChange=function(t){var e=this.renderItems.findIndex(function(e){return e.id===t.pageNumber});e<0&&this.scrollInto(t.pageNumber),e>=this.renderItems.length-1&&(this.element.nativeElement.scrollTop+=this.itemHeight)},e.decorators=[{type:A.Component,args:[{selector:"adf-pdf-thumbnails",template:'<div class="adf-pdf-thumbnails__content"\n    data-automation-id=\'adf-thumbnails-content\'\n    [style.height.px]="virtualHeight"\n    [style.transform]="\'translate(-50%, \' + translateY + \'px)\'">\n    <adf-pdf-thumb *ngFor="let page of renderItems; trackBy: trackByFn"\n        class="adf-pdf-thumbnails__thumb"\n        [ngClass]="{\'adf-pdf-thumbnails__thumb--selected\' : isSelected(page.id)}"\n        [page]="page"\n        (click)="goTo(page.id)">\n    </adf-pdf-thumb>\n</div>\n',host:{"class":"adf-pdf-thumbnails"},encapsulation:A.ViewEncapsulation.None,styles:[""]}]}],e.ctorParameters=function(){return[{type:A.ElementRef}]},e.propDecorators={pdfViewer:[{type:A.Input}],template:[{type:A.ContentChild,args:[A.TemplateRef]}],onResize:[{type:A.HostListener,args:["window:resize",["$event"]]}]},e}(),on=function(){function e(e){this.sanitizer=e,this.page=null}return e.prototype.ngOnInit=function(){var t=this;this.image$=this.page.getPage().then(function(e){return t.getThumb(e)})},e.prototype.getThumb=function(e){var t=this,n=e.getViewport(1),i=n.width/n.height,o=this.getCanvas(i),r=Math.min(o.height/n.height,o.width/n.width);return e.render({canvasContext:o.getContext("2d"),viewport:e.getViewport(r)}).then(function(){var e=o.toDataURL();return t.sanitizer.bypassSecurityTrustUrl(e)})},e.prototype.getCanvas=function(e){var t=document.createElement("canvas");return t.width=this.page.getWidth(),t.height=this.page.getHeight(),t},e.decorators=[{type:A.Component,args:[{selector:"adf-pdf-thumb",template:'<ng-container *ngIf="image$ | async as image">\n    <img [src]="image" [alt]="\'ADF_VIEWER.SIDEBAR.THUMBNAILS.PAGE\' | translate: { pageNum: page.id }"\n        title="{{ \'ADF_VIEWER.SIDEBAR.THUMBNAILS.PAGE\' | translate: { pageNum: page.id } }}">\n</ng-container>\n',encapsulation:A.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:h.DomSanitizer}]},e.propDecorators={page:[{type:A.Input}]},e}(),rn=function(){function e(e,t){this.http=e,this.appConfigService=t}return e.prototype.ngOnChanges=function(e){var t=e.blobFile;if(t&&t.currentValue)return this.readBlob(t.currentValue);var n=e.urlFile;if(n&&n.currentValue)return this.getUrlContent(n.currentValue);if(!this.urlFile&&!this.blobFile)throw new Error("Attribute urlFile or blobFile is required")},e.prototype.getUrlContent=function(e){var i=this,o=this.appConfigService.get("auth.withCredentials",!1);return new Promise(function(t,n){i.http.get(e,{responseType:"text",withCredentials:o}).subscribe(function(e){i.content=e,t()},function(e){n(e)})})},e.prototype.readBlob=function(i){var o=this;return new Promise(function(e,t){var n=new FileReader;n.onload=function(){o.content=n.result,e()},n.onerror=function(e){t(e)},n.readAsText(i)})},e.decorators=[{type:A.Component,args:[{selector:"adf-txt-viewer",template:'<pre class="adf-txt-viewer-content">\n    {{content}}\n</pre>\n',host:{"class":"adf-txt-viewer"},encapsulation:A.ViewEncapsulation.None,styles:[""]}]}],e.ctorParameters=function(){return[{type:w.HttpClient},{type:B}]},e.propDecorators={urlFile:[{type:A.Input}],blobFile:[{type:A.Input}]},e}(),an=function(){function e(){}return e.decorators=[{type:A.Component,args:[{selector:"adf-viewer-unknown-format",template:'<div class="adf-viewer__unknown-format-view">\n    <div>\n        <mat-icon class="icon">wifi_tethering</mat-icon>\n        <div class="label">{{ \'ADF_VIEWER.UNKNOWN_FORMAT\' | translate }}</div>\n    </div>\n</div>\n',styles:[".adf-viewer__unknown-format-view{height:90vh;text-align:center;display:flex;flex:1;flex-direction:column;justify-content:center}"]}]}],e}(),sn=function(){function e(){}return e.decorators=[{type:A.Component,args:[{selector:"adf-viewer-toolbar-actions",encapsulation:A.ViewEncapsulation.None,changeDetection:A.ChangeDetectionStrategy.OnPush,host:{"class":"adf-viewer-toolbar-actions"},template:"<ng-content></ng-content>"}]}],e}(),ln=function(){function e(e){this.viewerComponent=e}return e.prototype.ngAfterContentInit=function(){var t=this;this.templateModel={template:this.template,isVisible:!1},this.viewerComponent.extensionTemplates.push(this.templateModel),this.viewerComponent.extensionChange.subscribe(function(e){t.templateModel.isVisible=t.isVisible(e)}),this.supportedExtensions instanceof Array&&this.supportedExtensions.forEach(function(e){t.viewerComponent.externalExtensions.push(e)})},e.prototype.isVisible=function(t){var e;return this.supportedExtensions&&this.supportedExtensions instanceof Array&&(e=this.supportedExtensions.find(function(e){return e.toLowerCase()===t})),!!e},e.decorators=[{type:A.Directive,args:[{selector:"adf-viewer-extension"}]}],e.ctorParameters=function(){return[{type:Kt}]},e.propDecorators={template:[{type:A.ContentChild,args:[A.TemplateRef]}],urlFileContent:[{type:A.Input}],extension:[{type:A.Input}],supportedExtensions:[{type:A.Input}]},e}(),cn=function(){function e(){}return e.decorators=[{type:A.Component,args:[{selector:"adf-toolbar-divider",template:"<div></div>",host:{"class":"adf-toolbar-divider"},encapsulation:A.ViewEncapsulation.None,changeDetection:A.ChangeDetectionStrategy.OnPush,styles:["\n        .adf-toolbar-divider > div {\n            height: 24px;\n            width: 1px;\n            background: rgba(0, 0, 0, 0.26);\n            margin-left: 5px;\n            margin-right: 5px;\n        }\n    "]}]}],e}(),un=function(){function e(){}return e.decorators=[{type:A.Component,args:[{selector:"adf-toolbar-title",template:"<ng-content></ng-content>",host:{"class":"adf-toolbar-title"}}]}],e}(),pn=function(){function e(){this.title=""}return e.decorators=[{type:A.Component,args:[{selector:"adf-toolbar",template:'<mat-toolbar [color]="color">\n    <span *ngIf="title">{{ title }}</span>\n    <ng-content select="adf-toolbar-title"></ng-content>\n    <ng-content></ng-content>\n</mat-toolbar>\n',changeDetection:A.ChangeDetectionStrategy.OnPush,encapsulation:A.ViewEncapsulation.None,host:{"class":"adf-toolbar"},styles:[""]}]}],e.propDecorators={title:[{type:A.Input}],color:[{type:A.Input}]},e}(),dn=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[S.CommonModule,pe],declarations:[pn,un,cn],exports:[pn,un,cn]}]}],e}(),fn=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[R.ExtensionsModule,S.CommonModule,pe,D.TranslateModule.forChild(),O.FormsModule,O.ReactiveFormsModule,dn,He,f.FlexLayoutModule,tt],declarations:[en,Kt,Jt,rn,Qt,tn,on,nn,ln,an,Xt,$t,Wt,qt,sn],entryComponents:[en],exports:[Kt,Jt,rn,Qt,tn,en,on,nn,ln,an,Xt,$t,Wt,qt,sn]}]}],e}(),mn=function Ja(e){e&&(this.apps=e.apps,this.capabilities=e.capabilities,this.company=e.company,this.created=e.created,this.email=e.email,this.externalId=e.externalId,this.firstName=e.firstName,this.lastName=e.lastName,this.fullname=e.fullname,this.groups=e.groups,this.id=e.id,this.lastUpdate=e.lastUpdate,this.latestSyncTimeStamp=e.latestSyncTimeStamp,this.password=e.password,this.pictureId=e.pictureId,this.status=e.status,this.tenantId=e.tenantId,this.tenantName=e.tenantName,this.tenantPictureId=e.tenantPictureId,this.type=e.type)},hn=function(){function e(e,t){this.apiService=e,this.logService=t}return e.prototype.getCurrentUserInfo=function(){var t=this;return C.from(this.apiService.getInstance().activiti.profileApi.getProfile()).pipe(y.map(function(e){return new mn(e)}),y.catchError(function(e){return t.handleError(e)}))},e.prototype.getCurrentUserProfileImage=function(){return this.apiService.getInstance().activiti.profileApi.getProfilePictureUrl()},e.prototype.handleError=function(e){return this.logService.error(e),C.throwError(e||"Server error")},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:H},{type:q}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(H),A.inject(q))},token:e,providedIn:"root"}),e}(),gn=function Qa(e){this.id=e&&e.id||null,this.firstName=e&&e.firstName,this.lastName=e&&e.lastName,this.description=e&&e.description||null,this.avatarId=e&&e.avatarId||null,this.email=e&&e.email||null,this.skypeId=e&&e.skypeId,this.googleId=e&&e.googleId,this.instantMessageId=e&&e.instantMessageId,this.jobTitle=e&&e.jobTitle||null,this.location=e&&e.location||null,this.company=e&&e.company,this.mobile=e&&e.mobile,this.telephone=e&&e.telephone,this.statusUpdatedAt=e&&e.statusUpdatedAt,this.userStatus=e&&e.userStatus,this.enabled=e&&e.enabled,this.emailNotificationsEnabled=e&&e.emailNotificationsEnabled},yn=function(){function e(e,t,n){this.apiService=e,this.contentService=t,this.logService=n}return e.prototype.getUserInfo=function(e){var t=this;return C.from(this.apiService.getInstance().core.peopleApi.getPerson(e)).pipe(y.map(function(e){return new gn(e.entry)}),y.catchError(function(e){return t.handleError(e)}))},e.prototype.getCurrentUserInfo=function(){return this.getUserInfo("-me-")},e.prototype.getUserProfileImage=function(e){if(e){var t={entry:{id:e}};return this.contentService.getContentUrl(t)}},e.prototype.handleError=function(e){return this.logService.error(e),C.throwError(e||"Server error")},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:H},{type:xe},{type:q}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(H),A.inject(xe),A.inject(q))},token:e,providedIn:"root"}),e}(),vn=function Za(e){e&&(this.id=e.id||null,this.firstName=e.firstName||null,this.lastName=e.lastName||null,this.email=e.email||null,this.username=e.username||null)},bn=function(){function e(){}return e.prototype.decodeToken=function(e){var t=e.split(".");if(3!==t.length)throw new Error("JWT must have 3 parts");var n=this.urlBase64Decode(t[1]);if(!n)throw new Error("Cannot decode the token");return JSON.parse(n)},e.prototype.urlBase64Decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Illegal base64url string!")}return decodeURIComponent(escape(window.atob(t)))},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),En=function(){function o(e,t,n){this.helper=e,this.apiService=t,this.appConfigService=n}return o.prototype.getCurrentUserInfo=function(){var e=this.getValueFromToken(o.FAMILY_NAME),t=this.getValueFromToken(o.GIVEN_NAME),n=this.getValueFromToken(o.USER_EMAIL),i=this.getValueFromToken(o.USER_PREFERRED_USERNAME);return new vn({firstName:t,lastName:e,email:n,username:i})},o.prototype.getValueFromToken=function(e){var t,n=localStorage.getItem(o.USER_ACCESS_TOKEN);n&&(t=this.helper.decodeToken(n)[e]);return t},o.prototype.findUsersByName=function(e){if(""===e)return C.of([]);var t=this.buildUserUrl(),n={search:e};return C.from(this.apiService.getInstance().oauth2Auth.callCustomApi(t,"GET",{},n,{},{},{},["application/json"],["application/json"],Object,null,null))},o.prototype.findUserByUsername=function(e){if(""===e)return C.of([]);var t=this.buildUserUrl(),n={username:e};return C.from(this.apiService.getInstance().oauth2Auth.callCustomApi(t,"GET",{},n,{},{},{},["application/json"],["application/json"],Object,null,null))},o.prototype.findUserByEmail=function(e){if(""===e)return C.of([]);var t=this.buildUserUrl(),n={email:e};return C.from(this.apiService.getInstance().oauth2Auth.callCustomApi(t,"GET",{},n,{},{},{},["application/json"],["application/json"],Object,null,null))},o.prototype.findUserById=function(e){if(""===e)return C.of([]);var t=this.buildUserUrl()+"/"+e;return C.from(this.apiService.getInstance().oauth2Auth.callCustomApi(t,"GET",{},{},{},{},{},["application/json"],["application/json"],Object,null,null))},o.prototype.getClientRoles=function(e,t){var n=this.buildUserClientRoleMapping(e,t);return C.from(this.apiService.getInstance().oauth2Auth.callCustomApi(n,"GET",{},{},{},{},{},["application/json"],["application/json"],Object,null,null))},o.prototype.checkUserHasClientApp=function(e,t){return this.getClientRoles(e,t).pipe(y.map(function(e){return 0<e.length}))},o.prototype.checkUserHasAnyClientAppRole=function(e,t,i){return this.getClientRoles(e,t).pipe(y.map(function(e){var n=!1;return 0<e.length&&i.forEach(function(t){e.find(function(e){return e.name===t})&&(n=!0)}),n}))},o.prototype.getClientIdByApplicationName=function(e){var t=this.buildGetClientsUrl(),n={clientId:e};return C.from(this.apiService.getInstance().oauth2Auth.callCustomApi(t,"GET",{},n,{},{},{},["application/json"],["application/json"],Object,null,null)).pipe(y.map(function(e){return e&&0<e.length?e[0].id:""}))},o.prototype.checkUserHasApplicationAccess=function(t,e){var n=this;return this.getClientIdByApplicationName(e).pipe(y.switchMap(function(e){return n.checkUserHasClientApp(t,e)}))},o.prototype.checkUserHasAnyApplicationRole=function(t,e,n){var i=this;return this.getClientIdByApplicationName(e).pipe(y.switchMap(function(e){return i.checkUserHasAnyClientAppRole(t,e,n)}))},o.prototype.getUsers=function(){var e=this.buildUserUrl();return C.from(this.apiService.getInstance().oauth2Auth.callCustomApi(e,"GET",{},{},{},{},{},[],["application/json"],["application/json"],null,null)).pipe(y.map(function(e){return e}))},o.prototype.getUserRoles=function(e){var t=this.buildRolesUrl(e);return C.from(this.apiService.getInstance().oauth2Auth.callCustomApi(t,"GET",{},{},{},{},{},["application/json"],["application/json"],Object,null,null)).pipe(y.map(function(e){return e}))},o.prototype.getUsersByRolesWithCurrentUser=function(o){return k(this,void 0,void 0,function(){var t,n,i;return L(this,function(e){switch(e.label){case 0:return t=[],o&&0<o.length?[4,this.getUsers().toPromise()]:[3,5];case 1:n=e.sent(),i=0,e.label=2;case 2:return i<n.length?[4,this.userHasAnyRole(n[i].id,o)]:[3,5];case 3:e.sent()&&t.push(n[i]),e.label=4;case 4:return i++,[3,2];case 5:return[2,t]}})})},o.prototype.getUsersByRolesWithoutCurrentUser=function(r){return k(this,void 0,void 0,function(){var t,n,i,o;return L(this,function(e){switch(e.label){case 0:return t=[],r&&0<r.length?(n=this.getCurrentUserInfo(),[4,this.getUsers().toPromise()]):[3,5];case 1:i=(i=e.sent()).filter(function(e){return e.username!==n.username}),o=0,e.label=2;case 2:return o<i.length?[4,this.userHasAnyRole(i[o].id,r)]:[3,5];case 3:e.sent()&&t.push(i[o]),e.label=4;case 4:return o++,[3,2];case 5:return[2,t]}})})},o.prototype.userHasAnyRole=function(t,i){return k(this,void 0,void 0,function(){var n;return L(this,function(e){switch(e.label){case 0:return[4,this.getUserRoles(t).toPromise()];case 1:return n=e.sent(),[2,i.some(function(t){return 0<n.filter(function(e){return e.name.toLocaleLowerCase()===t.toLocaleLowerCase()}).length})]}})})},o.prototype.checkUserHasRole=function(e,t){return this.getUserRoles(e).pipe(y.map(function(e){var n=!1;return e&&0<e.length&&t.forEach(function(t){e.find(function(e){return t===e.name})&&(n=!0)}),n}))},o.prototype.buildUserUrl=function(){return this.appConfigService.get("identityHost")+"/users"},o.prototype.buildUserClientRoleMapping=function(e,t){return this.appConfigService.get("identityHost")+"/users/"+e+"/role-mappings/clients/"+t},o.prototype.buildRolesUrl=function(e){return this.appConfigService.get("identityHost")+"/users/"+e+"/role-mappings/realm/composite"},o.prototype.buildGetClientsUrl=function(){return this.appConfigService.get("identityHost")+"/clients"},o.USER_NAME="name",o.FAMILY_NAME="family_name",o.GIVEN_NAME="given_name",o.USER_EMAIL="email",o.USER_ACCESS_TOKEN="access_token",o.USER_PREFERRED_USERNAME="preferred_username",o.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],o.ctorParameters=function(){return[{type:bn},{type:H},{type:B}]},o.ngInjectableDef=A.defineInjectable({factory:function(){return new o(A.inject(bn),A.inject(H),A.inject(B))},token:o,providedIn:"root"}),o}(),In=function(){function e(e,t,n,i){this.ecmUserService=e,this.bpmUserService=t,this.identityUserService=n,this.authService=i,this.ecmBackgroundImage="./assets/images/ecm-background.png",this.bpmBackgroundImage="./assets/images/bpm-background.png",this.menuPositionX="after",this.menuPositionY="below",this.showName=!0,this.namePosition="right"}return e.prototype.ngOnInit=function(){this.getUserInfo()},e.prototype.getUserInfo=function(){this.authService.isOauth()?this.loadIdentityUserInfo():this.authService.isEcmLoggedIn()&&this.authService.isBpmLoggedIn()?(this.loadEcmUserInfo(),this.loadBpmUserInfo()):this.authService.isEcmLoggedIn()?this.loadEcmUserInfo():this.authService.isBpmLoggedIn()&&this.loadBpmUserInfo()},e.prototype.onKeyPress=function(e){this.closeUserModal(e)},e.prototype.closeUserModal=function(e){27===e.keyCode&&this.trigger.closeMenu()},e.prototype.isLoggedIn=function(){return this.authService.isLoggedIn()},e.prototype.loadEcmUserInfo=function(){this.ecmUser$=this.ecmUserService.getCurrentUserInfo()},e.prototype.loadBpmUserInfo=function(){this.bpmUser$=this.bpmUserService.getCurrentUserInfo()},e.prototype.loadIdentityUserInfo=function(){this.identityUser$=C.of(this.identityUserService.getCurrentUserInfo())},e.prototype.stopClosing=function(e){e.stopPropagation()},e.prototype.getEcmAvatar=function(e){return this.ecmUserService.getUserProfileImage(e)},e.prototype.getBpmUserImage=function(){return this.bpmUserService.getCurrentUserProfileImage()},e.prototype.showOnRight=function(){return"right"===this.namePosition},e.decorators=[{type:A.Component,args:[{selector:"adf-userinfo",template:'<div id="userinfo_container" [class.adf-userinfo-name-right]="showOnRight()" (keyup)="onKeyPress($event)"\n    class="adf-userinfo-container" *ngIf="isLoggedIn()">\n\n    <ng-container *ngIf="showName">\n        <span *ngIf="identityUser$ | async as identityUser; else showBpmAndEcmUserFullNames" id="adf-userinfo-identity-name-display"\n            class="adf-userinfo-name">{{identityUser | fullName}}</span>\n        <ng-template #showBpmAndEcmUserFullNames>\n            <span *ngIf="ecmUser$ | async as ecmUser; else showBpmUserFullName" id="adf-userinfo-ecm-name-display"\n                class="adf-userinfo-name">{{ecmUser | fullName}}</span>\n            <ng-template #showBpmUserFullName>\n                <span *ngIf="bpmUser$ | async as bpmUser" id="adf-userinfo-bpm-name-display"\n                    class="adf-userinfo-name">{{bpmUser | fullName}}</span>\n            </ng-template>\n        </ng-template>\n    </ng-container>\n\n    <button mat-button [matMenuTriggerFor]="menu" class="adf-userinfo-menu_button" data-automation-id="adf-user-profile">\n        <div class="adf-userinfo-button-profile" id="user-profile">\n            <div *ngIf="identityUser$ | async as identityUser; else showBpmAndEcmUserImage" id="identity-user-image">\n                <div [outerHTML]="identityUser | usernameInitials:\'adf-userinfo-pic\'"></div>\n            </div>\n            <ng-template #showBpmAndEcmUserImage>\n                <div *ngIf="ecmUser$ | async as ecmUser; else showBpmUserImage" id="ecm-user-image">\n                    <div *ngIf="ecmUser.avatarId; else initialTemplate" class="adf-userinfo-profile-container">\n                        <img id="logged-user-img" [src]="getEcmAvatar(ecmUser.avatarId)" alt="user-info-profile-button"\n                            class="adf-userinfo-profile-image"/>\n                    </div>\n                    <ng-template #initialTemplate>\n                        <div [outerHTML]="ecmUser | usernameInitials:\'adf-userinfo-pic\'"></div>\n                    </ng-template>\n                </div>\n                <ng-template #showBpmUserImage>\n                    <div *ngIf="bpmUser$ | async as bpmUser" id="bpm-user-image">\n                            <div *ngIf="bpmUser.pictureId; else initialTemplate" class="adf-userinfo-profile-container">\n                                <img id="logged-user-img" [src]="getBpmUserImage()" alt="user-info-profile-button"\n                                    class="adf-userinfo-profile-image"/>\n                            </div>\n                            <ng-template #initialTemplate>\n                                <div [outerHTML]="bpmUser | usernameInitials:\'adf-userinfo-pic\'"></div>\n                            </ng-template>\n                    </div>\n                </ng-template>\n            </ng-template>\n        </div>\n    </button>\n    <mat-menu #menu="matMenu" id="user-profile-lists" [xPosition]="menuPositionX" [yPosition]="menuPositionY" [overlapTrigger]="false" class="adf-userinfo-menu">\n        <mat-tab-group id="tab-group-env" (click)="stopClosing($event)"\n            class="adf-userinfo-tab" [class.adf-hide-tab]="!(bpmUser$ | async) || !(ecmUser$ | async)">\n            <mat-tab id="ecm-panel" label="{{ \'USER_PROFILE.TAB.CS\' | translate }}" *ngIf="ecmUser$ | async as ecmUser">\n                <mat-card class="adf-userinfo-card">\n                    <mat-card-header class="adf-userinfo-card-header" [style.background-image]="\'url(\' + ecmBackgroundImage + \')\'">\n                        <div *ngIf="ecmUser.avatarId; else initialTemplate" class="adf-userinfo-profile-container adf-hide-small">\n                            <img class="adf-userinfo-profile-picture" id="ecm-user-detail-image"\n                                alt="ecm-profile-image" [src]="getEcmAvatar(ecmUser.avatarId)" />\n                        </div>\n                        <ng-template #initialTemplate>\n                            <div [outerHTML]="ecmUser | usernameInitials:\'adf-userinfo-profile-initials adf-hide-small\'"></div>\n                        </ng-template>\n\n                       <div class="adf-userinfo-title" id="ecm-username">{{ecmUser | fullName}}</div>\n                    </mat-card-header>\n                    <mat-card-content>\n                        <div class="adf-userinfo-supporting-text">\n                                <div class="adf-userinfo-detail">\n                                    <span id="ecm-full-name" class="adf-userinfo__detail-title">{{ecmUser | fullName}}</span>\n                                    <span class="adf-userinfo__detail-profile" id="ecm-email"> {{ecmUser.email}} </span>\n                                </div>\n                                <div class="adf-userinfo-detail">\n                                    <span class="adf-userinfo__secondary-info" id="ecm-job-title-label">\n                                        {{ \'USER_PROFILE.LABELS.ECM.JOB_TITLE\' | translate }}\n                                        <span id="ecm-job-title" class="adf-userinfo__detail-profile"> {{ ecmUser.jobTitle ? ecmUser.jobTitle : \'N/A\' }} </span>\n                                    </span>\n                                </div>\n                        </div>\n                    </mat-card-content>\n                </mat-card>\n            </mat-tab>\n            <mat-tab id="bpm-panel" label="{{ \'USER_PROFILE.TAB.PS\' | translate }}" *ngIf="bpmUser$ | async as bpmUser">\n            <mat-card class="adf-userinfo-card">\n                <mat-card-header class="adf-userinfo-card-header" [style.background-image]="\'url(\' + bpmBackgroundImage + \')\'">\n                    <img *ngIf="bpmUser.pictureId; else initialTemplate" class="adf-userinfo-profile-picture adf-hide-small" id="bpm-user-detail-image"\n                            alt="bpm-profile-image" [src]="getBpmUserImage()"/>\n                    <ng-template #initialTemplate>\n                        <div [outerHTML]="bpmUser | usernameInitials:\'adf-userinfo-profile-initials adf-hide-small\'"></div>\n                    </ng-template>\n                   <div class="adf-userinfo-title" id="bpm-username">{{bpmUser | fullName}}</div>\n                </mat-card-header>\n                <mat-card-content>\n                    <div class="adf-userinfo-supporting-text">\n                            <div class="adf-userinfo-detail">\n                                <span id="bpm-full-name" class="adf-userinfo__detail-title">{{ bpmUser | fullName }}</span>\n                                <span class="adf-userinfo__detail-profile" id="bpm-email"> {{bpmUser.email}} </span>\n                            </div>\n                            <div class="adf-userinfo-detail">\n                                <span id="bpm-tenant" class="adf-userinfo__secondary-info">\n                                    {{ \'USER_PROFILE.LABELS.BPM.TENANT\' | translate }}\n                                    <span class="adf-userinfo__detail-profile">{{ bpmUser.tenantName ? bpmUser.tenantName : \'\' }}</span>\n                                </span>\n                            </div>\n                    </div>\n                </mat-card-content>\n            </mat-card>\n            </mat-tab>\n            <mat-tab id="identity-panel" *ngIf="identityUser$ | async as identityUser">\n                <mat-card class="adf-userinfo-card">\n                    <mat-card-header class="adf-userinfo-card-header" [style.background-image]="\'url(\' + bpmBackgroundImage + \')\'">\n                        <div\n                            [outerHTML]="identityUser | usernameInitials:\'adf-userinfo-profile-initials adf-hide-small\'">\n                        </div>\n                       <div class="adf-userinfo-title" id="identity-username">{{identityUser | fullName}}</div>\n                    </mat-card-header>\n                    <mat-card-content>\n                        <div class="adf-userinfo-supporting-text">\n                                <div class="adf-userinfo-detail">\n                                    <span id="identity-full-name" class="adf-userinfo__detail-title">{{identityUser | fullName}}</span>\n                                    <span class="adf-userinfo__detail-profile" id="identity-email"> {{identityUser.email}} </span>\n                                </div>\n                        </div>\n                    </mat-card-content>\n                </mat-card>\n            </mat-tab>\n        </mat-tab-group>\n    </mat-menu>\n</div>\n',encapsulation:A.ViewEncapsulation.None,styles:[""]}]}],e.ctorParameters=function(){return[{type:yn},{type:hn},{type:En},{type:$}]},e.propDecorators={trigger:[{type:A.ViewChild,args:[E.MatMenuTrigger]}],ecmBackgroundImage:[{type:A.Input}],bpmBackgroundImage:[{type:A.Input}],menuPositionX:[{type:A.Input}],menuPositionY:[{type:A.Input}],showName:[{type:A.Input}],namePosition:[{type:A.Input}]},e}(),
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */wn=function es(e){e&&(this.id=e.id||null,this.name=e.name||null)},Cn=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[S.CommonModule,pe,D.TranslateModule.forChild(),He],declarations:[In],exports:[In]}]}],e}(),Tn=function(){function e(e,t,n,i){this.formBuilder=e,this.storageService=t,this.alfrescoApiService=n,this.appConfig=i,this.HOST_REGEX="^(http|https)://.*[^/]$",this.providers=["BPM","ECM","ALL"],this.showSelectProviders=!0,this.error=new A.EventEmitter,this.cancel=new A.EventEmitter,this.success=new A.EventEmitter}return e.prototype.ngOnInit=function(){var t=this;1===this.providers.length&&(this.showSelectProviders=!1);var e=this.appConfig.get(U.PROVIDERS),n=this.appConfig.get(U.AUTHTYPE,"BASIC");this.form=this.formBuilder.group({providersControl:[e,O.Validators.required],authType:n}),this.addFormGroups(),"OAUTH"===n&&(this.addOAuthFormGroup(),this.addIdentityHostFormControl()),this.form.get("authType").valueChanges.subscribe(function(e){"BASIC"===e?(t.form.removeControl("oauthConfig"),t.form.removeControl("identityHost")):(t.addOAuthFormGroup(),t.addIdentityHostFormControl())}),this.providersControl.valueChanges.subscribe(function(){t.removeFormGroups(),t.addFormGroups()})},e.prototype.removeFormGroups=function(){this.form.removeControl("bpmHost"),this.form.removeControl("ecmHost")},e.prototype.addFormGroups=function(){this.addBPMFormControl(),this.addECMFormControl()},e.prototype.addOAuthFormGroup=function(){var e=this.createOAuthFormGroup();this.form.addControl("oauthConfig",e)},e.prototype.addBPMFormControl=function(){if((this.isBPM()||this.isALL()||this.isOAUTH())&&!this.bpmHost){var e=this.createBPMFormControl();this.form.addControl("bpmHost",e)}},e.prototype.addIdentityHostFormControl=function(){var e=this.createIdentityFormControl();this.form.addControl("identityHost",e)},e.prototype.addECMFormControl=function(){if((this.isECM()||this.isALL())&&!this.ecmHost){var e=this.createECMFormControl();this.form.addControl("ecmHost",e)}},e.prototype.createOAuthFormGroup=function(){var e=this.appConfig.get(U.OAUTHCONFIG,{});return this.formBuilder.group({host:[e.host,[O.Validators.required,O.Validators.pattern(this.HOST_REGEX)]],clientId:[e.clientId,O.Validators.required],redirectUri:[e.redirectUri,O.Validators.required],redirectUriLogout:[e.redirectUriLogout],scope:[e.scope,O.Validators.required],secret:e.secret,silentLogin:e.silentLogin,implicitFlow:e.implicitFlow})},e.prototype.createBPMFormControl=function(){return new O.FormControl(this.appConfig.get(U.BPMHOST),[O.Validators.required,O.Validators.pattern(this.HOST_REGEX)])},e.prototype.createIdentityFormControl=function(){return new O.FormControl(this.appConfig.get(U.IDENTITY_HOST),[O.Validators.required,O.Validators.pattern(this.HOST_REGEX)])},e.prototype.createECMFormControl=function(){return new O.FormControl(this.appConfig.get(U.ECMHOST),[O.Validators.required,O.Validators.pattern(this.HOST_REGEX)])},e.prototype.onCancel=function(){this.cancel.emit(!0)},e.prototype.onSubmit=function(e){this.storageService.setItem(U.PROVIDERS,e.providersControl),this.isBPM()?this.saveBPMValues(e):this.isECM()?this.saveECMValues(e):this.isALL()&&(this.saveECMValues(e),this.saveBPMValues(e)),this.isOAUTH()&&this.saveOAuthValues(e),this.storageService.setItem(U.AUTHTYPE,e.authType),this.alfrescoApiService.reset(),this.alfrescoApiService.getInstance().invalidateSession(),this.success.emit(!0)},e.prototype.keyDownFunction=function(e){e.keyCode===l.ENTER&&this.form.valid&&this.onSubmit(this.form.value)},e.prototype.saveOAuthValues=function(e){this.storageService.setItem(U.OAUTHCONFIG,JSON.stringify(e.oauthConfig)),this.storageService.setItem(U.IDENTITY_HOST,e.identityHost)},e.prototype.saveBPMValues=function(e){this.storageService.setItem(U.BPMHOST,e.bpmHost)},e.prototype.saveECMValues=function(e){this.storageService.setItem(U.ECMHOST,e.ecmHost)},e.prototype.isBPM=function(){return"BPM"===this.providersControl.value},e.prototype.isECM=function(){return"ECM"===this.providersControl.value},e.prototype.isALL=function(){return"ALL"===this.providersControl.value},e.prototype.isOAUTH=function(){return"OAUTH"===this.form.get("authType").value},Object.defineProperty(e.prototype,"providersControl",{get:function(){return this.form.get("providersControl")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bpmHost",{get:function(){return this.form.get("bpmHost")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ecmHost",{get:function(){return this.form.get("ecmHost")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"host",{get:function(){return this.oauthConfig.get("host")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identityHost",{get:function(){return this.form.get("identityHost")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clientId",{get:function(){return this.oauthConfig.get("clientId")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scope",{get:function(){return this.oauthConfig.get("scope")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secretId",{get:function(){return this.oauthConfig.get("secretId")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"implicitFlow",{get:function(){return this.oauthConfig.get("implicitFlow")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"silentLogin",{get:function(){return this.oauthConfig.get("silentLogin")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"redirectUri",{get:function(){return this.oauthConfig.get("redirectUri")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"redirectUriLogout",{get:function(){return this.oauthConfig.get("redirectUriLogout")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oauthConfig",{get:function(){return this.form.get("oauthConfig")},enumerable:!0,configurable:!0}),e.decorators=[{type:A.Component,args:[{selector:"adf-host-settings",template:'<div class="adf-setting-container">\n    <mat-toolbar color="primary" class="adf-setting-toolbar">\n        <h3>{{\'CORE.HOST_SETTINGS.TITLE\' | translate}}</h3>\n    </mat-toolbar>\n    <mat-card class="adf-setting-card">\n        <form id="host-form" [formGroup]="form" (submit)="onSubmit(form.value)" (keydown)="keyDownFunction($event)">\n\n            <mat-form-field floatLabel="{{\'CORE.HOST_SETTINGS.PROVIDER\' | translate }}" *ngIf="showSelectProviders">\n                <mat-select  id="adf-provider-selector" placeholder="Provider" [formControl]="providersControl">\n                    <mat-option *ngFor="let provider of providers" [value]="provider">\n                        {{ provider }}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n\n            <div class="adf-authentication-type">\n                <div> {{\'CORE.HOST_SETTINGS.TYPE-AUTH\' | translate }} : </div>\n                <mat-radio-group formControlName="authType" >\n                <mat-radio-button value="BASIC">{{\'CORE.HOST_SETTINGS.BASIC\' | translate }}\n                </mat-radio-button>\n                <mat-radio-button value="OAUTH">{{\'CORE.HOST_SETTINGS.SSO\' | translate }}\n                </mat-radio-button>\n            </mat-radio-group>\n            </div>\n\n            <ng-container *ngIf="isALL() || isECM()">\n                <mat-card-content>\n                    <mat-form-field class="adf-full-width" floatLabel="{{\'CORE.HOST_SETTINGS.CS-HOST\' | translate }}">\n                        <mat-label>{{\'CORE.HOST_SETTINGS.CS-HOST\' | translate }}</mat-label>\n                        <input matInput [formControl]="ecmHost" data-automation-id="ecmHost" type="text"\n                               id="ecmHost" placeholder="http(s)://host|ip:port(/path)">\n                        <mat-error *ngIf="ecmHost.hasError(\'pattern\')">\n                            {{ \'CORE.HOST_SETTINGS.NOT_VALID\'| translate }}\n                        </mat-error>\n                        <mat-error *ngIf="ecmHost.hasError(\'required\')">\n                            {{ \'CORE.HOST_SETTINGS.REQUIRED\'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n                    <p>\n                </mat-card-content>\n            </ng-container>\n\n            <ng-container *ngIf="isALL() || isBPM()">\n                <mat-card-content>\n                    <mat-form-field class="adf-full-width" floatLabel="{{\'CORE.HOST_SETTINGS.BP-HOST\' | translate }}">\n                        <mat-label>{{\'CORE.HOST_SETTINGS.BP-HOST\' | translate }}</mat-label>\n                        <input matInput [formControl]="bpmHost" data-automation-id="bpmHost" type="text"\n                               id="bpmHost" placeholder="http(s)://host|ip:port(/path)">\n                        <mat-error *ngIf="bpmHost.hasError(\'pattern\')">\n                            {{ \'CORE.HOST_SETTINGS.NOT_VALID\'| translate }}\n                        </mat-error>\n                        <mat-error *ngIf="bpmHost.hasError(\'required\')">\n                            {{ \'CORE.HOST_SETTINGS.REQUIRED\'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n                </mat-card-content>\n            </ng-container>\n\n            <ng-container *ngIf="isOAUTH()">\n                <mat-card-content>\n                    <mat-form-field class="adf-full-width" floatLabel="Identity Host">\n                        <mat-label>Identity Host</mat-label>\n                        <input matInput name="identityHost" id="identityHost" formControlName="identityHost"\n                                placeholder="http(s)://host|ip:port(/path)">\n                        <mat-error *ngIf="identityHost.hasError(\'pattern\')">\n                            {{ \'CORE.HOST_SETTINGS.NOT_VALID\'| translate }}\n                        </mat-error>\n                        <mat-error *ngIf="identityHost.hasError(\'required\')">\n                            {{ \'CORE.HOST_SETTINGS.REQUIRED\'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n                </mat-card-content>\n            </ng-container>\n\n            <ng-container *ngIf="isOAUTH()">\n                <div formGroupName="oauthConfig">\n                    <mat-form-field class="adf-full-width" floatLabel="Auth Host">\n                        <mat-label>Auth Host</mat-label>\n                        <input matInput name="host" id="oauthHost" formControlName="host"\n                               placeholder="http(s)://host|ip:port(/path)">\n                        <mat-error *ngIf="host.hasError(\'pattern\')">\n                            {{ \'CORE.HOST_SETTINGS.NOT_VALID\'| translate }}\n                        </mat-error>\n                        <mat-error *ngIf="host.hasError(\'required\')">\n                            {{ \'CORE.HOST_SETTINGS.REQUIRED\'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n                    <mat-form-field class="adf-full-width" floatLabel="Client Id">\n                        <mat-label>{{ \'CORE.HOST_SETTINGS.CLIENT\'| translate }}</mat-label>\n                        <input matInput name="clientId" id="clientId" formControlName="clientId"\n                               placeholder="Client Id">\n                        <mat-error *ngIf="clientId.hasError(\'required\')">\n                            {{ \'CORE.HOST_SETTINGS.REQUIRED\'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n\n                    <mat-form-field class="adf-full-width" floatLabel="Scope">\n                        <mat-label>{{ \'CORE.HOST_SETTINGS.SCOPE\'| translate }}</mat-label>\n                        <input matInput name="{{ \'CORE.HOST_SETTINGS.SCOPE\'| translate }}"\n                               formControlName="scope" placeholder="Scope Id">\n                        <mat-error *ngIf="scope.hasError(\'required\')">\n                            {{ \'CORE.HOST_SETTINGS.REQUIRED\'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n\n                    <label for="silentLogin">{{ \'CORE.HOST_SETTINGS.SILENT\'| translate }}</label>\n                    <mat-slide-toggle class="adf-full-width" name="silentLogin" [color]="\'primary\'"\n                                      formControlName="silentLogin">\n                    </mat-slide-toggle>\n\n                    <label for="implicitFlow">{{ \'CORE.HOST_SETTINGS.IMPLICIT-FLOW\'| translate }}</label>\n                    <mat-slide-toggle class="adf-full-width" name="implicitFlow" [color]="\'primary\'"\n                                      formControlName="implicitFlow">\n                    </mat-slide-toggle>\n\n\n                    <mat-form-field class="adf-full-width" floatLabel="Redirect Uri">\n                        <mat-label>{{ \'CORE.HOST_SETTINGS.REDIRECT\'| translate }}</mat-label>\n                        <input matInput placeholder="{{ \'CORE.HOST_SETTINGS.REDIRECT\'| translate }}"\n                               name="redirectUri" formControlName="redirectUri">\n                        <mat-error *ngIf="redirectUri.hasError(\'required\')">\n                            {{ \'CORE.HOST_SETTINGS.REQUIRED\'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n\n                    <mat-form-field class="adf-full-width" floatLabel="Redirect Uri Logout">\n                        <mat-label>{{ \'CORE.HOST_SETTINGS.REDIRECT_LOGOUT\'| translate }}</mat-label>\n                        <input id="logout-url" matInput placeholder="{{ \'CORE.HOST_SETTINGS.REDIRECT_LOGOUT\'| translate }}"\n                               name="redirectUriLogout" formControlName="redirectUriLogout">\n                    </mat-form-field>\n                </div>\n            </ng-container>\n            <mat-card-actions class="adf-actions">\n                <button mat-button (click)="onCancel()" color="primary">\n                    {{\'CORE.HOST_SETTINGS.BACK\' | translate }}\n                </button>\n                <button type="submit" id="host-button" class="adf-login-button" mat-raised-button\n                        color="primary" data-automation-id="host-button"\n                        [disabled]="!form.valid">\n                    {{\'CORE.HOST_SETTINGS.APPLY\' | translate }}\n                </button>\n            </mat-card-actions>\n        </form>\n    </mat-card>\n</div>\n',host:{"class":"adf-host-settings"},encapsulation:A.ViewEncapsulation.None,styles:[""]}]}],e.ctorParameters=function(){return[{type:O.FormBuilder},{type:we},{type:H},{type:B}]},e.propDecorators={providers:[{type:A.Input}],error:[{type:A.Output}],cancel:[{type:A.Output}],success:[{type:A.Output}]},e}(),Sn=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[S.CommonModule,pe,D.TranslateModule.forChild(),O.FormsModule,O.ReactiveFormsModule],declarations:[Tn],exports:[Tn]}]}],e}(),An=function(){function h(e,t){var n=this;this.cdr=e,this.userPreferencesService=t,this.pagination=h.DEFAULT_PAGINATION,this.change=new A.EventEmitter,this.changePageNumber=new A.EventEmitter,this.changePageSize=new A.EventEmitter,this.nextPage=new A.EventEmitter,this.prevPage=new A.EventEmitter,this.userPreferencesService.select(Ce.PaginationSize).subscribe(function(e){n.pagination.maxItems=e})}return h.prototype.ngOnInit=function(){var t=this;this.supportedPageSizes||(this.supportedPageSizes=this.userPreferencesService.supportedPageSizes),this.target&&(this.paginationSubscription=this.target.pagination.subscribe(function(e){0!==e.count||t.isFirstPage||t.goPrevious(),t.pagination=e,t.cdr.detectChanges()})),this.pagination||(this.pagination=h.DEFAULT_PAGINATION)},Object.defineProperty(h.prototype,"lastPage",{get:function(){var e=this.pagination,t=e.maxItems,n=e.totalItems;return n&&t?Math.ceil(n/t):1},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"current",{get:function(){var e=this.pagination,t=e.maxItems,n=e.skipCount;return n&&t?Math.floor(n/t)+1:1},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"isLastPage",{get:function(){return this.current===this.lastPage},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"isFirstPage",{get:function(){return 1===this.current},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"next",{get:function(){return this.isLastPage?this.current:this.current+1},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"previous",{get:function(){return this.isFirstPage?1:this.current-1},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"hasItems",{get:function(){return this.pagination&&0<this.pagination.count},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"isEmpty",{get:function(){return!this.hasItems},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"range",{get:function(){var e=this.pagination,t=e.skipCount,n=e.maxItems,i=e.totalItems;return[i?t+1:0,this.isLastPage?i:t+n]},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"pages",{get:function(){return Array(this.lastPage).fill("n").map(function(e,t){return t+1})},enumerable:!0,configurable:!0}),h.prototype.goNext=function(){if(this.hasItems){var e=this.pagination.maxItems,t=(this.next-1)*e;this.pagination.skipCount=t,this.handlePaginationEvent(h.ACTIONS.NEXT_PAGE,{skipCount:t,maxItems:e})}},h.prototype.goPrevious=function(){if(this.hasItems){var e=this.pagination.maxItems,t=(this.previous-1)*e;this.pagination.skipCount=t,this.handlePaginationEvent(h.ACTIONS.PREV_PAGE,{skipCount:t,maxItems:e})}},h.prototype.onChangePageNumber=function(e){if(this.hasItems){var t=this.pagination.maxItems,n=(e-1)*t;this.pagination.skipCount=n,this.handlePaginationEvent(h.ACTIONS.CHANGE_PAGE_NUMBER,{skipCount:n,maxItems:t})}},h.prototype.onChangePageSize=function(e){this.pagination.skipCount=0,this.userPreferencesService.paginationSize=e,this.handlePaginationEvent(h.ACTIONS.CHANGE_PAGE_SIZE,{skipCount:0,maxItems:e})},h.prototype.handlePaginationEvent=function(e,t){var n=h.ACTIONS,i=n.NEXT_PAGE,o=n.PREV_PAGE,r=n.CHANGE_PAGE_NUMBER,a=n.CHANGE_PAGE_SIZE,s=this,l=s.change,c=s.changePageNumber,u=s.changePageSize,p=s.nextPage,d=s.prevPage,f=s.pagination,m=Object.assign({},f,t);e===i&&p.emit(m),e===o&&d.emit(m),e===r&&c.emit(m),e===a&&u.emit(m),l.emit(t),this.target&&this.target.updatePagination(t)},h.prototype.ngOnDestroy=function(){this.paginationSubscription&&this.paginationSubscription.unsubscribe()},h.DEFAULT_PAGINATION=new I.Pagination({skipCount:0,maxItems:25,totalItems:0}),h.ACTIONS={NEXT_PAGE:"NEXT_PAGE",PREV_PAGE:"PREV_PAGE",CHANGE_PAGE_SIZE:"CHANGE_PAGE_SIZE",CHANGE_PAGE_NUMBER:"CHANGE_PAGE_NUMBER"},h.decorators=[{type:A.Component,args:[{selector:"adf-pagination",host:{"class":"adf-pagination"},template:'<ng-container *ngIf="hasItems">\n    <div class="adf-pagination__block adf-pagination__range-block">\n        <span class="adf-pagination__range">\n            {{\n                \'CORE.PAGINATION.ITEMS_RANGE\' | translate: {\n                    range: range.join(\'-\'),\n                    total: pagination.totalItems\n                }\n            }}\n        </span>\n    </div>\n\n    <div class="adf-pagination__block adf-pagination__perpage-block">\n        <span>\n            {{ \'CORE.PAGINATION.ITEMS_PER_PAGE\' | translate }}\n        </span>\n\n        <span class="adf-pagination__max-items">\n            {{ pagination.maxItems }}\n        </span>\n\n        <button\n            mat-icon-button\n            [attr.aria-label]="\'CORE.PAGINATION.ARIA.ITEMS_PER_PAGE\' | translate"\n            [matMenuTriggerFor]="pageSizeMenu">\n            <mat-icon>arrow_drop_down</mat-icon>\n        </button>\n\n        <mat-menu #pageSizeMenu="matMenu" class="adf-pagination__page-selector">\n            <button\n                mat-menu-item\n                *ngFor="let pageSize of supportedPageSizes"\n                (click)="onChangePageSize(pageSize)">\n                {{ pageSize }}\n            </button>\n        </mat-menu>\n    </div>\n\n    <div class="adf-pagination__block adf-pagination__actualinfo-block">\n        <span class="adf-pagination__current-page">\n            {{ \'CORE.PAGINATION.CURRENT_PAGE\' | translate: { number: current } }}\n        </span>\n\n        <button\n            mat-icon-button\n            data-automation-id="page-selector"\n            [attr.aria-label]="\'CORE.PAGINATION.ARIA.CURRENT_PAGE\' | translate"\n            [matMenuTriggerFor]="pagesMenu"\n            *ngIf="pages.length > 1">\n            <mat-icon>arrow_drop_down</mat-icon>\n        </button>\n\n        <span class="adf-pagination__total-pages">\n            {{ \'CORE.PAGINATION.TOTAL_PAGES\' | translate: { total: pages.length } }}\n        </span>\n\n        <mat-menu #pagesMenu="matMenu" class="adf-pagination__page-selector">\n            <button\n                mat-menu-item\n                *ngFor="let pageNumber of pages"\n                (click)="onChangePageNumber(pageNumber)">\n                {{ pageNumber }}\n            </button>\n        </mat-menu>\n    </div>\n\n    <div class="adf-pagination__block adf-pagination__controls-block">\n        <button\n            class="adf-pagination__previous-button"\n            mat-icon-button\n            [attr.aria-label]="\'CORE.PAGINATION.ARIA.PREVIOUS_PAGE\' | translate"\n            [disabled]="isFirstPage"\n            (click)="goPrevious()">\n            <mat-icon>keyboard_arrow_left</mat-icon>\n        </button>\n\n        <button\n            class="adf-pagination__next-button"\n            mat-icon-button\n            [attr.aria-label]="\'CORE.PAGINATION.ARIA.NEXT_PAGE\' | translate"\n            [disabled]="isLastPage"\n            (click)="goNext()">\n            <mat-icon>keyboard_arrow_right</mat-icon>\n        </button>\n    </div>\n</ng-container>\n',changeDetection:A.ChangeDetectionStrategy.OnPush,encapsulation:A.ViewEncapsulation.None,styles:[""]}]}],h.ctorParameters=function(){return[{type:A.ChangeDetectorRef},{type:Te}]},h.propDecorators={target:[{type:A.Input}],supportedPageSizes:[{type:A.Input}],pagination:[{type:A.Input}],change:[{type:A.Output}],changePageNumber:[{type:A.Output}],changePageSize:[{type:A.Output}],nextPage:[{type:A.Output}],prevPage:[{type:A.Output}],isEmpty:[{type:A.HostBinding,args:["class.adf-pagination__empty"]}]},h}(),On=function(){function n(e,t){this.cdr=e,this.userPreferencesService=t,this.isLoading=!1,this.loadMore=new A.EventEmitter,this.pagination=n.DEFAULT_PAGINATION,this.requestPaginationModel={skipCount:0,merge:!0}}return Object.defineProperty(n.prototype,"target",{get:function(){return this._target},set:function(e){var t=this;e&&(this._target=e,this.paginationSubscription=e.pagination.subscribe(function(e){t.isLoading=!1,t.pagination=e,t.pagination.hasMoreItems||(t.pagination.hasMoreItems=!1),t.cdr.detectChanges()}))},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var t=this;this.userPreferencesService.select(Ce.PaginationSize).subscribe(function(e){t.pageSize=t.pageSize||e,t.requestPaginationModel.maxItems=t.pageSize})},n.prototype.onLoadMore=function(){this.requestPaginationModel.skipCount=0,this.requestPaginationModel.merge=!1,this.requestPaginationModel.maxItems+=this.pageSize,this.loadMore.next(this.requestPaginationModel),this._target&&(this.isLoading=!0,this._target.updatePagination(this.requestPaginationModel))},n.prototype.reset=function(){this.pagination.skipCount=0,this.pagination.maxItems=this.pageSize,this._target&&this._target.updatePagination(this.pagination)},n.prototype.ngOnDestroy=function(){this.paginationSubscription&&this.paginationSubscription.unsubscribe()},n.DEFAULT_PAGINATION=new I.Pagination({skipCount:0,maxItems:25,totalItems:0}),n.decorators=[{type:A.Component,args:[{selector:"adf-infinite-pagination",host:{"class":"infinite-adf-pagination"},template:'<div *ngIf="pagination?.hasMoreItems || isLoading" class="adf-infinite-pagination">\n\n    <button mat-button\n        *ngIf="!isLoading"\n        class="adf-infinite-pagination-load-more"\n        (click)="onLoadMore()"\n        data-automation-id="adf-infinite-pagination-button">\n            <ng-content></ng-content>\n    </button>\n\n    <mat-progress-bar *ngIf="isLoading"\n        mode="indeterminate"\n        class="adf-infinite-pagination-spinner"\n        data-automation-id="adf-infinite-pagination-spinner"></mat-progress-bar>\n</div>\n',changeDetection:A.ChangeDetectionStrategy.OnPush,encapsulation:A.ViewEncapsulation.None,styles:[".adf-infinite-pagination{display:flex;justify-content:space-around;min-height:56px}.adf-infinite-pagination-load-more{margin-bottom:10px;margin-top:10px}"]}]}],n.ctorParameters=function(){return[{type:A.ChangeDetectorRef},{type:Te}]},n.propDecorators={target:[{type:A.Input}],pageSize:[{type:A.Input}],isLoading:[{type:A.Input,args:["loading"]}],loadMore:[{type:A.Output}]},n}(),Dn=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[S.CommonModule,pe,D.TranslateModule.forChild()],declarations:[On,An],exports:[On,An]}]}],e}(),Rn=function ts(e){this.err=e},xn=function(){function e(e){this._defaultPrevented=!1,this._values=e}return Object.defineProperty(e.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultPrevented",{get:function(){return this._defaultPrevented},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){this._defaultPrevented=!0},e}(),_n=function ns(e,t,n){this.token=e,this.username=t,this.password=n},Pn={Landing:0,Checking:1,Welcome:2};Pn[Pn.Landing]="Landing",Pn[Pn.Checking]="Checking",Pn[Pn.Welcome]="Welcome";var kn=function(){function e(e,t,n,i,o,r,a,s,l){this._fb=e,this.authService=t,this.translateService=n,this.logService=i,this.router=o,this.appConfig=r,this.userPreferences=a,this.location=s,this.route=l,this.isPasswordShow=!1,this.showRememberMe=!0,this.showLoginActions=!0,this.needHelpLink="",this.registerLink="",this.logoImageUrl="./assets/images/alfresco-logo.svg",this.backgroundImageUrl="./assets/images/background.svg",this.copyrightText=" 2016 Alfresco Software, Inc. All Rights Reserved.",this.successRoute=null,this.success=new A.EventEmitter,this.error=new A.EventEmitter,this.executeSubmit=new A.EventEmitter,this.implicitFlow=!1,this.isError=!1,this.actualLoginStep=Pn.Landing,this.LoginSteps=Pn,this.rememberMe=!0,this.minLength=2,this.initFormError(),this.initFormFieldsMessages()}return e.prototype.ngOnInit=function(){var i=this;if(this.authService.isOauth()){var e=this.appConfig.get(U.OAUTHCONFIG,null);e&&e.implicitFlow&&(this.implicitFlow=!0)}this.authService.isEcmLoggedIn()||this.authService.isBpmLoggedIn()?this.location.forward():this.route.queryParams.subscribe(function(e){var t=e.redirectUrl,n=i.appConfig.get(U.PROVIDERS);i.authService.setRedirect({provider:n,url:t})}),this.hasCustomFieldsValidation()?this.form=this._fb.group(this.fieldsValidation):(this.initFormFieldsDefault(),this.initFormFieldsMessagesDefault()),this.form.valueChanges.subscribe(function(e){return i.onValueChanged(e)})},e.prototype.submit=function(){this.onSubmit(this.form.value)},e.prototype.onSubmit=function(e){if(this.disableError(),this.authService.isOauth()&&!this.authService.isSSODiscoveryConfigured())this.errorMsg="LOGIN.MESSAGES.SSO-WRONG-CONFIGURATION",this.isError=!0;else{var t=new xn({controls:{username:this.form.controls.username}});if(this.executeSubmit.emit(t),t.defaultPrevented)return!1;this.performLogin(e)}},e.prototype.implicitLogin=function(){this.authService.isOauth()&&!this.authService.isSSODiscoveryConfigured()?(this.errorMsg="LOGIN.MESSAGES.SSO-WRONG-CONFIGURATION",this.isError=!0):this.authService.ssoImplicitLogin()},e.prototype.onValueChanged=function(e){for(var t in this.disableError(),this.formError){if(t)if(this.formError[t]="",this.form.controls[t].errors&&""!==e[t]||this.form.controls[t].dirty&&!this.form.controls[t].valid)for(var n in this.form.controls[t].errors)if(n){var i=this._message[t][n];if(i&&i.value){var o=this.translateService.instant(i.value,i.params);this.formError[t]+=o}}}},e.prototype.performLogin=function(n){var i=this;this.actualLoginStep=Pn.Checking,this.authService.login(n.username,n.password,this.rememberMe).subscribe(function(e){var t=i.authService.getRedirect();i.actualLoginStep=Pn.Welcome,i.userPreferences.setStoragePrefix(n.username),n.password=null,i.success.emit(new _n(e,n.username,null)),t?(i.authService.setRedirect(null),i.router.navigateByUrl(t)):i.successRoute&&i.router.navigate([i.successRoute])},function(e){i.actualLoginStep=Pn.Landing,i.displayErrorMessage(e),i.isError=!0,i.error.emit(new Rn(e))},function(){return i.logService.info("Login done")})},e.prototype.displayErrorMessage=function(e){e.error&&e.error.crossDomain&&-1!==e.error.message.indexOf("Access-Control-Allow-Origin")?this.errorMsg=e.error.message:403===e.status&&-1!==e.message.indexOf("Invalid CSRF-token")?this.errorMsg="LOGIN.MESSAGES.LOGIN-ERROR-CSRF":403===e.status&&-1!==e.message.indexOf("The system is currently in read-only mode")?this.errorMsg="LOGIN.MESSAGES.LOGIN-ECM-LICENSE":this.errorMsg="LOGIN.MESSAGES.LOGIN-ERROR-CREDENTIALS"},e.prototype.addCustomFormError=function(e,t){this.formError[e]+=t},e.prototype.addCustomValidationError=function(e,t,n,i){this._message[e][t]={value:n,params:i}},e.prototype.toggleShowPassword=function(){this.isPasswordShow=!this.isPasswordShow},e.prototype.isErrorStyle=function(e){return!e.valid&&e.dirty&&!e.pristine},e.prototype.trimUsername=function(e){e.target.value=e.target.value.trim()},e.prototype.initFormError=function(){this.formError={username:"",password:""}},e.prototype.initFormFieldsMessages=function(){this._message={username:{},password:{}}},e.prototype.initFormFieldsMessagesDefault=function(){this._message={username:{required:{value:"LOGIN.MESSAGES.USERNAME-REQUIRED"},minLength:{value:"LOGIN.MESSAGES.USERNAME-MIN",params:{get minLength(){return this.minLength}}}},password:{required:{value:"LOGIN.MESSAGES.PASSWORD-REQUIRED"}}}},e.prototype.initFormFieldsDefault=function(){this.form=this._fb.group({username:["",O.Validators.required],password:["",O.Validators.required]})},e.prototype.disableError=function(){this.isError=!1,this.initFormError()},e.prototype.hasCustomFieldsValidation=function(){return this.fieldsValidation!==undefined},e.decorators=[{type:A.Component,args:[{selector:"adf-login",template:'<div class="adf-login-content" [style.background-image]="\'url(\' + backgroundImageUrl + \')\'">\n    <div class="adf-ie11FixerParent">\n        <div class="adf-ie11FixerChild">\n\n            <mat-card class="adf-login-card-wide">\n                <form id="adf-login-form" [formGroup]="form" (submit)="onSubmit(form.value)" autocomplete="off">\n                    <mat-card-header>\n                        <mat-card-title>\n                            <div class="adf-alfresco-logo">\n                                \x3c!--HEADER TEMPLATE--\x3e\n                                <ng-template *ngIf="headerTemplate"\n                                             ngFor [ngForOf]="[data]"\n                                             [ngForTemplate]="headerTemplate">\n                                </ng-template>\n                                <img *ngIf="!headerTemplate" id="adf-login-img-logo" class="adf-img-logo" [src]="logoImageUrl"\n                                     alt="{{\'LOGIN.LOGO\' | translate }}">\n                            </div>\n                        </mat-card-title>\n                    </mat-card-header>\n\n                    <mat-card-content class="adf-login-controls">\n\n                        \x3c!--ERRORS AREA--\x3e\n                        <div class="adf-error-container">\n                            <div *ngIf="isError" id="login-error" data-automation-id="login-error"\n                                 class="adf-error  adf-error-message">\n                                <mat-icon class="adf-error-icon">warning</mat-icon>\n                                <span class="adf-login-error-message">{{errorMsg | translate }}</span>\n                            </div>\n                        </div>\n\n                        <div *ngIf="!implicitFlow">\n\n                            \x3c!--USERNAME FIELD--\x3e\n                            <div class="adf-login__field"\n                                 [ngClass]="{\'adf-is-invalid\': isErrorStyle(form.controls.username)}">\n                                <mat-form-field class="adf-full-width" floatPlaceholder="never" color="primary">\n                                    <input matInput placeholder="{{\'LOGIN.LABEL.USERNAME\' | translate }}"\n                                           type="text"\n                                           class="adf-full-width"\n                                           [formControl]="form.controls[\'username\']"\n                                           autocapitalize="none"\n                                           id="username"\n                                           data-automation-id="username"\n                                           (blur)="trimUsername($event)">\n                                </mat-form-field>\n\n                                <span class="adf-login-validation" for="username" *ngIf="formError[\'username\']">\n                                <span id="username-error" class="adf-login-error" data-automation-id="username-error">{{formError[\'username\'] | translate }}</span>\n                            </span>\n                            </div>\n\n                            \x3c!--PASSWORD FIELD--\x3e\n                            <div class="adf-login__field">\n                                <mat-form-field class="adf-full-width" floatPlaceholder="never" color="primary">\n                                    <input matInput placeholder="{{\'LOGIN.LABEL.PASSWORD\' | translate }}"\n                                           [type]="isPasswordShow ? \'text\' : \'password\'"\n                                           [formControl]="form.controls[\'password\']"\n                                           id="password"\n                                           data-automation-id="password">\n                                    <mat-icon *ngIf="isPasswordShow" matSuffix class="adf-login-password-icon"\n                                              data-automation-id="hide_password" (click)="toggleShowPassword()" (keyup.enter)="toggleShowPassword()">\n                                        visibility\n                                    </mat-icon>\n                                    <mat-icon *ngIf="!isPasswordShow" matSuffix class="adf-login-password-icon"\n                                              data-automation-id="show_password" (click)="toggleShowPassword()" (keyup.enter)="toggleShowPassword()">\n                                        visibility_off\n                                    </mat-icon>\n                                </mat-form-field>\n                                <span class="adf-login-validation" for="password" *ngIf="formError[\'password\']">\n                                <span id="password-required" class="adf-login-error"\n                                      data-automation-id="password-required">{{formError[\'password\'] | translate }}</span>\n                            </span>\n                            </div>\n\n                            \x3c!--CUSTOM CONTENT--\x3e\n                            <ng-content></ng-content>\n\n                            <br>\n                            <button type="submit" id="login-button"\n                                    class="adf-login-button"\n                                    mat-raised-button color="primary"\n                                    [class.adf-isChecking]="actualLoginStep === LoginSteps.Checking"\n                                    [class.adf-isWelcome]="actualLoginStep === LoginSteps.Welcome"\n                                    data-automation-id="login-button" [disabled]="!form.valid">\n\n                                <span *ngIf="actualLoginStep === LoginSteps.Landing" class="adf-login-button-label">{{ \'LOGIN.BUTTON.LOGIN\' | translate }}</span>\n\n                                <div *ngIf="actualLoginStep === LoginSteps.Checking"\n                                     class="adf-interactive-login-label">\n                                    <span\n                                        class="adf-login-button-label">{{ \'LOGIN.BUTTON.CHECKING\' | translate }}</span>\n                                    <div class="adf-login-spinner-container">\n                                        <mat-spinner id="checking-spinner" class="adf-login-checking-spinner"\n                                                     [diameter]="25"></mat-spinner>\n                                    </div>\n                                </div>\n\n\n                                <div *ngIf="actualLoginStep === LoginSteps.Welcome" class="adf-interactive-login-label">\n                                    <span class="adf-login-button-label">{{ \'LOGIN.BUTTON.WELCOME\' | translate }}</span>\n                                    <mat-icon class="adf-welcome-icon">done</mat-icon>\n                                </div>\n\n                            </button>\n                            <div *ngIf="showRememberMe" class="adf-login__remember-me">\n                                <mat-checkbox id="adf-login-remember" color="primary" class="adf-login-remember-me"\n                                              [checked]="rememberMe"\n                                              (change)="rememberMe = !rememberMe">{{ \'LOGIN.LABEL.REMEMBER\' | translate }}\n                                </mat-checkbox>\n                            </div>\n                        </div>\n\n                        <div *ngIf="implicitFlow">\n                            <button type="button" (click)="implicitLogin()" id="login-button-sso"\n                                    class="adf-login-button"\n                                    mat-raised-button color="primary"\n                                    data-automation-id="login-button-sso">\n                                <span  class="adf-login-button-label">{{ \'LOGIN.BUTTON.SSO\' | translate }}</span>\n                            </button>\n                        </div>\n\n                    </mat-card-content>\n\n                    <mat-card-actions *ngIf="footerTemplate || showLoginActions">\n\n                        <div class="adf-login-action-container">\n                            \x3c!--FOOTER TEMPLATE--\x3e\n                            <ng-template *ngIf="footerTemplate"\n                                         ngFor [ngForOf]="[data]"\n                                         [ngForTemplate]="footerTemplate">\n                            </ng-template>\n                            <div class="adf-login-action" *ngIf="!footerTemplate && showLoginActions">\n                                <div id="adf-login-action-left" class="adf-login-action-left">\n                                    <a href="{{needHelpLink}}">{{\'LOGIN.ACTION.HELP\' | translate }}</a>\n                                </div>\n                                <div id="adf-login-action-right" class="adf-login-action-right">\n                                    <a href="{{registerLink}}">{{\'LOGIN.ACTION.REGISTER\' | translate }}</a>\n                                </div>\n                            </div>\n                        </div>\n                    </mat-card-actions>\n\n                </form>\n            </mat-card>\n\n            <div class="adf-copyright" data-automation-id="login-copyright">\n                {{ copyrightText }}\n            </div>\n\n        </div>\n    </div>\n</div>\n',encapsulation:A.ViewEncapsulation.None,host:{"class":"adf-login"},styles:[""]}]}],e.ctorParameters=function(){return[{type:O.FormBuilder},{type:$},{type:Ae},{type:q},{type:m.Router},{type:B},{type:Te},{type:S.Location},{type:m.ActivatedRoute}]},e.propDecorators={showRememberMe:[{type:A.Input}],showLoginActions:[{type:A.Input}],needHelpLink:[{type:A.Input}],registerLink:[{type:A.Input}],logoImageUrl:[{type:A.Input}],backgroundImageUrl:[{type:A.Input}],copyrightText:[{type:A.Input}],fieldsValidation:[{type:A.Input}],successRoute:[{type:A.Input}],success:[{type:A.Output}],error:[{type:A.Output}],executeSubmit:[{type:A.Output}]},e}(),Ln=function(){function e(e){this.alfrescoLoginComponent=e}return e.prototype.ngAfterContentInit=function(){this.alfrescoLoginComponent.headerTemplate=this.template},e.decorators=[{type:A.Directive,args:[{selector:"adf-login-header, login-header"}]}],e.ctorParameters=function(){return[{type:kn}]},e.propDecorators={template:[{type:A.ContentChild,args:[A.TemplateRef]}]},e}(),Mn=function(){function e(e){this.alfrescoLoginComponent=e}return e.prototype.ngAfterContentInit=function(){this.alfrescoLoginComponent.footerTemplate=this.template},e.decorators=[{type:A.Directive,args:[{selector:"adf-login-footer, login-footer"}]}],e.ctorParameters=function(){return[{type:kn}]},e.propDecorators={template:[{type:A.ContentChild,args:[A.TemplateRef]}]},e}(),Fn=function(){function e(e){this.data=e,this.buttonActionName="",this.buttonActionName=e.actionName?"LOGIN.DIALOG."+e.actionName.toUpperCase():"LOGIN.DIALOG.CHOOSE"}return e.prototype.close=function(){this.data.logged.complete()},e.prototype.submitForm=function(){this.loginPanel.submitForm()},e.prototype.onLoginSuccess=function(e){this.data.logged.next(e),this.close()},e.prototype.isFormValid=function(){return!!this.loginPanel&&this.loginPanel.isValid()},e.decorators=[{type:A.Component,args:[{selector:"adf-login-dialog",template:'<header\n    mat-dialog-title\n    data-automation-id="login-dialog-title">{{data?.title}}\n</header>\n\n<mat-dialog-content class="adf-login-dialog-content">\n    <adf-login-dialog-panel #adfLoginPanel\n                            (success)="onLoginSuccess($event)">\n    </adf-login-dialog-panel>\n</mat-dialog-content>\n\n<mat-dialog-actions align="end">\n    <button\n        mat-button\n        (click)="close()"\n        data-automation-id="login-dialog-actions-cancel">{{ \'LOGIN.DIALOG.CANCEL\' | translate }}\n    </button>\n\n    <button mat-button\n        class="choose-action"\n        data-automation-id="login-dialog-actions-perform"\n        [disabled]="!isFormValid()"\n        (click)="submitForm()">{{ buttonActionName | translate}}\n    </button>\n</mat-dialog-actions>\n',encapsulation:A.ViewEncapsulation.None,styles:[""]}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:A.Inject,args:[E.MAT_DIALOG_DATA]}]}]},e.propDecorators={loginPanel:[{type:A.ViewChild,args:["adfLoginPanel"]}]},e}(),Nn=function(){function e(){this.success=new A.EventEmitter}return e.prototype.submitForm=function(){this.login.submit()},e.prototype.onLoginSuccess=function(e){this.success.emit(e)},e.prototype.isValid=function(){return!(!this.login||!this.login.form)&&this.login.form.valid},e.decorators=[{type:A.Component,args:[{selector:"adf-login-dialog-panel",template:'<div>\n    <adf-login #adfLogin\n               class="adf-panel-login-dialog-component"\n               [showRememberMe]="false"\n               [showLoginActions]="false"\n               [backgroundImageUrl]="\'\'"\n               (success)="onLoginSuccess($event)">\n        <adf-login-header><ng-template></ng-template></adf-login-header>\n        <adf-login-footer><ng-template></ng-template></adf-login-footer>\n    </adf-login>\n</div>\n',encapsulation:A.ViewEncapsulation.None,styles:[""]}]}],e.propDecorators={success:[{type:A.Output}],login:[{type:A.ViewChild,args:["adfLogin"]}]},e}(),Vn=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[m.RouterModule,pe,O.FormsModule,O.ReactiveFormsModule,S.CommonModule,D.TranslateModule.forChild()],declarations:[kn,Mn,Ln,Fn,Nn],entryComponents:[Fn,Nn],exports:[kn,Mn,Ln,Fn,Nn]}]}],e}(),Un=function(){function e(e,t){this.appConfig=e,this.userPreference=t,this.languages=[{key:"en",label:"English"}]}return e.prototype.ngOnInit=function(){var e=this.appConfig.get(U.APP_CONFIG_LANGUAGES_KEY);e&&(this.languages=e)},e.prototype.changeLanguage=function(e){this.userPreference.locale=e},e.decorators=[{type:A.Component,args:[{selector:"adf-language-menu",template:'<button mat-menu-item *ngFor="let language of languages" (click)="changeLanguage(language.key)">{{language.label}}\n</button>\n'}]}],e.ctorParameters=function(){return[{type:B},{type:Te}]},e}(),jn=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[S.CommonModule,pe],declarations:[Un],exports:[Un]}]}],e}(),Bn=function(){function e(){}return e.decorators=[{type:A.Component,args:[{selector:"adf-info-drawer-layout",template:'<div class="adf-info-drawer-layout-header">\n    <div class="adf-info-drawer-layout-header-title">\n        <ng-content select="[info-drawer-title]"></ng-content>\n    </div>\n    <div class="adf-info-drawer-layout-header-buttons">\n        <ng-content select="[info-drawer-buttons]"></ng-content>\n    </div>\n</div>\n<div class="adf-info-drawer-layout-content">\n    <ng-content select="[info-drawer-content]"></ng-content>\n</div>',encapsulation:A.ViewEncapsulation.None,host:{"class":"adf-info-drawer-layout"},styles:[""]}]}],e}(),Hn=function(){function e(){}return e.decorators=[{type:A.Directive,args:[{selector:"[adf-info-drawer-title], [info-drawer-title]"}]}],e}(),Gn=function(){function e(){}return e.decorators=[{type:A.Directive,args:[{selector:"[adf-info-drawer-buttons], [info-drawer-buttons]"}]}],e}(),Yn=function(){function e(){}return e.decorators=[{type:A.Directive,args:[{selector:"[adf-info-drawer-content], [info-drawer-content]"}]}],e}(),zn=function(){function e(){this.label="",this.icon=null}return e.decorators=[{type:A.Component,args:[{selector:"adf-info-drawer-tab",template:"<ng-template><ng-content></ng-content></ng-template>"}]}],e.propDecorators={label:[{type:A.Input}],icon:[{type:A.Input}],content:[{type:A.ViewChild,args:[A.TemplateRef]}]},e}(),qn=function(){function e(){this.title=null,this.selectedIndex=0,this.currentTab=new A.EventEmitter}return e.prototype.showTabLayout=function(){return 0<this.contentBlocks.length},e.prototype.onTabChange=function(e){this.currentTab.emit(e.index)},e.decorators=[{type:A.Component,args:[{selector:"adf-info-drawer",template:'<adf-info-drawer-layout>\n    <div *ngIf="title" info-drawer-title>{{title}}</div>\n    <ng-content *ngIf="!title" info-drawer-title select="[info-drawer-title]"></ng-content>\n\n    <ng-content info-drawer-buttons select="[info-drawer-buttons]"></ng-content>\n\n    <ng-container info-drawer-content *ngIf="showTabLayout(); then tabLayout else singleLayout"></ng-container>\n\n    <ng-template #tabLayout>\n        <mat-tab-group [(selectedIndex)]="selectedIndex" class="adf-info-drawer-tabs" (selectedTabChange)="onTabChange($event)">\n            <mat-tab *ngFor="let contentBlock of contentBlocks"\n                [label]="contentBlock.label"\n                class="adf-info-drawer-tab">\n\n                <ng-template mat-tab-label>\n                    <mat-icon *ngIf="contentBlock.icon">{{ contentBlock.icon }}</mat-icon>\n                    <span *ngIf="contentBlock.label">{{ contentBlock.label }}</span>\n                </ng-template>\n\n                <ng-container *ngTemplateOutlet="contentBlock.content"></ng-container>\n            </mat-tab>\n        </mat-tab-group>\n    </ng-template>\n\n    <ng-template #singleLayout>\n        <ng-content select="[info-drawer-content]"></ng-content>\n    </ng-template>\n</adf-info-drawer-layout>\n',encapsulation:A.ViewEncapsulation.None,host:{"class":"adf-info-drawer"},styles:[".adf-info-drawer{display:block}.adf-info-drawer .mat-tab-label{min-width:0}.adf-info-drawer .adf-info-drawer-layout-content{padding:0}.adf-info-drawer .adf-info-drawer-layout-content>:not(.adf-info-drawer-tabs){padding:10px}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body-content>*,.adf-info-drawer .adf-info-drawer-layout-content>:not(.adf-info-drawer-tabs)>*{margin-bottom:20px;display:block}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body-content>:last-child{margin-bottom:0}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-label{flex-grow:1}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-label .mat-icon+span{padding-left:5px}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-ink-bar{height:4px}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body{padding:10px}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body-content{overflow:initial}"]}]}],e.propDecorators={title:[{type:A.Input}],selectedIndex:[{type:A.Input}],currentTab:[{type:A.Output}],contentBlocks:[{type:A.ContentChildren,args:[zn]}]},e}();function Wn(){return[Bn,zn,qn,Hn,Gn,Yn]}var $n=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[S.CommonModule,pe],declarations:Wn(),exports:Wn()}]}],e}(),Xn=function(){function e(e,t,n){this.appConfigService=e,this.presetKey=t,this.presetsModel=n,this.layoutPresets={}}return e.prototype.createDatatableSchema=function(){this.loadLayoutPresets(),this.columns&&0!==this.columns.length||(this.columns=this.mergeJsonAndHtmlSchema())},e.prototype.loadLayoutPresets=function(){var e=this.appConfigService.get(this.presetKey,null);this.layoutPresets=e?Object.assign({},this.presetsModel,e):this.presetsModel},e.prototype.mergeJsonAndHtmlSchema=function(){var e=this.getSchemaFromConfig(this.presetColumn).concat(this.getSchemaFromHtml(this.columnList));return 0===e.length&&(e=this.getDefaultLayoutPreset()),e},e.prototype.getSchemaFromHtml=function(e){var t=[];return e&&e.columns&&0<e.columns.length&&(t=e.columns.map(function(e){return e})),t},e.prototype.getSchemaFromConfig=function(e){return e?this.layoutPresets[e].map(function(e){return new ae(e)}):[]},e.prototype.getDefaultLayoutPreset=function(){return this.layoutPresets["default"].map(function(e){return new ae(e)})},e.propDecorators={columnList:[{type:A.ContentChild,args:[ot]}],presetColumn:[{type:A.Input}]},e}(),Kn=function(){function e(){this.displayEmpty=!0}return e.decorators=[{type:A.Component,args:[{selector:"adf-card-view",template:'<div class="adf-property-list">\n    <div *ngFor="let property of properties">\n        <div [attr.data-automation-id]="\'header-\'+property.key" class="adf-property">\n            <adf-card-view-item-dispatcher\n                [property]="property"\n                [editable]="editable"\n                [displayEmpty]="displayEmpty">\n            </adf-card-view-item-dispatcher>\n        </div>\n    </div>\n</div>\n',styles:[""]}]}],e.propDecorators={properties:[{type:A.Input}],editable:[{type:A.Input}],displayEmpty:[{type:A.Input}]},e}();function Jn(e,t){return e.split(".").reverse().reduce(function(e,t){var n;return(n={})[t]=e,n},t)}var Qn=function(){function e(){this.itemUpdatedSource=new C.Subject,this.itemClickedSource=new C.Subject,this.itemUpdated$=this.itemUpdatedSource.asObservable(),this.itemClicked$=this.itemClickedSource.asObservable()}return e.prototype.update=function(e,t){this.itemUpdatedSource.next({target:e,changed:Jn(e.key,t)})},e.prototype.clicked=function(e){this.itemClickedSource.next({target:e})},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=A.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),Zn=function(){function e(e){this.cardViewUpdateService=e}return e.prototype.isEditable=function(){return this.editable&&this.property.editable},e.prototype.changed=function(e){this.cardViewUpdateService.update(this.property,e.checked),this.property.value=e.checked},e.decorators=[{type:A.Component,args:[{selector:"adf-card-view-boolitem",template:'<ng-container *ngIf="!property.isEmpty() || isEditable()">\n    <div [attr.data-automation-id]="\'card-boolean-label-\' + property.key" class="adf-property-label">{{ property.label | translate }}</div>\n    <div class="adf-property-value">\n        <mat-checkbox\n            [attr.data-automation-id]="\'card-boolean-\' + property.key"\n            [attr.title]="\'CORE.METADATA.ACTIONS.TOGGLE\' | translate"\n            [checked]="property.displayValue"\n            [disabled]="!isEditable()"\n            (change)="changed($event)">\n        </mat-checkbox>\n    </div>\n</ng-container>\n',styles:[""]}]}],e.ctorParameters=function(){return[{type:Qn}]},e.propDecorators={property:[{type:A.Input}],editable:[{type:A.Input}]},e}(),ei=ie,ti=c.MAT_MOMENT_DATETIME_FORMATS,ni=function(){function e(e,t,n){this.cardViewUpdateService=e,this.dateAdapter=t,this.userPreferencesService=n,this.SHOW_FORMAT="MMM DD YY",this.editable=!1,this.displayEmpty=!0}return e.prototype.ngOnInit=function(){var t=this;this.userPreferencesService.select(Ce.Locale).subscribe(function(e){t.dateAdapter.setLocale(e)}),this.dateAdapter.overrideDisplayFormat=this.SHOW_FORMAT,this.property.value&&(this.valueDate=b(this.property.value,this.SHOW_FORMAT))},e.prototype.showProperty=function(){return this.displayEmpty||!this.property.isEmpty()},e.prototype.isEditable=function(){return this.editable&&this.property.editable},e.prototype.showDatePicker=function(){this.datepicker.open()},e.prototype.onDateChanged=function(e){if(e){var t=b(e.value,this.SHOW_FORMAT,!0);t.isValid()&&(this.valueDate=t,this.cardViewUpdateService.update(this.property,t.toDate()),this.property.value=t.toDate())}},e.decorators=[{type:A.Component,args:[{providers:[{provide:E.DateAdapter,useClass:oe},{provide:E.MAT_DATE_FORMATS,useValue:ei},{provide:u.DatetimeAdapter,useClass:c.MomentDatetimeAdapter},{provide:u.MAT_DATETIME_FORMATS,useValue:ti}],selector:"adf-card-view-dateitem",template:'<div [attr.data-automation-id]="\'card-dateitem-label-\' + property.key" class="adf-property-label" *ngIf="showProperty() || isEditable()">{{ property.label | translate }}</div>\n<div class="adf-property-value">\n    <span *ngIf="!isEditable()" [attr.data-automation-id]="\'card-\' + property.type + \'-value-\' + property.key">\n        <span [attr.data-automation-id]="\'card-dateitem-\' + property.key">\n            <span *ngIf="showProperty()">{{ property.displayValue }}</span>\n        </span>\n    </span>\n    <div *ngIf="isEditable()" class="adf-dateitem-editable">\n        <div class="adf-dateitem-editable-controls">\n            <span\n                class="adf-datepicker-toggle"\n                [attr.data-automation-id]="\'datepicker-label-toggle-\' + property.key"\n                (click)="showDatePicker()">\n                <span [attr.data-automation-id]="\'card-\' + property.type + \'-value-\' + property.key" *ngIf="showProperty(); else elseEmptyValueBlock">{{ property.displayValue }}</span>\n            </span>\n            <mat-datetimepicker-toggle\n                [attr.title]="\'CORE.METADATA.ACTIONS.EDIT\' | translate"\n                [attr.data-automation-id]="\'datepickertoggle-\' + property.key"\n                [for]="datetimePicker">\n            </mat-datetimepicker-toggle>\n        </div>\n\n        <input class="adf-invisible-date-input"\n            [matDatetimepicker]="datetimePicker"\n            [value]="valueDate"\n            (dateChange)="onDateChanged($event)">\n\n        <mat-datetimepicker #datetimePicker\n            [type]="property.type"\n            timeInterval="5"\n            [attr.data-automation-id]="\'datepicker-\' + property.key"\n            [startAt]="valueDate">\n        </mat-datetimepicker>\n    </div>\n    <ng-template #elseEmptyValueBlock>\n        {{ property.default | translate }}\n    </ng-template>\n</div>\n',styles:[""]}]}],e.ctorParameters=function(){return[{type:Qn},{type:E.DateAdapter},{type:Te}]},e.propDecorators={property:[{type:A.Input}],editable:[{type:A.Input}],displayEmpty:[{type:A.Input}],datepicker:[{type:A.ViewChild,args:["datetimePicker"]}]},e}(),ii=function(){function e(e){this.cardViewUpdateService=e,this.displayEmpty=!0}return e.prototype.showProperty=function(){return this.displayEmpty||!this.property.isEmpty()},e.prototype.isClickable=function(){return this.property.clickable},e.prototype.clicked=function(){this.cardViewUpdateService.clicked(this.property)},e.decorators=[{type:A.Component,args:[{selector:"adf-card-view-mapitem",template:'<div [attr.data-automation-id]="\'card-mapitem-label-\' + property.key" class="adf-property-label" *ngIf="showProperty()">{{ property.label | translate }}</div>\n<div class="adf-property-value">\n    <div>\n        <span *ngIf="!isClickable(); else elseBlock" [attr.data-automation-id]="\'card-mapitem-value-\' + property.key">\n            <span *ngIf="showProperty();">{{ property.displayValue }}</span>\n        </span>\n        <ng-template #elseBlock>\n            <span class="adf-mapitem-clickable-value" (click)="clicked()" [attr.data-automation-id]="\'card-mapitem-value-\' + property.key">\n                <span *ngIf="showProperty(); else elseEmptyValueBlock">{{ property.displayValue }}</span>\n            </span>\n        </ng-template>\n    </div>\n    <ng-template #elseEmptyValueBlock>\n        {{ property.default | translate }}\n    </ng-template>\n</div>\n',styles:[".adf-mapitem-clickable-value{cursor:pointer!important}"]}]}],e.ctorParameters=function(){return[{type:Qn}]},e.propDecorators={property:[{type:A.Input}],displayEmpty:[{type:A.Input}]},e}(),oi=function(){function n(e,t){this.cardViewUpdateService=e,this.appConfig=t,this.editable=!1,this.displayEmpty=!0,this.inEdit=!1,this.valueSeparator=this.appConfig.get("content-metadata.multi-value-pipe-separator")||n.DEFAULT_SEPARATOR}return n.prototype.ngOnChanges=function(){this.editedValue=this.property.multiline?this.property.displayValue:this.property.value},n.prototype.showProperty=function(){return this.displayEmpty||!this.property.isEmpty()},n.prototype.isEditable=function(){return this.editable&&this.property.editable},n.prototype.isClickable=function(){return!!this.property.clickable},n.prototype.hasIcon=function(){return!!this.property.icon},n.prototype.hasErrors=function(){return this.errorMessages&&0<this.errorMessages.length},n.prototype.setEditMode=function(e){var t=this;this.inEdit=e,setTimeout(function(){t.editorInput&&t.editorInput.nativeElement.click()},0)},n.prototype.reset=function(){this.editedValue=this.property.multiline?this.property.displayValue:this.property.value,this.setEditMode(!1),this.resetErrorMessages()},n.prototype.resetErrorMessages=function(){this.errorMessages=[]},n.prototype.update=function(){if(this.property.isValid(this.editedValue)){var e=this.prepareValueForUpload(this.property,this.editedValue);this.cardViewUpdateService.update(this.property,e),this.property.value=e,this.setEditMode(!1),this.resetErrorMessages()}else this.errorMessages=this.property.getValidationErrors(this.editedValue)},n.prototype.prepareValueForUpload=function(e,t){return e.multivalued?t.split(this.valueSeparator.trim()).map(function(e){return e.trim()}):t},n.prototype.onTextAreaInputChange=function(){this.errorMessages=this.property.getValidationErrors(this.editedValue)},n.prototype.clicked=function(){"function"==typeof this.property.clickCallBack?this.property.clickCallBack():this.cardViewUpdateService.clicked(this.property)},n.DEFAULT_SEPARATOR=", ",n.decorators=[{type:A.Component,args:[{selector:"adf-card-view-textitem",template:'<div [attr.data-automation-id]="\'card-textitem-label-\' + property.key" class="adf-property-label" *ngIf="showProperty() || isEditable()">{{ property.label | translate }}</div>\n<div class="adf-property-value">\n    <span *ngIf="!isEditable()">\n        <span *ngIf="!isClickable(); else elseBlock" [attr.data-automation-id]="\'card-textitem-value-\' + property.key">\n            <span *ngIf="showProperty()" class="adf-textitem-ellipsis">{{ property.displayValue }}</span>\n        </span>\n        <ng-template #elseBlock>\n            <div class="adf-textitem-clickable" (click)="clicked()" fxLayout="row" fxLayoutAlign="space-between center">\n                <span class="adf-textitem-clickable-value" [attr.data-automation-id]="\'card-textitem-value-\' + property.key">\n                    <span *ngIf="showProperty(); else elseEmptyValueBlock">{{ property.displayValue }}</span>\n                </span>\n            </div>\n        </ng-template>\n    </span>\n    <span *ngIf="isEditable()">\n        <div *ngIf="!inEdit" (click)="setEditMode(true)" class="adf-textitem-readonly" [attr.data-automation-id]="\'card-textitem-edit-toggle-\' + property.key" fxLayout="row" fxLayoutAlign="space-between center">\n            <span [attr.data-automation-id]="\'card-textitem-value-\' + property.key">\n                <span *ngIf="showProperty(); else elseEmptyValueBlock">{{ property.displayValue }}</span>\n            </span>\n            <mat-icon fxFlex="0 0 auto"\n                [attr.data-automation-id]="\'card-textitem-edit-icon-\' + property.key"\n                [attr.title]="\'CORE.METADATA.ACTIONS.EDIT\' | translate"\n                class="adf-textitem-icon">create</mat-icon>\n        </div>\n        <div *ngIf="inEdit" class="adf-textitem-editable">\n            <div class="adf-textitem-editable-controls">\n                <mat-form-field floatPlaceholder="never" class="adf-input-container">\n                    <input *ngIf="!property.multiline" #editorInput\n                        matInput\n                        class="adf-input"\n                        [placeholder]="property.default | translate"\n                        [(ngModel)]="editedValue"\n                        [attr.data-automation-id]="\'card-textitem-editinput-\' + property.key">\n                    <textarea *ngIf="property.multiline" #editorInput\n                        matInput\n                        matTextareaAutosize\n                        matAutosizeMaxRows="1"\n                        matAutosizeMaxRows="5"\n                        class="adf-textarea"\n                        [placeholder]="property.default | translate"\n                        [(ngModel)]="editedValue"\n                        (input)="onTextAreaInputChange()"\n                        [attr.data-automation-id]="\'card-textitem-edittextarea-\' + property.key"></textarea>\n                </mat-form-field>\n                <mat-icon\n                    [ngClass]="{\'disable\': hasErrors()}"\n                    (click)="update()"\n                    [attr.data-automation-id]="\'card-textitem-update-\' + property.key"\n                    class="adf-textitem-icon adf-update-icon"\n                    [class.adf-button-disabled]="hasErrors()"\n                    [attr.title]="\'CORE.METADATA.ACTIONS.SAVE\' | translate">done</mat-icon>\n                <mat-icon\n                    class="adf-textitem-icon adf-reset-icon"\n                    (click)="reset()"\n                    [attr.title]="\'CORE.METADATA.ACTIONS.CANCEL\' | translate"\n                    [attr.data-automation-id]="\'card-textitem-reset-\' + property.key">clear</mat-icon>\n\n            </div>\n            <mat-error  [attr.data-automation-id]="\'card-textitem-error-\' + property.key" class="adf-textitem-editable-error" *ngIf="hasErrors()">\n                <ul>\n                    <li *ngFor="let errorMessage of errorMessages">{{ errorMessage | translate }}</li>\n                </ul>\n            </mat-error>\n        </div>\n    </span>\n    <ng-template #elseEmptyValueBlock>\n        <span class="adf-textitem-default-value">{{ property.default | translate }}</span>\n    </ng-template>\n</div>\n',styles:[""]}]}],n.ctorParameters=function(){return[{type:Qn},{type:B}]},n.propDecorators={property:[{type:A.Input}],editable:[{type:A.Input}],displayEmpty:[{type:A.Input}],editorInput:[{type:A.ViewChild,args:["editorInput"]}]},n}(),ri=function(){function e(e){this.cardViewUpdateService=e,this.editable=!1}return e.prototype.ngOnChanges=function(){this.value=this.property.value},e.prototype.isEditable=function(){return this.editable&&this.property.editable},e.prototype.getOptions=function(){return this.options$||this.property.options$},e.prototype.onChange=function(e){this.cardViewUpdateService.update(this.property,e.value),this.property.value=e.value},e.decorators=[{type:A.Component,args:[{selector:"adf-card-view-selectitem",template:'<div [attr.data-automation-id]="\'card-select-label-\' + property.key" class="adf-property-label">{{ property.label | translate }}</div>\n<div class="adf-property-value">\n    <div *ngIf="!isEditable()" data-automation-class="read-only-value">{{ property.displayValue | async }}</div>\n    <div *ngIf="isEditable()">\n        <mat-form-field>\n            <mat-select [(value)]="value" (selectionChange)="onChange($event)" data-automation-class="select-box">\n              <mat-option *ngFor="let option of getOptions() | async" [value]="option.key">\n                {{ option.label | translate }}\n              </mat-option>\n            </mat-select>\n          </mat-form-field>\n    </div>\n</div>\n',styles:[".mat-form-field-type-mat-select{width:100%}"]}]}],e.ctorParameters=function(){return[{type:Qn}]},e.propDecorators={property:[{type:A.Input}],editable:[{type:A.Input}],options$:[{type:A.Input}]},e}(),ai=function(){function e(e){this.cardViewUpdateService=e,this.editable=!1}return e.prototype.ngOnChanges=function(){this.values=this.property.value||[],this.matTableValues=new E.MatTableDataSource(this.values)},e.prototype.isEditable=function(){return this.editable&&this.property.editable},e.prototype.add=function(){this.values.push({name:"",value:""})},e.prototype.remove=function(e){this.values.splice(e,1),this.save(!0)},e.prototype.onBlur=function(e){e.length&&this.save()},e.prototype.save=function(e){var t=this.values.filter(function(e){return e.name.length&&e.value.length});(e||t.length)&&(this.cardViewUpdateService.update(this.property,t),this.property.value=t)},e.decorators=[{type:A.Component,args:[{selector:"adf-card-view-boolitem",template:'<div [attr.data-automation-id]="\'card-key-value-pairs-label-\' + property.key" class="adf-property-label">{{ property.label | translate }}</div>\n<div class="adf-property-value">\n\n    <div *ngIf="isEditable()">\n        {{ \'CORE.CARDVIEW.KEYVALUEPAIRS.ADD\' | translate }}\n        <button (click)="add()" mat-icon-button class="adf-card-view__key-value-pairs__add-btn" [attr.data-automation-id]="\'card-key-value-pairs-button-\' + property.key">\n            <mat-icon>add</mat-icon>\n        </button>\n    </div>\n\n    <div *ngIf="!isEditable()" class="adf-card-view__key-value-pairs__read-only">\n        <mat-table #table [dataSource]="matTableValues" class="mat-elevation-z8">\n            <ng-container matColumnDef="name">\n                <mat-header-cell *matHeaderCellDef>{{ \'CORE.CARDVIEW.KEYVALUEPAIRS.NAME\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let item">{{item.name}}</mat-cell>\n            </ng-container>\n            <ng-container matColumnDef="value">\n                <mat-header-cell *matHeaderCellDef>{{ \'CORE.CARDVIEW.KEYVALUEPAIRS.VALUE\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let item">{{item.value}}</mat-cell>\n            </ng-container>\n\n            <mat-header-row *matHeaderRowDef="[\'name\', \'value\']"></mat-header-row>\n            <mat-row *matRowDef="let row; columns: [\'name\', \'value\'];"></mat-row>\n        </mat-table>\n    </div>\n\n\n    <div class="adf-card-view__key-value-pairs" *ngIf="isEditable() && values && values.length">\n        <div class="adf-card-view__key-value-pairs__row">\n            <div class="adf-card-view__key-value-pairs__col">{{ \'CORE.CARDVIEW.KEYVALUEPAIRS.NAME\' | translate }}</div>\n            <div class="adf-card-view__key-value-pairs__col">{{ \'CORE.CARDVIEW.KEYVALUEPAIRS.VALUE\' | translate }}</div>\n        </div>\n\n        <div class="adf-card-view__key-value-pairs__row" *ngFor="let item of values; let i = index">\n            <div class="adf-card-view__key-value-pairs__col">\n                <mat-form-field class="adf-example-full-width">\n                    <input matInput\n                           placeholder="{{ \'CORE.CARDVIEW.KEYVALUEPAIRS.NAME\' | translate }}"\n                           (blur)="onBlur(item.value)"\n                           [attr.data-automation-id]="\'card-\'+ property.key +\'-name-input-\' + i"\n                           [(ngModel)]="values[i].name">\n                </mat-form-field>\n            </div>\n            <div class="adf-card-view__key-value-pairs__col">\n                <mat-form-field class="adf-example-full-width">\n                    <input matInput\n                           placeholder="{{ \'CORE.CARDVIEW.KEYVALUEPAIRS.VALUE\' | translate }}"\n                           (blur)="onBlur(item.value)"\n                           [attr.data-automation-id]="\'card-\'+ property.key +\'-value-input-\' + i"\n                           [(ngModel)]="values[i].value">\n                </mat-form-field>\n            </div>\n            <button mat-icon-button (click)="remove(i)" class="adf-card-view__key-value-pairs__remove-btn">\n                <mat-icon>close</mat-icon>\n            </button>\n        </div>\n    </div>\n</div>\n',styles:[".adf-card-view__key-value-pairs__col{display:inline-block;width:39%}.adf-card-view__key-value-pairs__col .mat-form-field{width:100%}.adf-card-view__key-value-pairs__read-only .mat-table{box-shadow:none}.adf-card-view__key-value-pairs__read-only .mat-header-row,.adf-card-view__key-value-pairs__read-only .mat-row{padding:0}"]}]}],e.ctorParameters=function(){return[{type:Qn}]},e.propDecorators={property:[{type:A.Input}],editable:[{type:A.Input}]},e}();
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function si(e){return function(){return e}}var li=function(){function e(){}return e.fromType=function(e){return si(e)},e}(),ci=function(){function e(){this.defaultValue=undefined,this.types={}}return e.prototype.getComponentTypeResolver=function(e,t){return void 0===t&&(t=this.defaultValue),e&&this.types[e]||li.fromType(t)},e.prototype.setComponentTypeResolver=function(e,t,n){if(void 0===n&&(n=!0),!e)throw new Error("type is null or not defined");if(!t)throw new Error("resolver is null or not defined");if(this.types[e]&&!n)throw new Error("already mapped, use override option if you intend replacing existing mapping.");this.types[e]=t},e.prototype.resolveComponentType=function(e,t){return void 0===t&&(t=this.defaultValue),e?this.getComponentTypeResolver(e.type,t)(e):t},e}(),ui=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultValue=oi,e.types={text:li.fromType(oi),select:li.fromType(ri),"int":li.fromType(oi),"float":li.fromType(oi),date:li.fromType(ni),datetime:li.fromType(ni),bool:li.fromType(Zn),map:li.fromType(ii),keyvaluepairs:li.fromType(ai)},e}return _(e,t),e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=A.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(ci),pi=function(){function e(e){this.viewContainerRef=e}return e.decorators=[{type:A.Directive,args:[{selector:"[adf-card-view-content-proxy]"}]}],e.ctorParameters=function(){return[{type:A.ViewContainerRef}]},e}(),di=function(){function e(e,t){var n=this;this.cardItemTypeService=e,this.resolver=t,this.displayEmpty=!0,this.loaded=!1,this.componentReference=null;["ngOnInit","ngDoCheck","ngAfterContentInit","ngAfterContentChecked","ngAfterViewInit","ngAfterViewChecked","ngOnDestroy"].forEach(function(e){n[e]=n.proxy.bind(n,e)})}return e.prototype.ngOnChanges=function(t){var o=this;this.loaded||(this.loadComponent(),this.loaded=!0),Object.keys(t).map(function(e){return[e,t[e]]}).forEach(function(e){var t=F(e,2),n=t[0],i=t[1];o.componentReference.instance[n]=i.currentValue}),this.proxy("ngOnChanges",t)},e.prototype.loadComponent=function(){var e=this.cardItemTypeService.resolveComponentType(this.property),t=this.resolver.resolveComponentFactory(e);this.componentReference=this.content.viewContainerRef.createComponent(t),this.componentReference.instance.editable=this.editable,this.componentReference.instance.property=this.property,this.componentReference.instance.displayEmpty=this.displayEmpty},e.prototype.proxy=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.componentReference.instance[e]&&this.componentReference.instance[e].apply(this.componentReference.instance,t)},e.decorators=[{type:A.Component,args:[{selector:"adf-card-view-item-dispatcher",template:"<ng-template adf-card-view-content-proxy></ng-template>"}]}],e.ctorParameters=function(){return[{type:ui},{type:A.ComponentFactoryResolver}]},e.propDecorators={property:[{type:A.Input}],editable:[{type:A.Input}],displayEmpty:[{type:A.Input}],content:[{type:A.ViewChild,args:[pi]}]},e}(),fi=function(){function e(){this.message="CORE.CARDVIEW.VALIDATORS.INT_VALIDATION_ERROR"}return e.prototype.isValid=function(e){return!isNaN(e)&&(0|(t=parseFloat(e)))===t;var t},e}(),mi=function(){function e(){this.message="CORE.CARDVIEW.VALIDATORS.FLOAT_VALIDATION_ERROR"}return e.prototype.isValid=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},e}(),hi=function(){function e(e){this.label=e.label||"",this.value=e.value,this.key=e.key,this["default"]=e["default"],this.editable=!!e.editable,this.clickable=!!e.clickable,this.icon=e.icon||"",this.validators=e.validators||[],this.data=e.data||null}return e.prototype.isEmpty=function(){return this.value===undefined||null===this.value||""===this.value},e.prototype.isValid=function(t){return!this.validators.length||this.validators.map(function(e){return e.isValid(t)}).reduce(function(e,t){return e&&t},!0)},e.prototype.getValidationErrors=function(t){return this.validators.length?this.validators.filter(function(e){return!e.isValid(t)}).map(function(e){return e.message}):[]},e}(),gi=function(n){function e(e){var t=n.call(this,e)||this;return t.type="bool",t.value=!1,e.value!==undefined&&(t.value=!!JSON.parse(e.value)),t}return _(e,n),Object.defineProperty(e.prototype,"displayValue",{get:function(){return this.isEmpty()?this["default"]:this.value},enumerable:!0,configurable:!0}),e}(hi),yi=function(n){function e(e){var t=n.call(this,e)||this;return t.type="date",t.format="MMM DD YYYY",e.format&&(t.format=e.format),t}return _(e,n),Object.defineProperty(e.prototype,"displayValue",{get:function(){return this.value?b(this.value).format(this.format):this["default"]},enumerable:!0,configurable:!0}),e}(hi),vi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="datetime",e.format="MMM DD YYYY HH:mm",e}return _(e,t),e}(yi),bi=function(n){function e(e){var t=n.call(this,e)||this;return t.type="text",t.multiline=!!e.multiline,t.multivalued=!!e.multivalued,t.pipes=e.pipes||[],t.clickCallBack=e.clickCallBack?e.clickCallBack:null,t}return _(e,n),Object.defineProperty(e.prototype,"displayValue",{get:function(){return this.isEmpty()?this["default"]:this.applyPipes(this.value)},enumerable:!0,configurable:!0}),e.prototype.applyPipes=function(e){return this.pipes.length&&(e=this.pipes.reduce(function(e,t){var n=t.pipe,i=t.params,o=void 0===i?[]:i;return n.transform.apply(n,N([e],o))},e)),e},e}(hi),Ei=function(n){function e(e){var t=n.call(this,e)||this;return t.type="float",t.validators.push(new mi),e.value&&(t.value=parseFloat(e.value)),t}return _(e,n),e}(bi),Ii=function(n){function e(e){var t=n.call(this,e)||this;return t.type="int",t.validators.push(new fi),e.value&&(t.value=parseInt(e.value,10)),t}return _(e,n),e}(bi),wi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="map",e}return _(e,t),Object.defineProperty(e.prototype,"displayValue",{get:function(){return this.value&&0<this.value.size?this.value.values().next().value:this["default"]},enumerable:!0,configurable:!0}),e}(hi),Ci=function(n){function e(e){var t=n.call(this,e)||this;return t.type="keyvaluepairs",t}return _(e,n),Object.defineProperty(e.prototype,"displayValue",{get:function(){return this.value},enumerable:!0,configurable:!0}),e}(hi),Ti=function(n){function e(e){var t=n.call(this,e)||this;return t.type="select",t.options$=e.options$,t}return _(e,n),Object.defineProperty(e.prototype,"displayValue",{get:function(){var n=this;return this.options$.pipe(y.switchMap(function(e){var t=e.find(function(e){return e.key===n.value});return C.of(t?t.label:"")}))},enumerable:!0,configurable:!0}),e}(hi),Si=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[S.CommonModule,O.FormsModule,f.FlexLayoutModule,D.TranslateModule.forChild(),E.MatDatepickerModule,E.MatNativeDateModule,E.MatCheckboxModule,E.MatInputModule,E.MatTableModule,E.MatIconModule,E.MatSelectModule,E.MatButtonModule,u.MatDatetimepickerModule,u.MatNativeDatetimeModule],declarations:[Kn,Zn,ni,ii,oi,ai,ri,di,pi],entryComponents:[Zn,ni,ii,oi,ri,ai],exports:[Kn,Zn,ni,ii,oi,ri,ai]}]}],e}(),Ai=function(n){function e(e){return n.call(this,e)||this}return _(e,n),e.prototype.get=function(e,t){return e===U.OAUTHCONFIG?JSON.parse(this.getItem(e))||n.prototype.get.call(this,e,t):e===U.APPLICATION?undefined:this.getItem(e)||n.prototype.get.call(this,e,t)},e.prototype.getItem=function(e){return localStorage.getItem(e)},e.decorators=[{type:A.Injectable}],e.ctorParameters=function(){return[{type:w.HttpClient}]},e}(B),Oi=function(){function e(e){this.config=e}return e.prototype.transform=function(e,t){return this.config.get(e,t)},e.decorators=[{type:A.Pipe,args:[{name:"adfAppConfig"}]}],e.ctorParameters=function(){return[{type:B}]},e}(),Di=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[w.HttpClientModule],declarations:[Oi],exports:[Oi]}]}],e}(),Ri=function(a){function e(e,t,n,i,o){var r=a.call(this)||this;return r.reusable=!1,r.newVersion=!1,r.formImageBase64="",r.formRepresentation={id:e,name:t,description:"",version:1,lastUpdatedBy:1,lastUpdatedByFullName:n,lastUpdated:i,stencilSetId:0,referenceId:null,formDefinition:{fields:[{name:"Label",type:"container",fieldType:"ContainerRepresentation",numberOfColumns:2,required:!1,readOnly:!1,sizeX:2,sizeY:1,row:-1,col:-1,fields:{1:r.metadataToFields(o)}}],gridsterForm:!1,javascriptEvents:[],metadata:{},outcomes:[],className:"",style:"",tabs:[],variables:[]}},r}return _(e,a),e.prototype.metadataToFields=function(e){var n=[];return e&&e.forEach(function(e){if(e){var t={type:"text",id:e.name,name:e.name,required:!1,readOnly:!1,sizeX:1,sizeY:1,row:-1,col:-1,colspan:1,params:{existingColspan:1,maxColspan:2},layout:{colspan:1,row:-1,column:-1}};n.push(t)}}),n},e}(I.FormSaveRepresentation),xi=function(){function t(){}return t.isReadOnlyType=function(e){return-1<t.READONLY_TYPES.indexOf(e)},t.isContainerType=function(e){return e===t.CONTAINER||e===t.GROUP},t.CONTAINER="container",t.GROUP="group",t.DYNAMIC_TABLE="dynamic-table",t.TEXT="text",t.MULTILINE_TEXT="multi-line-text",t.DROPDOWN="dropdown",t.HYPERLINK="hyperlink",t.RADIO_BUTTONS="radio-buttons",t.DISPLAY_VALUE="readonly",t.READONLY_TEXT="readonly-text",t.UPLOAD="upload",t.TYPEAHEAD="typeahead",t.FUNCTIONAL_GROUP="functional-group",t.PEOPLE="people",t.BOOLEAN="boolean",t.NUMBER="integer",t.DATE="date",t.AMOUNT="amount",t.DOCUMENT="document",t.DATETIME="datetime",t.ATTACH_FOLDER="select-folder",t.READONLY_TYPES=[t.HYPERLINK,t.DISPLAY_VALUE,t.READONLY_TEXT],t}(),_i=function is(e,t){this.form=e,(this.json=t)&&(this.fieldType=t.fieldType,this.id=t.id,this.name=t.name,this.type=t.type,this.tab=t.tab)},Pi=function(){function e(){this.size=12,this.fields=[],this.colspan=1,this.rowspan=1}return e.prototype.hasFields=function(){return this.fields&&0<this.fields.length},e}(),ki=function(){function e(e){this.message="",this.attributes=null,this.message=e&&e.message?e.message:"",this.attributes=new Map}return e.prototype.isActive=function(){return!!this.message},e.prototype.getAttributesAsJsonObj=function(){var e={};if(0<this.attributes.size){var n=Object.create(null);this.attributes.forEach(function(e,t){n[t]=e}),e=JSON.stringify(n)}return e},e}(),Li=function(){function e(){this.supportedTypes=[xi.TEXT,xi.MULTILINE_TEXT,xi.NUMBER,xi.BOOLEAN,xi.TYPEAHEAD,xi.DROPDOWN,xi.PEOPLE,xi.FUNCTIONAL_GROUP,xi.RADIO_BUTTONS,xi.UPLOAD,xi.AMOUNT,xi.DYNAMIC_TABLE,xi.DATE,xi.DATETIME,xi.ATTACH_FOLDER]}return e.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)&&e.required},e.prototype.validate=function(t){if(this.isSupported(t)&&t.isVisible){if(t.type===xi.DROPDOWN&&t.hasEmptyValue&&t.emptyOption&&t.value===t.emptyOption.id)return!1;if(t.type===xi.RADIO_BUTTONS)return!!t.options.find(function(e){return e.id===t.value});if(t.type===xi.UPLOAD)return t.value&&0<t.value.length;if(t.type===xi.DYNAMIC_TABLE)return t.value&&t.value instanceof Array&&0<t.value.length;if(t.type===xi.BOOLEAN)return!!t.value;if(null===t.value||t.value===undefined||""===t.value)return!1}return!0},e}(),Mi=function(){function e(){this.supportedTypes=[xi.NUMBER,xi.AMOUNT]}return e.isNumber=function(e){return null!==e&&e!==undefined&&""!==e&&!isNaN(+e)},e.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)},e.prototype.validate=function(e){if(this.isSupported(e)&&e.isVisible){if(null===e.value||e.value===undefined||""===e.value)return!0;var t=""+e.value,n=new RegExp(/^-?\d+$/);return e.enableFractions&&(n=new RegExp(/^-?[0-9]+(\.[0-9]{1,2})?$/)),t.match(n)?!0:!(e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_NUMBER")}return!0},e}(),Fi=function(){function t(){this.supportedTypes=[xi.DATE]}return t.isValidDate=function(e,t){return void 0===t&&(t="D-M-YYYY"),!!e&&b(e,t,!0).isValid()},t.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)},t.prototype.validate=function(e){return!(this.isSupported(e)&&e.value&&e.isVisible)||(!!t.isValidDate(e.value,e.dateDisplayFormat)||(e.validationSummary.message=e.dateDisplayFormat,!1))},t}(),Ni=function(){function e(){this.supportedTypes=[xi.DATE]}return e.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)&&!!e.minValue},e.prototype.validate=function(e){var t=!0;if(this.isSupported(e)&&e.value&&e.isVisible){var n=e.dateDisplayFormat;t=Fi.isValidDate(e.value,n)?this.checkDate(e,n):!(e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_DATE")}return t},e.prototype.checkDate=function(e,t){var n,i=!0;n="string"==typeof e.value?b(e.value.split("T")[0],t):e.value;var o=b(e.minValue,"DD-MM-YYYY");return n.isBefore(o)&&(e.validationSummary.message="FORM.FIELD.VALIDATOR.NOT_LESS_THAN",e.validationSummary.attributes.set("minValue",o.format(e.dateDisplayFormat).toLocaleUpperCase()),i=!1),i},e}(),Vi=function(){function e(){this.MAX_DATE_FORMAT="DD-MM-YYYY",this.supportedTypes=[xi.DATE]}return e.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)&&!!e.maxValue},e.prototype.validate=function(e){if(this.isSupported(e)&&e.value&&e.isVisible){var t=e.dateDisplayFormat;if(!Fi.isValidDate(e.value,t))return!(e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_DATE");var n=void 0;n="string"==typeof e.value?b(e.value.split("T")[0],t):e.value;var i=b(e.maxValue,this.MAX_DATE_FORMAT);if(n.isAfter(i))return e.validationSummary.message="FORM.FIELD.VALIDATOR.NOT_GREATER_THAN",e.validationSummary.attributes.set("maxValue",i.format(e.dateDisplayFormat).toLocaleUpperCase()),!1}return!0},e}(),Ui=function(){function e(){this.supportedTypes=[xi.DATETIME],this.MIN_DATETIME_FORMAT="YYYY-MM-DD hh:mm AZ"}return e.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)&&!!e.minValue},e.prototype.validate=function(e){var t=!0;if(this.isSupported(e)&&e.value&&e.isVisible){var n=e.dateDisplayFormat;t=Fi.isValidDate(e.value,n)?this.checkDateTime(e,n):!(e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_DATE")}return t},e.prototype.checkDateTime=function(e,t){var n,i=!0;n="string"==typeof e.value?b(e.value,t):e.value;var o=b(e.minValue,this.MIN_DATETIME_FORMAT);return n.isBefore(o)&&(e.validationSummary.message="FORM.FIELD.VALIDATOR.NOT_LESS_THAN",e.validationSummary.attributes.set("minValue",o.format(e.dateDisplayFormat).replace(":","-")),i=!1),i},e}(),ji=function(){function e(){this.supportedTypes=[xi.DATETIME],this.MAX_DATETIME_FORMAT="YYYY-MM-DD hh:mm AZ"}return e.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)&&!!e.maxValue},e.prototype.validate=function(e){var t=!0;if(this.isSupported(e)&&e.value&&e.isVisible){var n=e.dateDisplayFormat;t=Fi.isValidDate(e.value,n)?this.checkDateTime(e,n):!(e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_DATE")}return t},e.prototype.checkDateTime=function(e,t){var n,i=!0;n="string"==typeof e.value?b(e.value,t):e.value;var o=b(e.maxValue,this.MAX_DATETIME_FORMAT);return n.isAfter(o)&&(e.validationSummary.message="FORM.FIELD.VALIDATOR.NOT_GREATER_THAN",e.validationSummary.attributes.set("maxValue",o.format(e.dateDisplayFormat).replace(":","-")),i=!1),i},e}(),Bi=function(){function e(){this.supportedTypes=[xi.TEXT,xi.MULTILINE_TEXT]}return e.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)&&0<e.minLength},e.prototype.validate=function(e){return!(this.isSupported(e)&&e.value&&e.isVisible)||(e.value.length>=e.minLength||(e.validationSummary.message="FORM.FIELD.VALIDATOR.AT_LEAST_LONG",e.validationSummary.attributes.set("minLength",e.minLength.toLocaleString()),!1))},e}(),Hi=function(){function e(){this.supportedTypes=[xi.TEXT,xi.MULTILINE_TEXT]}return e.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)&&0<e.maxLength},e.prototype.validate=function(e){return!(this.isSupported(e)&&e.value&&e.isVisible)||(e.value.length<=e.maxLength||(e.validationSummary.message="FORM.FIELD.VALIDATOR.NO_LONGER_THAN",e.validationSummary.attributes.set("maxLength",e.maxLength.toLocaleString()),!1))},e}(),Gi=function(){function e(){this.supportedTypes=[xi.NUMBER,xi.AMOUNT]}return e.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)&&Mi.isNumber(e.minValue)},e.prototype.validate=function(e){if(this.isSupported(e)&&e.value&&e.isVisible){var t=+e.value;return+e.minValue<=t||(e.validationSummary.message="FORM.FIELD.VALIDATOR.NOT_LESS_THAN",e.validationSummary.attributes.set("minValue",e.minValue.toLocaleString()),!1)}return!0},e}(),Yi=function(){function e(){this.supportedTypes=[xi.NUMBER,xi.AMOUNT]}return e.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)&&Mi.isNumber(e.maxValue)},e.prototype.validate=function(e){return!(this.isSupported(e)&&e.value&&e.isVisible)||(+e.value<=+e.maxValue||(e.validationSummary.message="FORM.FIELD.VALIDATOR.NOT_GREATER_THAN",e.validationSummary.attributes.set("maxValue",e.maxValue.toLocaleString()),!1))},e}(),zi=function(){function e(){this.supportedTypes=[xi.TEXT,xi.MULTILINE_TEXT]}return e.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)&&!!e.regexPattern},e.prototype.validate=function(e){return!(this.isSupported(e)&&e.value&&e.isVisible)||(!!(0<e.value.length&&e.value.match(new RegExp("^"+e.regexPattern+"$")))||!(e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_VALUE"))},e}(),qi=function(){function e(){this.supportedTypes=[xi.TYPEAHEAD]}return e.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)},e.prototype.hasValidNameOrValidId=function(e){return this.hasValidName(e)||this.hasValidId(e)},e.prototype.hasValidName=function(t){return!!t.options.find(function(e){return e.name&&e.name.toLocaleLowerCase()===t.value.toLocaleLowerCase()})},e.prototype.hasValidId=function(t){return!!t.options.find(function(e){return e.id===t.value})},e.prototype.hasStringValue=function(e){return e.value&&"string"==typeof e.value},e.prototype.hasOptions=function(e){return e.options&&0<e.options.length},e.prototype.validate=function(e){return!(this.isSupported(e)&&e.isVisible&&this.hasStringValue(e)&&this.hasOptions(e)&&!this.hasValidNameOrValidId(e))||!(e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_VALUE")},e}(),Wi=[new Li,new Mi,new Bi,new Hi,new Gi,new Yi,new zi,new Fi,new Ni,new Vi,new qi,new Ui,new ji],$i=function(r){function a(e,t){var n=r.call(this,e,t)||this;if(n._readOnly=!1,n._isValid=!0,n._required=!1,n.defaultDateFormat="D-M-YYYY",n.defaultDateTimeFormat="D-M-YYYY hh:mm A",n.rowspan=1,n.colspan=1,n.placeholder=null,n.minLength=0,n.maxLength=0,n.options=[],n.params={},n.isVisible=!0,n.visibilityCondition=null,n.enableFractions=!1,n.currency=null,n.dateDisplayFormat=n.dateDisplayFormat||n.defaultDateFormat,n.numberOfColumns=1,n.fields=[],n.columns=[],t){if(n.fieldType=t.fieldType,n.id=t.id,n.name=t.name,n.type=t.type,n._required=t.required,n._readOnly=t.readOnly||"readonly"===t.type,n.overrideId=t.overrideId,n.tab=t.tab,n.restUrl=t.restUrl,n.restResponsePath=t.restResponsePath,n.restIdProperty=t.restIdProperty,n.restLabelProperty=t.restLabelProperty,n.colspan=t.colspan,n.minLength=t.minLength||0,n.maxLength=t.maxLength||0,n.minValue=t.minValue,n.maxValue=t.maxValue,n.regexPattern=t.regexPattern,n.options=t.options||[],n.hasEmptyValue=t.hasEmptyValue,n.className=t.className,n.optionType=t.optionType,n.params=t.params||{},n.hyperlinkUrl=t.hyperlinkUrl,n.displayText=t.displayText,n.visibilityCondition=t.visibilityCondition,n.enableFractions=t.enableFractions,n.currency=t.currency,n.dateDisplayFormat=t.dateDisplayFormat||n.getDefaultDateFormat(t),n._value=n.parseValue(t),n.validationSummary=new ki,t.placeholder&&""!==t.placeholder&&"null"!==t.placeholder&&(n.placeholder=t.placeholder),xi.isReadOnlyType(t.type)&&t.params&&t.params.field)if(e.processVariables){var i=n.getProcessVariableValue(t.params.field,e);i&&(n.value=i)}else if(t.params.field.responseVariable){var o=n.getVariablesValue(t.params.field.name,e);o&&(n.value=o)}xi.isContainerType(t.type)&&n.containerFactory(t,e)}return n.hasEmptyValue&&n.options&&0<n.options.length&&(n.emptyOption=n.options[0]),n.updateForm(),n}return _(a,r),Object.defineProperty(a.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this.updateForm()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"readOnly",{get:function(){return!(!this.form||!this.form.readOnly)||this._readOnly},set:function(e){this._readOnly=e,this.updateForm()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"required",{get:function(){return this._required},set:function(e){this._required=e,this.updateForm()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isValid",{get:function(){return this._isValid},enumerable:!0,configurable:!0}),a.prototype.markAsInvalid=function(){this._isValid=!1},a.prototype.validate=function(){var e,t;if(this.validationSummary=new ki,!this.readOnly){var n=this.form.fieldValidators||[];try{for(var i=M(n),o=i.next();!o.done;o=i.next()){if(!o.value.validate(this))return this._isValid=!1,this._isValid}}catch(r){e={error:r}}finally{try{o&&!o.done&&(t=i["return"])&&t.call(i)}finally{if(e)throw e.error}}}return this._isValid=!0,this._isValid},a.prototype.getDefaultDateFormat=function(e){var t=e.type;return xi.isReadOnlyType(e.type)&&e.params&&e.params.field&&(t=e.params.field.type),t===xi.DATETIME?this.defaultDateTimeFormat:this.defaultDateFormat},a.prototype.isTypeaheadFieldType=function(e){return"typeahead"===e},a.prototype.getFieldNameWithLabel=function(e){return e+"_LABEL"},a.prototype.getProcessVariableValue=function(e,t){var n=e.name;return this.isTypeaheadFieldType(e.type)&&(n=this.getFieldNameWithLabel(e.id)),this.findProcessVariableValue(n,t)},a.prototype.getVariablesValue=function(t,e){var n=e.json.variables.find(function(e){return e.name===t});return n?"boolean"===n.type?JSON.parse(n.value):n.value:null},a.prototype.findProcessVariableValue=function(t,e){if(e.processVariables){var n=e.processVariables.find(function(e){return e.name===t});if(n)return"boolean"===n.type?JSON.parse(n.value):n.value}return undefined},a.prototype.containerFactory=function(e,t){var n=this;if(this.numberOfColumns=e.numberOfColumns||1,this.fields=e.fields,this.rowspan=1,this.colspan=1,e.fields)for(var i in e.fields)if(e.fields.hasOwnProperty(i)){var o=new Pi,r=(e.fields[i]||[]).map(function(e){return new a(t,e)});o.fields=r,o.rowspan=e.fields[i].length,o.fields.forEach(function(e){n.colspan=e.colspan>n.colspan?e.colspan:n.colspan}),this.rowspan=this.rowspan<o.rowspan?o.rowspan:this.rowspan,this.columns.push(o)}},a.prototype.parseValue=function(e){var t=e.value;if(e.type===xi.DROPDOWN&&(e.hasEmptyValue&&e.options&&0<(e.options||[]).length)){var n=e.options[0];""===t||t===n.id||t===n.name?t=n.id:t.id&&t.name&&(t=t.id)}if(e.type===xi.RADIO_BUTTONS){var i=this.options.filter(function(e){return e.id===t||e.name===t||t&&(e.id===t.id||e.name===t.name)});0<i.length&&(t=i[0].id)}if((this.isDateField(e)||this.isDateTimeField(e))&&t){var o=void 0;(o=Mi.isNumber(t)?b(t):this.isDateTimeField(e)?b(t,"YYYY-MM-DD hh:mm A"):b(t.split("T")[0],"YYYY-M-D"))&&o.isValid()&&(t=o.format(this.dateDisplayFormat))}return t},a.prototype.updateForm=function(){var t=this;if(this.form){switch(this.type){case xi.DROPDOWN:if("empty"===this.value||""===this.value)this.form.values[this.id]={};else{var e=this.options.filter(function(e){return e.id===t.value});0<e.length&&(this.form.values[this.id]=e[0])}break;case xi.RADIO_BUTTONS:var n=this.options.filter(function(e){return e.id===t.value});0<n.length&&(this.form.values[this.id]=n[0]);break;case xi.UPLOAD:this.form.hasUpload=!0,this.value&&0<this.value.length?this.form.values[this.id]=this.value.map(function(e){return e.id}).join(","):this.form.values[this.id]=null;break;case xi.TYPEAHEAD:var i=this.options.filter(function(e){return e.id===t.value||e.name===t.value});0<i.length?this.form.values[this.id]=i[0]:0<this.options.length&&(this.form.values[this.id]=null);break;case xi.DATE:var o=b(this.value,this.dateDisplayFormat,!0);o&&o.isValid()?this.form.values[this.id]=o.format("YYYY-MM-DD")+"T00:00:00.000Z":(this.form.values[this.id]=null,this._value=this.value);break;case xi.DATETIME:var r=b(this.value,this.dateDisplayFormat,!0);r&&r.isValid()?this.form.values[this.id]=r.format("YYYY-MM-DDTHH:mm:ssZ"):(this.form.values[this.id]=null,this._value=this.value);break;case xi.NUMBER:this.form.values[this.id]=parseInt(this.value,10);break;case xi.AMOUNT:this.form.values[this.id]=this.enableFractions?parseFloat(this.value):parseInt(this.value,10);break;default:xi.isReadOnlyType(this.type)||this.isInvalidFieldType(this.type)||(this.form.values[this.id]=this.value)}this.form.onFormFieldChanged(this)}},a.prototype.isInvalidFieldType=function(e){return"container"===e},a.prototype.getOptionName=function(){var t=this,e=this.options.find(function(e){return e.id===t.value});return e?e.name:null},a.prototype.hasOptions=function(){return this.options&&0<this.options.length},a.prototype.isDateField=function(e){return e.params&&e.params.field&&e.params.field.type===xi.DATE||e.type===xi.DATE},a.prototype.isDateTimeField=function(e){return e.params&&e.params.field&&e.params.field.type===xi.DATETIME||e.type===xi.DATETIME},a}(_i),Xi=function(){function e(e){this.isDefaultPrevented=!1,this.form=e}return Object.defineProperty(e.prototype,"defaultPrevented",{get:function(){return this.isDefaultPrevented},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){this.isDefaultPrevented=!0},e}(),Ki=function(i){function e(e,t){var n=i.call(this,e)||this;return n.field=t,n}return _(e,i),e}(Xi),Ji=function(i){function e(e,t){var n=i.call(this,e,t)||this;return n.isValid=!0,n}return _(e,i),e}(Ki),Qi=function(n){function e(e){var t=n.call(this,e)||this;return t.isValid=!0,t.errorsField=[],t}return _(e,n),e}(Xi),Zi=function(n){function e(e){var t=n.call(this,e.form,e.json)||this;return e&&(t.field=e),t}return _(e,n),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.field.isVisible},enumerable:!0,configurable:!0}),e}(_i),eo=function(i){function e(e,t){var n=i.call(this,e,t)||this;return n.isSystem=!1,n.isSelected=!1,t&&(n.isSystem=!!t.isSystem,n.isSelected=!(!e||t.name!==e.selectedOutcome)),n}return _(e,i),e.SAVE_ACTION="SAVE",e.COMPLETE_ACTION="COMPLETE",e.START_PROCESS_ACTION="START PROCESS",e}(_i),to=function(i){function e(e,t){var n=i.call(this,e,t)||this;return n.isVisible=!0,n.fields=[],t&&(n.title=t.title,n.visibilityCondition=t.visibilityCondition),n}return _(e,i),e.prototype.hasContent=function(){return this.fields&&0<this.fields.length},e}(_i),no=function(){function e(){this.values={},this.tabs=[],this.fields=[],this.outcomes=[],this.readOnly=!1}return e.prototype.hasTabs=function(){return this.tabs&&0<this.tabs.length},e.prototype.hasFields=function(){return this.fields&&0<this.fields.length},e.prototype.hasOutcomes=function(){return this.outcomes&&0<this.outcomes.length},e.prototype.getFieldById=function(t){return this.getFormFields().find(function(e){return e.id===t})},e.prototype.getFormFields=function(){for(var t=[],e=0;e<this.fields.length;e++){var n=this.fields[e];if(n instanceof Zi){var i=n;t.push(i.field),i.field.columns.forEach(function(e){t.push.apply(t,N(e.fields))})}}return t},e.UNSET_TASK_NAME="Nameless task",e.SAVE_OUTCOME="$save",e.COMPLETE_OUTCOME="$complete",e.START_PROCESS_OUTCOME="$startProcess",e}(),io=function(f){function m(e,t,n,i){void 0===n&&(n=!1);var o=f.call(this)||this;if(o.formService=i,o.taskName=m.UNSET_TASK_NAME,o._isValid=!0,o.customFieldTemplates={},o.fieldValidators=N(Wi),o.readOnly=n,e){o.json=e,o.id=e.id,o.name=e.name,o.taskId=e.taskId,o.taskName=e.taskName||e.name||m.UNSET_TASK_NAME,o.processDefinitionId=e.processDefinitionId,o.customFieldTemplates=e.customFieldTemplates||{},o.selectedOutcome=e.selectedOutcome||{},o.className=e.className||"";var r={};o.processVariables=e.processVariables,o.tabs=(e.tabs||[]).map(function(e){var t=new to(o,e);return r[t.id]=t}),o.fields=o.parseRootFields(e),t&&o.loadData(t);for(var a=0;a<o.fields.length;a++){var s=o.fields[a];if(s.tab){var l=r[s.tab];l&&l.fields.push(s)}}if(e.fields){var c=new eo(o,{id:m.SAVE_OUTCOME,name:"SAVE",isSystem:!0}),u=new eo(o,{id:m.COMPLETE_OUTCOME,name:"COMPLETE",isSystem:!0}),p=new eo(o,{id:m.START_PROCESS_OUTCOME,name:"START PROCESS",isSystem:!0}),d=(e.outcomes||[]).map(function(e){return new eo(o,e)});o.outcomes=[c].concat(0<d.length?d:[u,p])}}return o.validateForm(),o}return _(m,f),Object.defineProperty(m.prototype,"isValid",{get:function(){return this._isValid},enumerable:!0,configurable:!0}),m.prototype.onFormFieldChanged=function(e){this.validateField(e),this.formService&&this.formService.formFieldValueChanged.next(new Ki(this,e))},m.prototype.markAsInvalid=function(){this._isValid=!1},m.prototype.validateForm=function(){for(var e=new Qi(this),t=[],n=this.getFormFields(),i=0;i<n.length;i++)n[i].validate()||t.push(n[i]);this._isValid=!(0<t.length),this.formService&&(e.isValid=this._isValid,e.errorsField=t,this.formService.validateForm.next(e))},m.prototype.validateField=function(e){if(e){var t=new Ji(this,e);this.formService&&this.formService.validateFormField.next(t),t.isValid?t.defaultPrevented||(e.validate()||(this._isValid=!1),this.validateForm()):this._isValid=!1}},m.prototype.parseRootFields=function(e){var t,n,i=[];e.fields?i=e.fields:e.formDefinition&&e.formDefinition.fields&&(i=e.formDefinition.fields);var o=[];try{for(var r=M(i),a=r.next();!a.done;a=r.next()){var s=a.value;if(s.type===xi.DISPLAY_VALUE){if(s.params)s.params.field.type===xi.DYNAMIC_TABLE&&o.push(new Zi(new $i(this,s)))}else o.push(new Zi(new $i(this,s)))}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=r["return"])&&n.call(r)}finally{if(t)throw t.error}}return o},m.prototype.loadData=function(e){var t,n;try{for(var i=M(this.getFormFields()),o=i.next();!o.done;o=i.next()){var r=o.value;e[r.id]&&(r.json.value=e[r.id],r.value=r.parseValue(r.json))}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i["return"])&&n.call(i)}finally{if(t)throw t.error}}},m}(no),oo=function(){function e(e){this._defaultPrevented=!1,this._outcome=e}return Object.defineProperty(e.prototype,"outcome",{get:function(){return this._outcome},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultPrevented",{get:function(){return this._defaultPrevented},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){this._defaultPrevented=!0},e}(),ro=function(){function e(e){this.contentAvailable=e&&e.contentAvailable,this.created=e&&e.created,this.createdBy=e&&e.createdBy||{},this.id=e&&e.id,this.link=e&&e.link,this.mimeType=e&&e.mimeType,this.name=e&&e.name,this.previewStatus=e&&e.previewStatus,this.relatedContent=e&&e.relatedContent,this.simpleType=e&&e.simpleType,this.thumbnailStatus=e&&e.thumbnailStatus}return e.prototype.hasPreviewStatus=function(){return"supported"===this.previewStatus},e.prototype.isTypeImage=function(){return"image"===this.simpleType},e.prototype.isTypePdf=function(){return"pdf"===this.simpleType},e.prototype.isTypeDoc=function(){return"word"===this.simpleType||"content"===this.simpleType},e.prototype.isThumbnailReady=function(){return"created"===this.thumbnailStatus},e.prototype.isThumbnailSupported=function(){return this.isTypeImage()||(this.isTypePdf()||this.isTypeDoc())&&this.isThumbnailReady()},e}(),ao=function(){function r(e,t){this.apiService=e,this.logService=t}return r.prototype.createEcmTypeForActivitiForm=function(n,i){var o=this;return new C.Observable(function(t){o.searchActivitiEcmModel().subscribe(function(e){e?o.saveFomType(n,i).subscribe(function(e){t.next(e),t.complete()}):o.createActivitiEcmModel(n,i).subscribe(function(e){t.next(e),t.complete()})},function(e){return o.handleError(e)})})},r.prototype.searchActivitiEcmModel=function(){return this.getEcmModels().pipe(y.map(function(e){return e.list.entries.find(function(e){return e.entry.name===r.MODEL_NAME})}))},r.prototype.createActivitiEcmModel=function(n,i){var o=this;return new C.Observable(function(t){o.createEcmModel(r.MODEL_NAME,r.MODEL_NAMESPACE).subscribe(function(e){o.logService.info("model created",e),o.activeEcmModel(r.MODEL_NAME).subscribe(function(e){o.logService.info("model active",e),o.createEcmTypeWithProperties(n,i).subscribe(function(e){t.next(e),t.complete()})},function(e){return o.handleError(e)})},function(e){return o.handleError(e)})})},r.prototype.saveFomType=function(n,i){var o=this;return new C.Observable(function(t){o.searchEcmType(n,r.MODEL_NAME).subscribe(function(e){o.logService.info("custom types",e),e?(t.next(e),t.complete()):o.createEcmTypeWithProperties(n,i).subscribe(function(e){t.next(e),t.complete()})},function(e){return o.handleError(e)})})},r.prototype.createEcmTypeWithProperties=function(e,i){var o=this;return new C.Observable(function(n){o.createEcmType(e,r.MODEL_NAME,r.TYPE_MODEL).subscribe(function(t){o.logService.info("type Created",t),o.addPropertyToAType(r.MODEL_NAME,e,i).subscribe(function(e){o.logService.info("property Added",e),n.next(t),n.complete()},function(e){return o.handleError(e)})},function(e){return o.handleError(e)})})},r.prototype.searchEcmType=function(t,e){return this.getEcmType(e).pipe(y.map(function(e){return e.list.entries.find(function(e){return e.entry.prefixedName===t||e.entry.title===t})}))},r.prototype.activeEcmModel=function(e){var t=this;return C.from(this.apiService.getInstance().core.customModelApi.activateCustomModel(e)).pipe(y.map(this.toJson),y.catchError(function(e){return t.handleError(e)}))},r.prototype.createEcmModel=function(e,t){var n=this;return C.from(this.apiService.getInstance().core.customModelApi.createCustomModel("DRAFT","",e,e,t)).pipe(y.map(this.toJson),y.catchError(function(e){return n.handleError(e)}))},r.prototype.getEcmModels=function(){var t=this;return C.from(this.apiService.getInstance().core.customModelApi.getAllCustomModel()).pipe(y.map(this.toJson),y.catchError(function(e){return t.handleError(e)}))},r.prototype.getEcmType=function(e){var t=this;return C.from(this.apiService.getInstance().core.customModelApi.getAllCustomType(e)).pipe(y.map(this.toJson),y.catchError(function(e){return t.handleError(e)}))},r.prototype.createEcmType=function(e,t,n){var i=this,o=this.cleanNameType(e);return C.from(this.apiService.getInstance().core.customModelApi.createCustomType(t,o,n,e,"")).pipe(y.map(this.toJson),y.catchError(function(e){return i.handleError(e)}))},r.prototype.addPropertyToAType=function(e,t,n){var i=this,o=this.cleanNameType(t),r=[];if(n&&n.values)for(var a in n.values)a&&r.push({name:a,title:a,description:a,dataType:"d:text",multiValued:!1,mandatory:!1,mandatoryEnforced:!1});return C.from(this.apiService.getInstance().core.customModelApi.addPropertyToType(e,o,r)).pipe(y.map(this.toJson),y.catchError(function(e){return i.handleError(e)}))},r.prototype.cleanNameType=function(e){var t=e;return-1!==e.indexOf(":")&&(t=e.split(":")[1]),t.replace(/[^a-zA-Z ]/g,"")},r.prototype.toJson=function(e){return e&&e||{}},r.prototype.handleError=function(e){this.logService.error(e)},r.MODEL_NAMESPACE="activitiForms",r.MODEL_NAME="activitiFormsModel",r.TYPE_MODEL="cm:folder",r.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],r.ctorParameters=function(){return[{type:H},{type:q}]},r.ngInjectableDef=A.defineInjectable({factory:function(){return new r(A.inject(H),A.inject(q))},token:r,providedIn:"root"}),r}(),so=function(){function n(e,t,n){this.ecmModelService=e,this.apiService=t,this.logService=n,this.formLoaded=new C.Subject,this.formDataRefreshed=new C.Subject,this.formFieldValueChanged=new C.Subject,this.formEvents=new C.Subject,this.taskCompleted=new C.Subject,this.taskCompletedError=new C.Subject,this.taskSaved=new C.Subject,this.taskSavedError=new C.Subject,this.formContentClicked=new C.Subject,this.validateForm=new C.Subject,this.validateFormField=new C.Subject,this.validateDynamicTableRow=new C.Subject,this.executeOutcome=new C.Subject}return Object.defineProperty(n.prototype,"taskApi",{get:function(){return this.apiService.getInstance().activiti.taskApi},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"modelsApi",{get:function(){return this.apiService.getInstance().activiti.modelsApi},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"editorApi",{get:function(){return this.apiService.getInstance().activiti.editorApi},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"processApi",{get:function(){return this.apiService.getInstance().activiti.processApi},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"processInstanceVariablesApi",{get:function(){return this.apiService.getInstance().activiti.processInstanceVariablesApi},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"usersWorkflowApi",{get:function(){return this.apiService.getInstance().activiti.usersWorkflowApi},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groupsApi",{get:function(){return this.apiService.getInstance().activiti.groupsApi},enumerable:!0,configurable:!0}),n.prototype.parseForm=function(e,t,n){if(void 0===n&&(n=!1),e){var i=new io(e,t,n,this);return e.fields||(i.outcomes=[new eo(i,{id:"$save",name:eo.SAVE_ACTION,isSystem:!0})]),i}return null},n.prototype.createFormFromANode=function(e){var o=this;return new C.Observable(function(i){o.createForm(e).subscribe(function(n){o.ecmModelService.searchEcmType(e,ao.MODEL_NAME).subscribe(function(e){var t=new Ri(n.id,n.name,n.lastUpdatedByFullName,n.lastUpdated,e.entry.properties);C.from(o.editorApi.saveForm(n.id,t)).subscribe(function(e){i.next(e),i.complete()},function(e){return o.handleError(e)})},function(e){return o.handleError(e)})},function(e){return o.handleError(e)})})},n.prototype.createForm=function(e){var t={name:e,description:"",modelType:2,stencilSet:0};return C.from(this.modelsApi.createModel(t))},n.prototype.saveForm=function(e,t){return C.from(this.editorApi.saveForm(e,t))},n.prototype.searchFrom=function(t){var n=this;return C.from(this.modelsApi.getModels({modelType:2})).pipe(y.map(function(e){return e.data.find(function(e){return e.name===t})}),y.catchError(function(e){return n.handleError(e)}))},n.prototype.getForms=function(){var t=this;return C.from(this.modelsApi.getModels({modelType:2})).pipe(y.map(this.toJsonArray),y.catchError(function(e){return t.handleError(e)}))},n.prototype.getProcessDefinitions=function(){var t=this;return C.from(this.processApi.getProcessDefinitions({})).pipe(y.map(this.toJsonArray),y.catchError(function(e){return t.handleError(e)}))},n.prototype.getProcessVariablesById=function(e){var t=this;return C.from(this.processInstanceVariablesApi.getProcessInstanceVariables(e)).pipe(y.map(this.toJson),y.catchError(function(e){return t.handleError(e)}))},n.prototype.getTasks=function(){var t=this;return C.from(this.taskApi.listTasks({})).pipe(y.map(this.toJsonArray),y.catchError(function(e){return t.handleError(e)}))},n.prototype.getTask=function(e){var t=this;return C.from(this.taskApi.getTask(e)).pipe(y.map(this.toJson),y.catchError(function(e){return t.handleError(e)}))},n.prototype.saveTaskForm=function(e,t){var n=this,i={values:t};return C.from(this.taskApi.saveTaskForm(e,i)).pipe(y.catchError(function(e){return n.handleError(e)}))},n.prototype.completeTaskForm=function(e,t,n){var i=this,o={values:t};return n&&(o.outcome=n),C.from(this.taskApi.completeTaskForm(e,o)).pipe(y.catchError(function(e){return i.handleError(e)}))},n.prototype.getTaskForm=function(e){var t=this;return C.from(this.taskApi.getTaskForm(e)).pipe(y.map(this.toJson),y.catchError(function(e){return t.handleError(e)}))},n.prototype.getFormDefinitionById=function(e){var t=this;return C.from(this.editorApi.getForm(e)).pipe(y.map(this.toJson),y.catchError(function(e){return t.handleError(e)}))},n.prototype.getFormDefinitionByName=function(e){var t=this,n={filter:"myReusableForms",filterText:e,modelType:2};return C.from(this.modelsApi.getModels(n)).pipe(y.map(this.getFormId),y.catchError(function(e){return t.handleError(e)}))},n.prototype.getStartFormInstance=function(e){var t=this;return C.from(this.processApi.getProcessInstanceStartForm(e)).pipe(y.map(this.toJson),y.catchError(function(e){return t.handleError(e)}))},n.prototype.getProcessInstance=function(e){var t=this;return C.from(this.processApi.getProcessInstance(e)).pipe(y.map(this.toJson),y.catchError(function(e){return t.handleError(e)}))},n.prototype.getStartFormDefinition=function(e){var t=this;return C.from(this.processApi.getProcessDefinitionStartForm(e)).pipe(y.map(this.toJson),y.catchError(function(e){return t.handleError(e)}))},n.prototype.getRestFieldValues=function(e,t){var n=this;return C.from(this.taskApi.getRestFieldValues(e,t)).pipe(y.catchError(function(e){return n.handleError(e)}))},n.prototype.getRestFieldValuesByProcessId=function(e,t){var n=this;return C.from(this.processApi.getRestFieldValues(e,t)).pipe(y.catchError(function(e){return n.handleError(e)}))},n.prototype.getRestFieldValuesColumnByProcessId=function(e,t,n){var i=this;return C.from(this.processApi.getRestTableFieldValues(e,t,n)).pipe(y.catchError(function(e){return i.handleError(e)}))},n.prototype.getRestFieldValuesColumn=function(e,t,n){var i=this;return C.from(this.taskApi.getRestFieldValuesColumn(e,t,n)).pipe(y.catchError(function(e){return i.handleError(e)}))},n.prototype.getUserProfileImageApi=function(e){return this.apiService.getInstance().activiti.userApi.getUserProfilePictureUrl(e)},n.prototype.getWorkflowUsers=function(e,t){var n=this,i={filter:e};return t&&(i.groupId=t),C.from(this.usersWorkflowApi.getUsers(i)).pipe(y.switchMap(function(e){return e.data||[]}),y.map(function(e){return e.userImage=n.getUserProfileImageApi(e.id),C.of(e)}),y.combineAll(),y.defaultIfEmpty([]),y.catchError(function(e){return n.handleError(e)}))},n.prototype.getWorkflowGroups=function(e,t){var n=this,i={filter:e};return t&&(i.groupId=t),C.from(this.groupsApi.getGroups(i)).pipe(y.map(function(e){return e.data||[]}),y.catchError(function(e){return n.handleError(e)}))},n.prototype.getFormId=function(e){var t=null;return e&&e.data&&0<e.data.length&&(t=e.data[0].id),t},n.prototype.toJson=function(e){return e&&e||{}},n.prototype.toJsonArray=function(e){return e&&e.data||[]},n.prototype.handleError=function(e){var t=n.UNKNOWN_ERROR_MESSAGE;return e&&(t=e.message?e.message:e.status?e.status+" - "+e.statusText:n.GENERIC_ERROR_MESSAGE),this.logService.error(t),C.throwError(t)},n.UNKNOWN_ERROR_MESSAGE="Unknown error",n.GENERIC_ERROR_MESSAGE="Server error",n.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],n.ctorParameters=function(){return[{type:ao},{type:H},{type:q}]},n.ngInjectableDef=A.defineInjectable({factory:function(){return new n(A.inject(ao),A.inject(H),A.inject(q))},token:n,providedIn:"root"}),n}(),lo={"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},co=function(){function n(e){this.formService=e,this.readOnly=!1,this.fieldChanged=new A.EventEmitter}return n.prototype.hasField=function(){return!!this.field},n.prototype.isRequired=function(){return!(!this.field||!this.field.required)||null},n.prototype.isValid=function(){return!!this.field.validationSummary},n.prototype.hasValue=function(){return this.field&&null!==this.field.value&&this.field.value!==undefined},n.prototype.isInvalidFieldRequired=function(){return!this.field.isValid&&!this.field.validationSummary&&this.isRequired()},n.prototype.ngAfterViewInit=function(){this.fieldChanged.emit(this.field)},n.prototype.checkVisibility=function(e){this.fieldChanged.emit(e)},n.prototype.onFieldChanged=function(e){this.fieldChanged.emit(e)},n.prototype.getHyperlinkUrl=function(e){var t=n.DEFAULT_HYPERLINK_URL;return e&&e.hyperlinkUrl&&(t=e.hyperlinkUrl,/^https?:\/\//i.test(t)||(t=""+n.DEFAULT_HYPERLINK_SCHEME+t)),t},n.prototype.getHyperlinkText=function(e){return e?e.displayText||e.hyperlinkUrl:null},n.prototype.event=function(e){this.formService.formEvents.next(e)},n.DEFAULT_HYPERLINK_URL="#",n.DEFAULT_HYPERLINK_SCHEME="http://",n.decorators=[{type:A.Component,args:[{selector:"base-widget",template:"",host:lo,encapsulation:A.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:so}]},n.propDecorators={readOnly:[{type:A.Input}],field:[{type:A.Input}],fieldChanged:[{type:A.Output}]},n}(),uo=function(n){function e(e){var t=n.call(this,e)||this;return t.columns=[],t.isExpanded=!0,t.rowspan=1,t.colspan=1,t.field&&(t.columns=t.field.columns||[],t.isExpanded=!t.isCollapsedByDefault(),t.colspan=e.colspan,t.rowspan=e.rowspan),t}return _(e,n),e.prototype.isGroup=function(){return this.type===xi.GROUP},e.prototype.isCollapsible=function(){var e=!1;return this.isGroup()&&this.field.params.allowCollapse&&(e=this.field.params.allowCollapse),e},e.prototype.isCollapsedByDefault=function(){var e=!1;return this.isCollapsible()&&this.field.params.collapseByDefault&&(e=this.field.params.collapseByDefault),e},e}(Zi),po=function(n){function e(e){var t=n.call(this,e)||this;return t.formService=e,t}return _(e,n),e.prototype.onExpanderClicked=function(){this.content&&this.content.isCollapsible()&&(this.content.isExpanded=!this.content.isExpanded)},e.prototype.ngOnInit=function(){this.field&&(this.content=new uo(this.field))},Object.defineProperty(e.prototype,"fields",{get:function(){for(var e=[],t=!0,n=0;t;){t=!1;for(var i=0;i<this.content.columns.length;i++){var o=this.content.columns[i].fields[n];o&&(t=!0),e.push(o)}n++}return e},enumerable:!0,configurable:!0}),e.prototype.getColumnWith=function(e){var t=e?e.colspan:1;return 100/this.content.json.numberOfColumns*t+"%"},e.decorators=[{type:A.Component,args:[{selector:"container-widget",template:'<div [hidden]="!content?.isGroup()" class="adf-container-widget__header">\n    <h4 class="adf-container-widget__header-text" id="container-header"\n        [class.adf-collapsible]="content?.isCollapsible()">\n        <button *ngIf="content?.isCollapsible()"\n                mat-icon-button\n                class="mdl-button--icon"\n                (click)="onExpanderClicked()">\n            <mat-icon>{{ content?.isExpanded ? \'expand_more\' : \'expand_less\' }}</mat-icon>\n        </button>\n        <span (click)="onExpanderClicked()" id="container-header-label">{{content.name}}</span>\n    </h4>\n</div>\n\n<section class="adf-grid-list" *ngIf="content?.isExpanded">\n    <div class="adf-grid-list-item" *ngFor="let field of fields" [style.width]="getColumnWith(field)">\n        <adf-form-field *ngIf="field" [field]="field"></adf-form-field>\n    </div>\n</section>\n\n\n',host:lo,encapsulation:A.ViewEncapsulation.None,styles:[""]}]}],e.ctorParameters=function(){return[{type:so}]},e}(co),fo=function(){function e(){this.tabs=[],this.formTabChanged=new A.EventEmitter,this.visibleTabs=[]}return e.prototype.hasTabs=function(){return this.tabs&&0<this.tabs.length},e.prototype.ngAfterContentChecked=function(){this.filterVisibleTabs()},e.prototype.filterVisibleTabs=function(){this.visibleTabs=this.tabs.filter(function(e){return e.isVisible})},e.prototype.tabChanged=function(e){this.formTabChanged.emit(e)},e.decorators=[{type:A.Component,args:[{selector:"tabs-widget",template:'<div *ngIf="hasTabs()" class="alfresco-tabs-widget">\n    <mat-tab-group>\n        <mat-tab *ngFor="let tab of visibleTabs" [label]="tab.title">\n            <div *ngFor="let field of tab.fields">\n                <adf-form-field [field]="field.field"></adf-form-field>\n             </div>\n        </mat-tab>\n    </mat-tab-group>\n</div>\n',encapsulation:A.ViewEncapsulation.None}]}],e.propDecorators={tabs:[{type:A.Input}],formTabChanged:[{type:A.Output}]},e}(),mo=function(n){function e(e){var t=n.call(this,e)||this;return t.formService=e,t}return _(e,n),e.decorators=[{type:A.Component,args:[{selector:"unknown-widget",template:'\n            <mat-list class="adf-unknown-widget">\n                <mat-list-item>\n                     <mat-icon class="mat-24">error_outline</mat-icon>\n                     <span class="adf-unknown-text">Unknown type: {{field.type}}</span>\n                </mat-list-item>\n            </mat-list>\n\n    ',host:lo,encapsulation:A.ViewEncapsulation.None,styles:[".adf-unknown-text{margin-left:10px;color:red}.adf-unknown-widget{margin:42px}"]}]}],e.ctorParameters=function(){return[{type:so}]},e}(co),ho=function(n){function i(e){var t=n.call(this,e)||this;return t.formService=e,t.currency=i.DEFAULT_CURRENCY,t}return _(i,n),i.prototype.ngOnInit=function(){this.field&&this.field.currency&&(this.currency=this.field.currency)},i.DEFAULT_CURRENCY="$",i.decorators=[{type:A.Component,args:[{selector:"amount-widget",template:'<div class="adf-amount-widget__container adf-amount-widget {{field.className}}" [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly">\n    <mat-form-field class="adf-amount-widget__input">\n        <label class="adf-label" [attr.for]="field.id">{{field.name}}<span *ngIf="isRequired()">*</span></label>\n        <span matPrefix class="adf-amount-widget__prefix-spacing"> {{currency }}</span>\n        <input matInput\n                class="adf-amount-widget"\n                type="text"\n                [id]="field.id"\n                [required]="isRequired()"\n                [placeholder]="field.placeholder"\n                [value]="field.value"\n                [(ngModel)]="field.value"\n                (ngModelChange)="onFieldChanged(field)"\n                [disabled]="field.readOnly">\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary" ></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:lo,encapsulation:A.ViewEncapsulation.None,styles:[".adf-amount-widget{width:100%;vertical-align:baseline!important}.adf-amount-widget .mat-input-placeholder{margin-top:5px;display:none}.adf-amount-widget .mat-form-field-flex{position:relative;padding-top:18.5px}.adf-amount-widget .mat-form-field-infix{position:static;padding-top:19px}.adf-amount-widget .adf-label{position:absolute;top:18.5px;left:0}.adf-amount-widget__container{max-width:100%}.adf-amount-widget__container .mat-form-field-label-wrapper{top:34px!important;left:13px}.adf-amount-widget__input .mat-focused{transition:none}.adf-amount-widget__prefix-spacing{padding-right:5px}"]}]}],i.ctorParameters=function(){return[{type:so}]},i}(co),go=function(n){function e(e){var t=n.call(this,e)||this;return t.formService=e,t}return _(e,n),e.decorators=[{type:A.Component,args:[{selector:"checkbox-widget",template:'<div [ngClass]="field.className">\n    <mat-checkbox\n        [id]="field.id"\n        color="primary"\n        [required]="field.required"\n        [disabled]="field.readOnly || readOnly"\n        [(ngModel)]="field.value"\n        (ngModelChange)="onFieldChanged(field)">\n        {{field.name}}\n        <span *ngIf="field.required">*</span>\n    </mat-checkbox>\n</div>\n',host:lo,encapsulation:A.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:so}]},e}(co),yo=ie,vo=function(o){function e(e,t,n){var i=o.call(this,e)||this;return i.formService=e,i.dateAdapter=t,i.userPreferencesService=n,i}return _(e,o),e.prototype.ngOnInit=function(){var t=this;this.userPreferencesService.select(Ce.Locale).subscribe(function(e){t.dateAdapter.setLocale(e)}),this.dateAdapter.overrideDisplayFormat=this.field.dateDisplayFormat,this.field&&(this.field.minValue&&(this.minDate=b(this.field.minValue,"DD/MM/YYYY")),this.field.maxValue&&(this.maxDate=b(this.field.maxValue,"DD/MM/YYYY"))),this.displayDate=b(this.field.value,this.field.dateDisplayFormat)},e.prototype.onDateChanged=function(e){e&&e.value?this.field.value=e.value.format(this.field.dateDisplayFormat):this.field.value=e||null,this.onFieldChanged(this.field)},e.decorators=[{type:A.Component,args:[{selector:"date-widget",providers:[{provide:E.DateAdapter,useClass:oe},{provide:E.MAT_DATE_FORMATS,useValue:yo}],template:'<div class="{{field.className}}" id="data-widget" [class.adf-invalid]="!field.isValid">\n    <mat-form-field class="adf-date-widget">\n        <label class="adf-label" [attr.for]="field.id">{{field.name}} ({{field.dateDisplayFormat}})<span *ngIf="isRequired()">*</span></label>\n        <input matInput\n               [id]="field.id"\n               [matDatepicker]="datePicker"\n               [(ngModel)]="displayDate"\n               [required]="isRequired()"\n               [disabled]="field.readOnly"\n               [min]="minDate"\n               [max]="maxDate"\n               (focusout)="onDateChanged($event.srcElement.value)"\n               (dateChange)="onDateChanged($event)"\n               placeholder="{{field.placeholder}}">\n        <mat-datepicker-toggle  matSuffix [for]="datePicker" [disabled]="field.readOnly" ></mat-datepicker-toggle>\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n    <mat-datepicker #datePicker [touchUi]="true" [startAt]="displayDate" ></mat-datepicker>\n</div>\n\n',host:lo,encapsulation:A.ViewEncapsulation.None,styles:[".adf-date-widget .mat-form-field-suffix{text-align:right;position:absolute;margin-top:30px;width:100%}.adf-date-widget-date-widget-button{position:relative;float:right}.adf-date-widget-date-input{padding-top:5px;padding-bottom:5px}.adf-date-widget-grid-date-widget{align-items:center;padding:0}.adf-date-widget-date-widget-button__cell{margin-top:0;margin-bottom:0}@media screen and (-ms-high-contrast:active),screen and (-ms-high-contrast:none){.adf-date-widget .mat-form-field-suffix{position:relative;width:auto}}"]}]}],e.ctorParameters=function(){return[{type:so},{type:E.DateAdapter},{type:Te}]},e}(co),bo=function(n){function e(e){var t=n.call(this,e)||this;return t.formService=e,t}return _(e,n),e.decorators=[{type:A.Component,args:[{selector:"display-text-widget",template:'<div class="adf-display-text-widget {{field.className}}">{{field.value}}</div>\n',host:lo,encapsulation:A.ViewEncapsulation.None,styles:[".adf-display-text-widget{white-space:pre-wrap}"]}]}],e.ctorParameters=function(){return[{type:so}]},e}(co),Eo=function(n){function e(e){var t=n.call(this,e)||this;return t.formService=e,t.fileId=null,t.hasFile=!1,t}return _(e,n),e.prototype.ngOnInit=function(){if(this.field){var e=this.field.value;e?(this.fileId=e.id,this.hasFile=!0):(this.fileId=null,this.hasFile=!1)}},e.decorators=[{type:A.Component,args:[{selector:"adf-form-document-widget",template:'<div class="adf-form-document-widget {{field.className}}">\n    <ng-container *ngIf="hasFile">\n        <adf-content [id]="fileId" [showDocumentContent]="true"></adf-content>\n    </ng-container>\n</div>\n',host:lo,encapsulation:A.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:so}]},e}(co),Io=function(i){function e(e,t){var n=i.call(this,e)||this;return n.formService=e,n.logService=t,n}return _(e,i),e.prototype.ngOnInit=function(){this.field&&this.field.restUrl&&(this.field.form.taskId?this.getValuesByTaskId():this.getValuesByProcessDefinitionId())},e.prototype.getValuesByTaskId=function(){var n=this;this.formService.getRestFieldValues(this.field.form.taskId,this.field.id).subscribe(function(e){var t=[];n.field.emptyOption&&t.push(n.field.emptyOption),n.field.options=t.concat(e||[]),n.field.updateForm()},function(e){return n.handleError(e)})},e.prototype.getValuesByProcessDefinitionId=function(){var n=this;this.formService.getRestFieldValuesByProcessId(this.field.form.processDefinitionId,this.field.id).subscribe(function(e){var t=[];n.field.emptyOption&&t.push(n.field.emptyOption),n.field.options=t.concat(e||[]),n.field.updateForm()},function(e){return n.handleError(e)})},e.prototype.getOptionValue=function(e,t){return"empty"===e.id||e.name!==t?e.id:e.name},e.prototype.handleError=function(e){this.logService.error(e)},e.prototype.isReadOnlyType=function(){return"readonly"===this.field.type},e.decorators=[{type:A.Component,args:[{selector:"dropdown-widget",template:'<div class="adf-dropdown-widget {{field.className}}"\n     [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly">\n    <label class="adf-label" [attr.for]="field.id">{{field.name}}<span *ngIf="isRequired()">*</span></label>\n    <mat-form-field>\n        <mat-select class="adf-select"\n                    [id]="field.id"\n                    [(ngModel)]="field.value"\n                    [disabled]="field.readOnly"\n                    (ngModelChange)="onFieldChanged(field)">\n            <mat-option *ngFor="let opt of field.options"\n                        [value]="getOptionValue(opt, field.value)"\n                        [id]="opt.id">{{opt.name}}\n            </mat-option>\n            <mat-option id="readonlyOption" *ngIf="isReadOnlyType()" [value]="field.value">{{field.value}}</mat-option>\n        </mat-select>\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget class="adf-dropdown-required-message" *ngIf="isInvalidFieldRequired()"\n                  required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:lo,encapsulation:A.ViewEncapsulation.None,styles:[".adf-dropdown-widget{width:100%;margin-top:13px}.adf-dropdown-widget .adf-select{padding-top:0!important;width:100%}.adf-dropdown-widget .mat-select-value-text{font-size:14px}.adf-dropdown-widget-select{width:100%}.adf-dropdown-widget-dropdown-required-message .adf-error-text-container{margin-top:1px!important}"]}]}],e.ctorParameters=function(){return[{type:so},{type:q}]},e}(co),wo=function(){function e(e,t){this.apiService=e,this.logService=t}return e.prototype.refreshVisibility=function(e){var t=this;e&&e.tabs&&0<e.tabs.length&&e.tabs.map(function(e){return t.refreshEntityVisibility(e)}),e&&e.getFormFields().map(function(e){return t.refreshEntityVisibility(e)})},e.prototype.refreshEntityVisibility=function(e){var t=this.evaluateVisibility(e.form,e.visibilityCondition);e.isVisible=t},e.prototype.evaluateVisibility=function(e,t){var n=t&&(t.leftFormFieldId||t.leftRestResponseId);return!n||"null"===n||this.isFieldVisible(e,t)},e.prototype.isFieldVisible=function(e,t){var n=this.getLeftValue(e,t),i=this.getRightValue(e,t),o=this.evaluateCondition(n,i,t.operator);return t.nextCondition?this.evaluateLogicalOperation(t.nextConditionOperator,o,this.isFieldVisible(e,t.nextCondition)):o},e.prototype.getLeftValue=function(e,t){var n="";return t.leftRestResponseId&&"null"!==t.leftRestResponseId?n=this.getVariableValue(e,t.leftRestResponseId,this.processVarList):t.leftFormFieldId&&(n=(n=this.getFormValue(e,t.leftFormFieldId))||this.getVariableValue(e,t.leftFormFieldId,this.processVarList)),n},e.prototype.getRightValue=function(e,t){return t.rightRestResponseId?this.getVariableValue(e,t.rightRestResponseId,this.processVarList):t.rightFormFieldId?this.getFormValue(e,t.rightFormFieldId):b(t.rightValue,"YYYY-MM-DD",!0).isValid()?t.rightValue+"T00:00:00.000Z":t.rightValue},e.prototype.getFormValue=function(e,t){var n=this.getFieldValue(e.values,t);return n||(n=this.searchValueInForm(e,t)),n},e.prototype.getFieldValue=function(e,t){var n,i;return t&&0<t.indexOf("_LABEL")?e[n=t.substring(0,t.length-6)]&&(i=e[n].name):i=e[t]&&e[t].id?e[t].id:e[t],i},e.prototype.searchValueInForm=function(e,t){var n=this,i="";return e.getFormFields().forEach(function(e){n.isSearchedField(e,t)&&((i=n.getObjectValue(e,t))||(i=e.value&&e.value.id?e.value.id:e.value))}),i},e.prototype.getObjectValue=function(t,e){var n="";if(t.value&&t.value.name)n=t.value.name;else if(t.options){var i=t.options.find(function(e){return e.id===t.value});i&&(n=this.getValueFromOption(e,i))}return n},e.prototype.getValueFromOption=function(e,t){return e&&0<e.indexOf("_LABEL")?t.name:t.id},e.prototype.isSearchedField=function(e,t){var n=this.removeLabel(e,t);return!!e.id&&e.id.toUpperCase()===n.toUpperCase()},e.prototype.removeLabel=function(e,t){var n=t||"";return"RestFieldRepresentation"===e.fieldType&&0<t.indexOf("_LABEL")&&(n=t.substring(0,t.length-6)),n},e.prototype.getVariableValue=function(e,t,n){return this.getFormVariableValue(e,t)||this.getProcessVariableValue(t,n)},e.prototype.getFormVariableValue=function(e,t){if(e.json.variables){var n=e.json.variables.find(function(e){return e.name===t});return n?n.value:n}},e.prototype.getProcessVariableValue=function(t,e){if(this.processVarList){var n=this.processVarList.find(function(e){return e.id===t});return n?n.value:n}},e.prototype.evaluateLogicalOperation=function(e,t,n){switch(e){case"and":return t&&n;case"or":return t||n;case"and-not":return t&&!n;case"or-not":return t||!n;default:this.logService.error("NO valid operation! wrong op request : "+e)}},e.prototype.evaluateCondition=function(e,t,n){switch(n){case"==":return e+""==t+"";case"<":return e<t;case"!=":return e+""!=t+"";case">":return t<e;case">=":return t<=e;case"<=":return e<=t;case"empty":return!e||""===e;case"!empty":return!!e&&""!==e;default:this.logService.error("NO valid operation!")}},e.prototype.cleanProcessVariable=function(){this.processVarList=[]},e.prototype.getTaskProcessVariable=function(e){var n=this;return C.from(this.apiService.getInstance().activiti.taskFormsApi.getTaskFormVariables(e)).pipe(y.map(function(e){var t=n.toJson(e);return n.processVarList=t}),y.catchError(function(e){return n.handleError(e)}))},e.prototype.toJson=function(e){return e||{}},e.prototype.handleError=function(e){return this.logService.error("Error while performing a call"),C.throwError("Error while performing a call - Server error")},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:H},{type:q}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(H),A.inject(q))},token:e,providedIn:"root"}),e}(),Co=function(r){function e(e,t,n,i){var o=r.call(this,e,t)||this;return o.row=n,o.summary=i,o.isValid=!0,o}return _(e,r),e}(Ki),To=function(){function e(){this.supportedTypes=["Date"]}return e.prototype.isSupported=function(e){return e&&e.editable&&-1<this.supportedTypes.indexOf(e.type)},e.prototype.validate=function(e,t,n){if(this.isSupported(t)){var i=e.value[t.id];if(!b(i,"D-M-YYYY").isValid())return n&&(n.isValid=!1,n.message="Invalid '"+t.name+"' format."),!1}return!0},e}(),So=function(n){function e(e){var t=n.call(this,e)||this;return t.isValid=e.isValid,t}return _(e,n),e}(ki),Ao=function(){function e(){this.supportedTypes=["Number","Amount"]}return e.prototype.isSupported=function(e){return e&&e.required&&-1<this.supportedTypes.indexOf(e.type)},e.prototype.isNumber=function(e){return null!==e&&e!==undefined&&""!==e&&!isNaN(+e)},e.prototype.validate=function(e,t,n){if(this.isSupported(t)){var i=e.value[t.id];return!(null!==i&&i!==undefined&&""!==i&&!this.isNumber(i))||(n&&(n.isValid=!1,n.message="Field '"+t.name+"' must be a number."),!1)}return!0},e}(),Oo=function(){function e(){this.supportedTypes=["String","Number","Amount","Date","Dropdown"]}return e.prototype.isSupported=function(e){return e&&e.required&&-1<this.supportedTypes.indexOf(e.type)},e.prototype.validate=function(e,t,n){if(this.isSupported(t)){var i=e.value[t.id];if(t.required&&(null===i||i===undefined||""===i))return n&&(n.isValid=!1,n.message="Field '"+t.name+"' is required."),!1}return!0},e}(),Do=function(o){function e(e,t){var n=o.call(this,e.form,e.json)||this;if(n.formService=t,n.columns=[],n.visibleColumns=[],n.rows=[],n._validators=[],(n.field=e).json){var i=n.getColumns(e);i&&(n.columns=i,n.visibleColumns=n.columns.filter(function(e){return e.visible})),e.json.value&&(n.rows=e.json.value.map(function(e){return{selected:!1,value:e}}))}return n._validators=[new Oo,new To,new Ao],n}return _(e,o),Object.defineProperty(e.prototype,"selectedRow",{get:function(){return this._selectedRow},set:function(e){if(this._selectedRow&&this._selectedRow===e)return this._selectedRow.selected=!1,void(this._selectedRow=null);this.rows.forEach(function(e){return e.selected=!1}),(this._selectedRow=e)&&(this._selectedRow.selected=!0)},enumerable:!0,configurable:!0}),e.prototype.getColumns=function(e){if(e&&e.json){var t=e.json.columnDefinitions;if(!t&&e.json.params&&e.json.params.field&&(t=e.json.params.field.columnDefinitions),t)return t.map(function(e){return e})}return null},e.prototype.flushValue=function(){this.field&&(this.field.value=this.rows.map(function(e){return e.value}),this.field.updateForm())},e.prototype.moveRow=function(e,t){var n=this.rows.indexOf(e);if(-1<n){var i=n+t;i<0?i=0:i>=this.rows.length&&(i=this.rows.length);var o=this.rows.slice();o.splice(n,1),o.splice(i,0,e),this.rows=o,this.flushValue()}},e.prototype.deleteRow=function(e){if(e){this.selectedRow===e&&(this.selectedRow=null);var t=this.rows.indexOf(e);-1<t&&(this.rows.splice(t,1),this.flushValue())}},e.prototype.addRow=function(e){e&&this.rows.push(e)},e.prototype.validateRow=function(e){var t,n,i,o,r=new So({isValid:!0,message:null}),a=new Co(this.form,this.field,e,r);if(this.formService.validateDynamicTableRow.next(a),a.defaultPrevented||!r.isValid)return r;if(e)try{for(var s=M(this.columns),l=s.next();!l.done;l=s.next()){var c=l.value;try{for(var u=M(this._validators),p=u.next();!p.done;p=u.next()){if(!p.value.validate(e,c,r))return r}}catch(d){i={error:d}}finally{try{p&&!p.done&&(o=u["return"])&&o.call(u)}finally{if(i)throw i.error}}}}catch(f){t={error:f}}finally{try{l&&!l.done&&(n=s["return"])&&n.call(s)}finally{if(t)throw t.error}}return r},e.prototype.getCellValue=function(e,t){var n=e.value[t.id];return"Dropdown"===t.type&&n?n.name:"Boolean"===t.type?!!n:"Date"===t.type&&n?b(n.split("T")[0],"YYYY-MM-DD").format("DD-MM-YYYY"):n||""},e.prototype.getDisplayText=function(e){var t=e.name;if("Amount"===e.type){var n=e.amountCurrency||"$";t=e.name+" ("+n+")"}return t},e}(_i),Ro=function(a){function e(e,t,n,i,o){var r=a.call(this,e)||this;return r.formService=e,r.elementRef=t,r.visibilityService=n,r.logService=i,r.cd=o,r.ERROR_MODEL_NOT_FOUND="Table model not found",r.editMode=!1,r.editRow=null,r.selectArrayCode=[32,0,13],r}return _(e,a),e.prototype.ngOnInit=function(){this.field&&(this.content=new Do(this.field,this.formService),this.visibilityService.refreshVisibility(this.field.form))},e.prototype.forceFocusOnAddButton=function(){if(this.content){this.cd.detectChanges();var e=this.elementRef.nativeElement.querySelector("#"+this.content.id+"-add-row");this.isDynamicTableReady(e)&&e.focus()}},e.prototype.isDynamicTableReady=function(e){return this.field&&!this.editMode&&e},e.prototype.isValid=function(){var e=!0;return this.content&&this.content.field&&(e=this.content.field.isValid),e},e.prototype.onRowClicked=function(e){this.content&&(this.content.selectedRow=e)},e.prototype.onKeyPressed=function(e,t){this.content&&this.isEnterOrSpacePressed(e.keyCode)&&(this.content.selectedRow=t)},e.prototype.isEnterOrSpacePressed=function(e){return-1!==this.selectArrayCode.indexOf(e)},e.prototype.hasSelection=function(){return!(!this.content||!this.content.selectedRow)},e.prototype.moveSelectionUp=function(){return!(!this.content||this.readOnly)&&(this.content.moveRow(this.content.selectedRow,-1),!0)},e.prototype.moveSelectionDown=function(){return!(!this.content||this.readOnly)&&(this.content.moveRow(this.content.selectedRow,1),!0)},e.prototype.deleteSelection=function(){return!(!this.content||this.readOnly)&&(this.content.deleteRow(this.content.selectedRow),!0)},e.prototype.addNewRow=function(){return!(!this.content||this.readOnly)&&(this.editRow={isNew:!0,selected:!1,value:{}},this.editMode=!0)},e.prototype.editSelection=function(){return!(!this.content||this.readOnly)&&(this.editRow=this.copyRow(this.content.selectedRow),this.editMode=!0)},e.prototype.getCellValue=function(e,t){if(this.content){var n=this.content.getCellValue(e,t);return"Amount"===t.type?(t.amountCurrency||"$")+" "+(n||0):n}return null},e.prototype.onSaveChanges=function(){if(this.content){if(this.editRow.isNew){var e=this.copyRow(this.editRow);this.content.selectedRow=null,this.content.addRow(e),this.editRow.isNew=!1}else this.content.selectedRow.value=this.copyObject(this.editRow.value);this.content.flushValue()}else this.logService.error(this.ERROR_MODEL_NOT_FOUND);this.editMode=!1,this.forceFocusOnAddButton()},e.prototype.onCancelChanges=function(){this.editMode=!1,this.editRow=null,this.forceFocusOnAddButton()},e.prototype.copyRow=function(e){return{value:this.copyObject(e.value)}},e.prototype.copyObject=function(t){var n=this,i=t;return"object"==typeof t&&null!==t&&t!==undefined&&(i=Object.assign({},t),Object.keys(t).forEach(function(e){"object"==typeof t[e]&&(i[e]=n.copyObject(t[e]))})),i},e.decorators=[{type:A.Component,args:[{selector:"dynamic-table-widget",template:'<div class="adf-dynamic-table-scrolling {{field.className}}"\n    [class.adf-invalid]="!isValid()">\n    <div class="adf-label">{{content.name}}<span *ngIf="isRequired()">*</span></div>\n\n    <div *ngIf="!editMode">\n        <div class="adf-table-container">\n            <table class="adf-full-width adf-dynamic-table" id="dynamic-table-{{content.id}}">\n                <thead>\n                    <tr>\n                        <th *ngFor="let column of content.visibleColumns">\n                            {{column.name}}\n                        </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr *ngFor="let row of content.rows; let idx = index" tabindex="0" id="{{content.id}}-row-{{idx}}"\n                        [class.adf-dynamic-table-widget__row-selected]="row.selected" (keyup)="onKeyPressed($event, row)">\n                        <td *ngFor="let column of content.visibleColumns"\n                            (click)="onRowClicked(row)">\n                            <span *ngIf="column.type !== \'Boolean\' else checkbox">\n                                {{ getCellValue(row, column) }}\n                            </span>\n                            <ng-template #checkbox>\n                                <mat-checkbox disabled [checked]="getCellValue(row, column)">\n                                </mat-checkbox>\n                            </ng-template>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n\n        <div *ngIf="!readOnly">\n            <button mat-button\n                    [disabled]="!hasSelection()"\n                    (click)="moveSelectionUp()">\n                <mat-icon>arrow_upward</mat-icon>\n            </button>\n            <button mat-button\n                    [disabled]="!hasSelection()"\n                    (click)="moveSelectionDown()">\n                <mat-icon>arrow_downward</mat-icon>\n            </button>\n            <button mat-button\n                    [disabled]="field.readOnly"\n                    id="{{content.id}}-add-row"\n                    (click)="addNewRow()">\n                <mat-icon>add_circle_outline</mat-icon>\n            </button>\n            <button mat-button\n                    [disabled]="!hasSelection()"\n                    (click)="deleteSelection()">\n                <mat-icon>remove_circle_outline</mat-icon>\n            </button>\n            <button mat-button\n                    [disabled]="!hasSelection()"\n                    (click)="editSelection()">\n                <mat-icon>edit</mat-icon>\n            </button>\n        </div>\n     </div>\n\n     <row-editor *ngIf="editMode"\n        [table]="content"\n        [row]="editRow"\n        (save)="onSaveChanges()"\n        (cancel)="onCancelChanges()">\n     </row-editor>\n    <error-widget [error]="field.validationSummary" ></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:lo,encapsulation:A.ViewEncapsulation.None,styles:[""]}]}],e.ctorParameters=function(){return[{type:so},{type:A.ElementRef},{type:wo},{type:q},{type:A.ChangeDetectorRef}]},e}(co),xo=function(){function e(){}return e.prototype.onValueChanged=function(e,t,n){var i=n.checked;e.value[t.id]=i},e.decorators=[{type:A.Component,args:[{selector:"adf-boolean-editor",template:' <label [attr.for]="column.id">\n    <mat-checkbox\n        color="primary"\n        [id]="column.id"\n        [checked]="table.getCellValue(row, column)"\n        [required]="column.required"\n        [disabled]="!column.editable"\n        (change)="onValueChanged(row, column, $event)">\n    <span class="adf-checkbox-label">{{column.name}}</span>\n    </mat-checkbox>\n</label>\n',styles:[".adf-checkbox-label{position:relative;cursor:pointer;font-size:16px;line-height:24px;margin:0}"]}]}],e.propDecorators={table:[{type:A.Input}],row:[{type:A.Input}],column:[{type:A.Input}]},e}(),_o=ie,Po=function(){function e(e,t){this.dateAdapter=e,this.userPreferencesService=t,this.DATE_FORMAT="DD-MM-YYYY"}return e.prototype.ngOnInit=function(){var t=this;this.userPreferencesService.select(Ce.Locale).subscribe(function(e){t.dateAdapter.setLocale(e)}),this.dateAdapter.overrideDisplayFormat=this.DATE_FORMAT,this.value=b(this.table.getCellValue(this.row,this.column),"YYYY-MM-DD")},e.prototype.onDateChanged=function(e){if(e&&e.value){var t=b(e.value,this.DATE_FORMAT,!0);t.isValid()?(this.row.value[this.column.id]=t.format("YYYY-MM-DD")+"T00:00:00.000Z",this.table.flushValue()):this.row.value[this.column.id]=""}},e.decorators=[{type:A.Component,args:[{selector:"adf-date-editor",template:'<div>\n    <mat-form-field class="adf-date-editor">\n        <label [attr.for]="column.id">{{column.name}} (d-M-yyyy)</label>\n        <input matInput\n            id="dateInput"\n            type="text"\n            [matDatepicker]="datePicker"\n            [value]="value"\n            [id]="column.id"\n            [required]="column.required"\n            [disabled]="!column.editable"\n            (focusout)="onDateChanged($event.srcElement.value)"\n            (dateChange)="onDateChanged($event)">\n        <mat-datepicker-toggle  *ngIf="column.editable" matSuffix [for]="datePicker" class="adf-date-editor-button" ></mat-datepicker-toggle>\n    </mat-form-field>\n    <mat-datepicker #datePicker [touchUi]="true"></mat-datepicker>\n</div>\n',providers:[{provide:E.DateAdapter,useClass:oe},{provide:E.MAT_DATE_FORMATS,useValue:_o}],styles:[".adf-date-editor{width:100%}.adf-date-editor-button{position:relative;top:25px}"]}]}],e.ctorParameters=function(){return[{type:E.DateAdapter},{type:Te}]},e.propDecorators={table:[{type:A.Input}],row:[{type:A.Input}],column:[{type:A.Input}]},e}(),ko=ie,Lo=c.MAT_MOMENT_DATETIME_FORMATS,Mo=function(){function e(e,t){this.dateAdapter=e,this.userPreferencesService=t,this.DATE_FORMAT="D-M-YYYY hh:mm A"}return e.prototype.ngOnInit=function(){var t=this;this.userPreferencesService.select(Ce.Locale).subscribe(function(e){t.dateAdapter.setLocale(e)}),this.dateAdapter.overrideDisplayFormat=this.DATE_FORMAT,this.value=b(this.table.getCellValue(this.row,this.column),this.DATE_FORMAT)},e.prototype.onDateChanged=function(e){if(e&&e.value){var t=b(e.value,this.DATE_FORMAT);this.row.value[this.column.id]=e.value.format(this.DATE_FORMAT),this.value=t,this.table.flushValue()}else if(e){t=b(e,this.DATE_FORMAT);this.value=t,this.row.value[this.column.id]=e,this.table.flushValue()}else this.row.value[this.column.id]=""},e.decorators=[{type:A.Component,args:[{selector:"adf-datetime-editor",template:'<div>\n    <mat-form-field class="adf-date-editor">\n        <label [attr.for]="column.id">{{column.name}} {{DATE_FORMAT}}</label>\n        <input matInput\n            [matDatetimepicker]="datetimePicker"\n            [(ngModel)]="value"\n            [id]="column.id"\n            [required]="column.required"\n            [disabled]="!column.editable"\n            (focusout)="onDateChanged($event.srcElement.value)"\n            (dateChange)="onDateChanged($event)">\n            <mat-datetimepicker-toggle matSuffix [for]="datetimePicker"\n                            *ngIf="column.editable"\n                            class="adf-date-editor-button"></mat-datetimepicker-toggle>\n    </mat-form-field>\n    <mat-datetimepicker #datetimePicker\n                        type="datetime"\n                        openOnFocus="true"\n                        timeInterval="5"></mat-datetimepicker>\n</div>\n',providers:[{provide:E.DateAdapter,useClass:oe},{provide:E.MAT_DATE_FORMATS,useValue:ko},{provide:u.DatetimeAdapter,useClass:c.MomentDatetimeAdapter},{provide:u.MAT_DATETIME_FORMATS,useValue:Lo}],styles:[".adf-date-editor{width:100%}.adf-date-editor-button{position:relative;top:25px}"]}]}],e.ctorParameters=function(){return[{type:E.DateAdapter},{type:Te}]},e.propDecorators={table:[{type:A.Input}],row:[{type:A.Input}],column:[{type:A.Input}]},e}(),Fo=function(){function e(e,t){this.formService=e,this.logService=t,this.value=null,this.options=[]}return e.prototype.ngOnInit=function(){var e=this.table.field;e&&("rest"===this.column.optionType?this.table.form&&this.table.form.taskId?this.getValuesByTaskId(e):this.getValuesByProcessDefinitionId(e):(this.options=this.column.options||[],this.value=this.table.getCellValue(this.row,this.column)))},e.prototype.getValuesByTaskId=function(e){var t=this;this.formService.getRestFieldValuesColumn(e.form.taskId,e.id,this.column.id).subscribe(function(e){t.column.options=e||[],t.options=t.column.options,t.value=t.table.getCellValue(t.row,t.column)},function(e){return t.handleError(e)})},e.prototype.getValuesByProcessDefinitionId=function(e){var t=this;this.formService.getRestFieldValuesColumnByProcessId(e.form.processDefinitionId,e.id,this.column.id).subscribe(function(e){t.column.options=e||[],t.options=t.column.options,t.value=t.table.getCellValue(t.row,t.column)},function(e){return t.handleError(e)})},e.prototype.onValueChanged=function(e,t,n){var i=n.value;i=t.options.find(function(e){return e.name===i}),e.value[t.id]=i},e.prototype.handleError=function(e){this.logService.error(e)},e.decorators=[{type:A.Component,args:[{selector:"adf-dropdown-editor",template:'<div class="dropdown-editor">\n    <label [attr.for]="column.id">{{column.name}}</label>\n    <mat-form-field>\n        <mat-select\n            floatPlaceholder="never"\n            class="adf-dropdown-editor-select"\n            [id]="column.id"\n            [(ngModel)]="value"\n            [required]="column.required"\n            [disabled]="!column.editable"\n            (selectionChange)="onValueChanged(row, column, $event)">\n            <mat-option></mat-option>\n            <mat-option *ngFor="let opt of options" [value]="opt.name" [id]="opt.id">{{opt.name}}</mat-option>\n        </mat-select>\n    </mat-form-field>\n</div>\n',styles:[".adf-dropdown-editor-select{width:100%}"]}]}],e.ctorParameters=function(){return[{type:so},{type:q}]},e.propDecorators={table:[{type:A.Input}],row:[{type:A.Input}],column:[{type:A.Input}]},e}(),No=function(){function e(){this.save=new A.EventEmitter,this.cancel=new A.EventEmitter,this.validationSummary=new So({isValid:!0,message:""})}return e.prototype.onCancelChanges=function(){this.cancel.emit({table:this.table,row:this.row,column:this.column})},e.prototype.onSaveChanges=function(){this.validate(),this.isValid()&&this.save.emit({table:this.table,row:this.row,column:this.column})},e.prototype.isValid=function(){return this.validationSummary&&this.validationSummary.isValid},e.prototype.validate=function(){this.validationSummary=this.table.validateRow(this.row)},e.decorators=[{type:A.Component,args:[{selector:"row-editor",template:'<div class="row-editor mdl-shadow--2dp"\n    [class.row-editor__invalid]="!validationSummary.isValid">\n    <div class="mdl-grid" *ngFor="let column of table.columns">\n        <div class="mdl-cell mdl-cell--6-col" [ngSwitch]="column.type">\n            <div *ngSwitchCase="\'Dropdown\'">\n                <adf-dropdown-editor\n                    [table]="table"\n                    [row]="row"\n                    [column]="column">\n                </adf-dropdown-editor>\n                </div>\n                <div *ngSwitchCase="\'Date\'">\n                    <adf-date-editor\n                    [table]="table"\n                    [row]="row"\n                    [column]="column">\n                </adf-date-editor>\n                </div>\n                <div *ngSwitchCase="\'Datetime\'">\n                    <adf-datetime-editor\n                        [table]="table"\n                        [row]="row"\n                        [column]="column">\n                    </adf-datetime-editor>\n                </div>\n                <div *ngSwitchCase="\'Boolean\'">\n                <adf-boolean-editor\n                    [table]="table"\n                    [row]="row"\n                    [column]="column">\n                </adf-boolean-editor>\n                </div>\n                <div *ngSwitchDefault>\n                <adf-text-editor\n                    [table]="table"\n                    [row]="row"\n                    [column]="column">\n                </adf-text-editor>\n            </div>\n        </div>\n    </div>\n    <error-widget [error]="validationSummary"></error-widget>\n    <div>\n        <button mat-button (click)="onCancelChanges()">Cancel</button>\n        <button mat-button (click)="onSaveChanges()">Save</button>\n    </div>\n</div>\n',styles:[".row-editor{padding:8px}.row-editor__validation-summary{visibility:hidden}.row-editor__invalid .row-editor__validation-summary{color:#d50000;visibility:visible;padding:8px 16px}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={table:[{type:A.Input}],row:[{type:A.Input}],column:[{type:A.Input}],save:[{type:A.Output}],cancel:[{type:A.Output}]},e}(),Vo=function(){function e(){}return e.prototype.ngOnInit=function(){this.displayName=this.table.getDisplayText(this.column)},e.prototype.onValueChanged=function(e,t,n){var i=n.target.value;e.value[t.id]=i},e.decorators=[{type:A.Component,args:[{selector:"adf-text-editor",template:'<div class="adf-text-editor">\n    <mat-form-field>\n    <label [attr.for]="column.id">{{displayName}}</label>\n    <input matInput\n        type="text"\n        [value]="table.getCellValue(row, column)"\n        (keyup)="onValueChanged(row, column, $event)"\n        [required]="column.required"\n        [disabled]="!column.editable"\n        [id]="column.id">\n    </mat-form-field>\n</div>\n',styles:[".adf-text-editor{width:100%}"]}]}],e.propDecorators={table:[{type:A.Input}],row:[{type:A.Input}],column:[{type:A.Input}]},e}(),Uo=function(n){function e(e){var t=n.call(this,e)||this;return t.formService=e,t.translateParameters=null,t._subscriptAnimationState="",t}return _(e,n),e.prototype.ngOnChanges=function(e){e.required&&(this.required=e.required.currentValue,this._subscriptAnimationState="enter"),e.error&&e.error.currentValue&&e.error.currentValue.isActive()&&(this.error=e.error.currentValue,this.translateParameters=this.error.getAttributesAsJsonObj(),this._subscriptAnimationState="enter")},e.decorators=[{type:A.Component,args:[{selector:"error-widget",template:'<div class="adf-error-text-container">\n    <div *ngIf="error?.isActive()" [@transitionMessages]="_subscriptAnimationState">\n        <div class="adf-error-text">{{error.message | translate:translateParameters}}</div>\n        <mat-icon class="adf-error-icon">warning</mat-icon>\n    </div>\n    <div *ngIf="required" [@transitionMessages]="_subscriptAnimationState">\n            <div class="adf-error-text">{{required}}</div>\n    </div>\n</div>\n',animations:[d.trigger("transitionMessages",[d.state("enter",d.style({opacity:1,transform:"translateY(0%)"})),d.transition("void => enter",[d.style({opacity:0,transform:"translateY(-100%)"}),d.animate("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])],host:lo,encapsulation:A.ViewEncapsulation.None,styles:[".adf-error-text{width:85%}"]}]}],e.ctorParameters=function(){return[{type:so}]},e.propDecorators={error:[{type:A.Input}],required:[{type:A.Input}]},e}(co),jo=function(i){function e(e,t){var n=i.call(this,e)||this;return n.formService=e,n.elementRef=t,n.groups=[],n.minTermLength=1,n}return _(e,i),e.prototype.ngOnInit=function(){var t=this;if(this.field){var e=this.field.value;e&&(this.value=e.name);var n=this.field.params;if(n&&n.restrictWithGroup){var i=n.restrictWithGroup;this.groupId=i.id}this.value&&this.formService.getWorkflowGroups(this.value,this.groupId).subscribe(function(e){return t.groups=e||[]})}},e.prototype.onKeyUp=function(e){var t=this;this.value&&this.value.length>=this.minTermLength&&this.oldValue!==this.value&&e.keyCode!==l.ESCAPE&&e.keyCode!==l.ENTER&&(this.oldValue=this.value,this.formService.getWorkflowGroups(this.value,this.groupId).subscribe(function(e){t.groups=e||[]}))},e.prototype.flushValue=function(){var t=this,e=this.groups.find(function(e){return e.name.toLocaleLowerCase()===t.value.toLocaleLowerCase()});e?(this.field.value=e,this.value=e.name):(this.field.value=null,this.value=null),this.field.updateForm()},e.prototype.onItemClick=function(e,t){e&&(this.field.value=e,this.value=e.name),t&&t.preventDefault()},e.prototype.onItemSelect=function(e){e&&(this.field.value=e,this.value=e.name)},e.decorators=[{type:A.Component,args:[{selector:"functional-group-widget",template:'<div class="adf-group-widget {{field.className}}"\n     [class.is-dirty]="value"\n     [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly" id="functional-group-div">\n    <mat-form-field>\n        <label class="adf-label" [attr.for]="field.id">{{field.name}}<span *ngIf="isRequired()">*</span></label>\n        <input matInput\n               class="adf-input"\n               type="text"\n               [id]="field.id"\n               [(ngModel)]="value"\n               (keyup)="onKeyUp($event)"\n               [disabled]="field.readOnly"\n               placeholder="{{field.placeholder}}"\n               [matAutocomplete]="auto">\n        <mat-autocomplete #auto="matAutocomplete" (optionSelected)="onItemSelect($event.option.value)">\n            <mat-option *ngFor="let item of groups"\n                       [id]="field.id +\'-\'+item.id"\n                       (click)="onItemClick(item, $event)"  [value]="item">\n                <span>{{item.name}}</span>\n            </mat-option>\n        </mat-autocomplete>\n\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:lo,encapsulation:A.ViewEncapsulation.None,styles:[".adf-group-widget{width:100%}"]}]}],e.ctorParameters=function(){return[{type:so},{type:A.ElementRef}]},e}(co),Bo=function(n){function e(e){var t=n.call(this,e)||this;return t.formService=e,t.linkUrl=co.DEFAULT_HYPERLINK_URL,t.linkText=null,t}return _(e,n),e.prototype.ngOnInit=function(){this.field&&(this.linkUrl=this.getHyperlinkUrl(this.field),this.linkText=this.getHyperlinkText(this.field))},e.decorators=[{type:A.Component,args:[{selector:"hyperlink-widget",template:'<div class="adf-hyperlink-widget {{field.className}}">\n    <label class="adf-label" [attr.for]="field.id">{{field.name}}<span *ngIf="isRequired()">*</span></label>\n    <div>\n        <a [href]="linkUrl" target="_blank" rel="nofollow">{{linkText}}</a>\n    </div>\n</div>\n',host:lo,encapsulation:A.ViewEncapsulation.None,styles:[""]}]}],e.ctorParameters=function(){return[{type:so}]},e}(co),Ho=function(n){function e(e){var t=n.call(this,e)||this;return t.formService=e,t}return _(e,n),e.decorators=[{type:A.Component,args:[{selector:"multiline-text-widget",template:'<div class="adf-multiline-text-widget {{field.className}}"\n     [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly">\n    <mat-form-field floatPlaceholder="never">\n        <label class="adf-label" [attr.for]="field.id">{{field.name}}<span *ngIf="isRequired()">*</span></label>\n        <textarea matInput class="adf-input"\n                  matTextareaAutosize\n                  type="text"\n                  rows="3"\n                  [id]="field.id"\n                  [required]="isRequired()"\n                  [(ngModel)]="field.value"\n                  (ngModelChange)="onFieldChanged(field)"\n                  [disabled]="field.readOnly || readOnly"\n                  placeholder="{{field.placeholder}}">\n        </textarea>\n    </mat-form-field>\n    <div *ngIf="field.maxLength > 0" class="adf-multiline-word-counter">\n        <span>{{field?.value?.length || 0}}/{{field.maxLength}}</span>\n    </div>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget class="adf-multiline-required-message" *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n\n',host:lo,encapsulation:A.ViewEncapsulation.None,styles:[".adf-multiline-text-widget{width:100%}.adf-multiline-word-counter{float:right;margin-top:-20px!important;min-height:24px;min-width:1px;font-size:12px;line-height:14px;overflow:hidden;transition:.3s cubic-bezier(.55,0,.55,.2);opacity:1;padding-top:5px;text-align:right;padding-right:2px;padding-left:0}.adf-multiline-required-message{display:flex}"]}]}],e.ctorParameters=function(){return[{type:so}]},e}(co),Go=function(n){function e(e){var t=n.call(this,e)||this;return t.formService=e,t}return _(e,n),e.decorators=[{type:A.Component,args:[{selector:"number-widget",template:'<div class="adf-textfield adf-number-widget {{field.className}}"\n     [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly">\n    <mat-form-field>\n        <label class="adf-label" [attr.for]="field.id">{{field.name}}<span *ngIf="isRequired()">*</span></label>\n        <input matInput\n               class="adf-input"\n               type="text"\n               pattern="-?[0-9]*(\\.[0-9]+)?"\n               [id]="field.id"\n               [required]="isRequired()"\n               [value]="field.value"\n               [(ngModel)]="field.value"\n               (ngModelChange)="onFieldChanged(field)"\n               [disabled]="field.readOnly"\n               placeholder="{{field.placeholder}}">\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary" ></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:lo,encapsulation:A.ViewEncapsulation.None,styles:[".adf-number-widget{width:100%}"]}]}],e.ctorParameters=function(){return[{type:so}]},e}(co),Yo=function(){function e(e,t){this.alfrescoJsApi=e,this.logService=t}return e.prototype.getWorkflowUsers=function(e,t){var n=this,i={excludeTaskId:e,filter:t};return C.from(this.getWorkflowUserApi(i)).pipe(y.map(function(e){return e.data||[]}),y.catchError(function(e){return n.handleError(e)}))},e.prototype.getUserImage=function(e){return this.getUserProfileImageApi(e.id)},e.prototype.involveUserWithTask=function(e,t){var n=this,i={userId:t};return C.from(this.involveUserToTaskApi(e,i)).pipe(y.catchError(function(e){return n.handleError(e)}))},e.prototype.removeInvolvedUser=function(e,t){var n=this,i={userId:t};return C.from(this.removeInvolvedUserFromTaskApi(e,i)).pipe(y.catchError(function(e){return n.handleError(e)}))},e.prototype.getWorkflowUserApi=function(e){return this.alfrescoJsApi.getInstance().activiti.usersWorkflowApi.getUsers(e)},e.prototype.involveUserToTaskApi=function(e,t){return this.alfrescoJsApi.getInstance().activiti.taskActionsApi.involveUser(e,t)},e.prototype.removeInvolvedUserFromTaskApi=function(e,t){return this.alfrescoJsApi.getInstance().activiti.taskActionsApi.removeInvolvedUser(e,t)},e.prototype.getUserProfileImageApi=function(e){return this.alfrescoJsApi.getInstance().activiti.userApi.getUserProfilePictureUrl(e)},e.prototype.handleError=function(e){return this.logService.error(e),C.throwError(e||"Server error")},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:H},{type:q}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(H),A.inject(q))},token:e,providedIn:"root"}),e}(),zo=function(i){function e(e,t){var n=i.call(this,e)||this;return n.formService=e,n.peopleProcessService=t,n.searchTerm=new O.FormControl,n.errorMsg="",n.searchTerms$=n.searchTerm.valueChanges,n.users$=n.searchTerms$.pipe(y.tap(function(){n.errorMsg=""}),y.distinctUntilChanged(),y.switchMap(function(e){var t=e.email?n.getDisplayName(e):e;return n.formService.getWorkflowUsers(t,n.groupId).pipe(y.catchError(function(e){return n.errorMsg=e.message,C.of()}))}),y.map(function(e){var t=n.searchTerm.value.email?n.getDisplayName(n.searchTerm.value):n.searchTerm.value;return n.checkUserAndValidateForm(e,t),e})),n.peopleSelected=new A.EventEmitter,n}return _(e,i),e.prototype.ngOnInit=function(){if(this.field){this.field.value&&this.searchTerm.setValue(this.field.value),this.field.readOnly&&this.searchTerm.disable();var e=this.field.params;if(e&&e.restrictWithGroup){var t=e.restrictWithGroup;this.groupId=t.id}}},e.prototype.checkUserAndValidateForm=function(e,t){this.isValidUser(e,t)||""===t?(this.field.validationSummary.message="",this.field.validate(),this.field.form.validateForm()):(this.field.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_VALUE",this.field.markAsInvalid(),this.field.form.markAsInvalid())},e.prototype.isValidUser=function(e,n){var i=this;if(e)return e.find(function(e){var t=i.getDisplayName(e).toLocaleLowerCase()===n.toLocaleLowerCase();return t&&i.peopleSelected.emit(e&&e.id||undefined),t})},e.prototype.getDisplayName=function(e){return e?((e.firstName||"")+" "+(e.lastName||"")).trim():""},e.prototype.onItemSelect=function(e){e&&(this.field.value=e)},e.decorators=[{type:A.Component,args:[{selector:"people-widget",template:'<div class="adf-people-widget {{field.className}}"\n     [class.adf-invalid]="!field.isValid"\n     [class.adf-readonly]="field.readOnly"\n     id="people-widget-content">\n    <mat-form-field>\n        <label class="adf-label" [attr.for]="field.id">{{field.name}}<span *ngIf="isRequired()">*</span></label>\n        <input #inputValue\n               matInput\n               class="adf-input"\n               data-automation-id="adf-people-search-input"\n               type="text"\n               [id]="field.id"\n               [formControl]="searchTerm"\n               placeholder="{{field.placeholder}}"\n               [matAutocomplete]="auto">\n        <mat-autocomplete class="adf-people-widget-list"\n                          #auto="matAutocomplete"\n                          (optionSelected)="onItemSelect($event.option.value)"\n                          [displayWith]="getDisplayName">\n            <mat-option *ngFor="let user of users$ | async; let i = index" [value]="user">\n                <div class="adf-people-widget-row" id="adf-people-widget-user-{{i}}">\n                    <div [outerHTML]="user | usernameInitials:\'adf-people-widget-pic\'"></div>\n                    <div *ngIf="user.pictureId" class="adf-people-widget-image-row">\n                        <img id="adf-people-widget-pic-{{i}}" class="adf-people-widget-image"\n                             [alt]="getDisplayName(user)" [src]="peopleProcessService.getUserImage(user)"/>\n                    </div>\n                    <span class="adf-people-label-name">{{getDisplayName(user)}}</span>\n                </div>\n            </mat-option>\n        </mat-autocomplete>\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:lo,encapsulation:A.ViewEncapsulation.None,styles:[""]}]}],e.ctorParameters=function(){return[{type:so},{type:Yo}]},e.propDecorators={input:[{type:A.ViewChild,args:["inputValue"]}],peopleSelected:[{type:A.Output}]},e}(co),qo=function(i){function e(e,t){var n=i.call(this,e)||this;return n.formService=e,n.logService=t,n}return _(e,i),e.prototype.ngOnInit=function(){this.field&&this.field.restUrl&&(this.field.form.taskId?this.getOptionsByTaskId():this.getOptionsByProcessDefinitionId())},e.prototype.getOptionsByTaskId=function(){var t=this;this.formService.getRestFieldValues(this.field.form.taskId,this.field.id).subscribe(function(e){t.field.options=e||[],t.field.updateForm()},function(e){return t.handleError(e)})},e.prototype.getOptionsByProcessDefinitionId=function(){var t=this;this.formService.getRestFieldValuesByProcessId(this.field.form.processDefinitionId,this.field.id).subscribe(function(e){t.field.options=e||[],t.field.updateForm()},function(e){return t.handleError(e)})},e.prototype.onOptionClick=function(e){this.field.value=e,this.fieldChanged.emit(this.field)},e.prototype.handleError=function(e){this.logService.error(e)},e.decorators=[{type:A.Component,args:[{selector:"radio-buttons-widget",template:'<div class="adf-radio-buttons-widget {{field.className}}"\n     [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly" [id]="field.id">\n    <div class="adf-radio-button-container">\n        <label class="adf-label" [attr.for]="field.id">{{field.name}}<span *ngIf="isRequired()">*</span></label>\n        <mat-radio-group class="adf-radio-group" [(ngModel)]="field.value">\n            <mat-radio-button\n                [id]="field.id + \'-\' + opt.id"\n                [name]="field.id"\n                [value]="opt.id"\n                [disabled]="field.readOnly"\n                [checked]="field.value === opt.id"\n                (change)="onOptionClick(opt.id)"\n                color="primary"\n                class="adf-radio-button" *ngFor="let opt of field.options" >\n                {{opt.name}}\n            </mat-radio-button>\n        </mat-radio-group>\n    </div>\n    <error-widget [error]="field.validationSummary" ></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n\n\n',host:lo,encapsulation:A.ViewEncapsulation.None,styles:[".adf-radio-button-container{margin-bottom:15px}.adf-radio-group{display:inline-flex;flex-direction:column}.adf-radio-button{margin:5px}"]}]}],e.ctorParameters=function(){return[{type:so},{type:q}]},e}(co),Wo={provide:O.NG_VALUE_ACCESSOR,useExisting:A.forwardRef(function(){return $o}),multi:!0},$o=function(){function e(e,t){this.el=e,this.render=t,this.translationMask={0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}},this.byPassKeys=[9,16,17,18,36,37,38,39,40,91],this.invalidCharacters=[],this._onChange=function(e){},this._onTouched=function(){}}return e.prototype.onTextInput=function(e){this.inputMask&&this.inputMask.mask?this.maskValue(this.el.nativeElement.value,this.el.nativeElement.selectionStart,this.inputMask.mask,this.inputMask.isReversed,e.keyCode):this._onChange(this.el.nativeElement.value)},e.prototype.ngOnChanges=function(e){e.inputMask&&e.inputMask.currentValue.mask&&(this.inputMask=e.inputMask.currentValue)},e.prototype.writeValue=function(e){this.el.nativeElement.value=e},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.maskValue=function(e,t,n,i,o){if(-1===this.byPassKeys.indexOf(o)){var r=this.getMasked(!1,e,n,i),a=this.calculateCaretPosition(t,e,o);this.render.setAttribute(this.el.nativeElement,"value",r),this.el.nativeElement.value=r,this.setValue(r),this._onChange(r),this.setCaretPosition(a)}},e.prototype.setCaretPosition=function(e){this.el.nativeElement.moveStart=e,this.el.nativeElement.moveEnd=e},e.prototype.calculateCaretPosition=function(e,t,n){var i=t.length,o=this.getValue()||"",r=o.length;return 8===n&&o!==t?e-=t.slice(0,e).length-o.slice(0,e).length:o!==t&&(r<=e?e=i:e+=t.slice(0,e).length-o.slice(0,e).length),e},e.prototype.getMasked=function(e,t,n,i){void 0===i&&(i=!1);var o,r,a,s=[],l=t,c=0,u=n.length,p=0,d=l.length,f=1,m="push",h=-1;for(i?(m="unshift",f=-1,o=0,c=u-1,p=d-1):o=u-1,a=this.isToCheck(i,c,u,p,d);a;){var g=n.charAt(c),y=l.charAt(p),v=this.translationMask[g];v?(y.match(v.pattern)?(s[m](y),v.recursive&&(-1===h?h=c:c===o&&(c=h-f),o===h&&(c-=f)),c+=f):y===r?r=undefined:v.optional?(c+=f,p-=f):this.invalidCharacters.push({index:p,digit:y,translated:v.pattern}),p+=f):(e||s[m](g),y===g?p+=f:r=g,c+=f),a=this.isToCheck(i,c,u,p,d)}var b=n.charAt(o);return u!==d+1||this.translationMask[b]||s.push(b),s.join("")},e.prototype.isToCheck=function(e,t,n,i,o){return e?-1<t&&-1<i:t<n&&i<o},e.prototype.setValue=function(e){this.value=e},e.prototype.getValue=function(){return this.value},e.decorators=[{type:A.Directive,args:[{selector:"[adf-text-mask], [textMask]",providers:[Wo]}]}],e.ctorParameters=function(){return[{type:A.ElementRef},{type:A.Renderer2}]},e.propDecorators={inputMask:[{type:A.Input,args:["textMask"]}],onTextInput:[{type:A.HostListener,args:["input",["$event"]]},{type:A.HostListener,args:["keyup",["$event"]]}]},e}(),Xo=function(n){function e(e){var t=n.call(this,e)||this;return t.formService=e,t}return _(e,n),e.prototype.ngOnInit=function(){this.field.params&&(this.mask=this.field.params.inputMask,this.placeholder=this.field.params.inputMask&&this.field.params.inputMaskPlaceholder?this.field.params.inputMaskPlaceholder:this.field.placeholder,this.isMaskReversed=!!this.field.params.inputMaskReversed&&this.field.params.inputMaskReversed)},e.decorators=[{type:A.Component,args:[{selector:"text-widget",template:'<div class="adf-textfield adf-text-widget {{field.className}}"\n     [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly">\n    <mat-form-field>\n        <label class="adf-label" [attr.for]="field.id">{{field.name}}<span *ngIf="isRequired()">*</span></label>\n        <input matInput\n               class="adf-input"\n               type="text"\n               [id]="field.id"\n               [required]="isRequired()"\n               [value]="field.value"\n               [(ngModel)]="field.value"\n               (ngModelChange)="onFieldChanged(field)"\n               [disabled]="field.readOnly || readOnly"\n               [textMask]="{mask: mask, isReversed: isMaskReversed}"\n               [placeholder]="placeholder">\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:lo,encapsulation:A.ViewEncapsulation.None,styles:[".adf-text-widget{width:100%}"]}]}],e.ctorParameters=function(){return[{type:so}]},e}(co),Ko=function(i){function e(e,t){var n=i.call(this,e)||this;return n.formService=e,n.logService=t,n.minTermLength=1,n.options=[],n}return _(e,i),e.prototype.ngOnInit=function(){this.field.form.taskId&&this.field.restUrl?this.getValuesByTaskId():this.field.form.processDefinitionId&&this.field.restUrl&&this.getValuesByProcessDefinitionId(),this.isReadOnlyType()&&(this.value=this.field.value)},e.prototype.getValuesByTaskId=function(){var o=this;this.formService.getRestFieldValues(this.field.form.taskId,this.field.id).subscribe(function(e){var t=e||[];o.field.options=t;var n=o.field.value;if(n){var i=t.find(function(e){return e.id===n||e.name.toLocaleLowerCase()===n.toLocaleLowerCase()});i&&(o.value=i.name)}o.onFieldChanged(o.field),o.field.updateForm()},function(e){return o.handleError(e)})},e.prototype.getValuesByProcessDefinitionId=function(){var o=this;this.formService.getRestFieldValuesByProcessId(this.field.form.processDefinitionId,this.field.id).subscribe(function(e){var t=e||[];o.field.options=t;var n=o.field.value;if(n){var i=t.find(function(e){return e.id===n});i&&(o.value=i.name)}o.onFieldChanged(o.field),o.field.updateForm()},function(e){return o.handleError(e)})},e.prototype.getOptions=function(){var t=this.value.trim().toLocaleLowerCase();return this.field.options.filter(function(e){return-1<e.name.toLocaleLowerCase().indexOf(t)})},e.prototype.isValidOptionName=function(t){return!!this.field.options.find(function(e){return e.name&&e.name.toLocaleLowerCase()===t.toLocaleLowerCase()})},e.prototype.onKeyUp=function(e){this.value&&this.value.trim().length>=this.minTermLength&&this.oldValue!==this.value&&e.keyCode!==l.ESCAPE&&e.keyCode!==l.ENTER&&this.value.length>=this.minTermLength&&(this.options=this.getOptions(),this.oldValue=this.value,this.isValidOptionName(this.value)&&(this.field.value=this.options[0].id)),this.isValueDefined()&&0===this.value.trim().length&&(this.oldValue=this.value,this.options=[])},e.prototype.onItemSelect=function(e){e&&(this.field.value=e.id,this.value=e.name,this.onFieldChanged(this.field))},e.prototype.validate=function(){this.field.value=this.value},e.prototype.isValueDefined=function(){return null!==this.value&&this.value!==undefined},e.prototype.handleError=function(e){this.logService.error(e)},e.prototype.isReadOnlyType=function(){return"readonly"===this.field.type},e.decorators=[{type:A.Component,args:[{selector:"typeahead-widget",template:'<div class="adf-typeahead-widget-container">\n    <div class="adf-typeahead-widget {{field.className}}"\n        [class.is-dirty]="value"\n        [class.adf-invalid]="!field.isValid"\n        [class.adf-readonly]="field.readOnly"\n        id="typehead-div">\n        <mat-form-field>\n            <label class="adf-label" [attr.for]="field.id">{{field.name}}</label>\n            <input matInput class="adf-input"\n                   type="text"\n                   [id]="field.id"\n                   [(ngModel)]="value"\n                   (ngModelChange)="validate()"\n                   (keyup)="onKeyUp($event)"\n                   [disabled]="field.readOnly"\n                   placeholder="{{field.placeholder}}"\n                   [matAutocomplete]="auto">\n            <mat-autocomplete #auto="matAutocomplete" (optionSelected)="onItemSelect($event.option.value)">\n                <mat-option *ngFor="let item of options" [value]="item">\n                    <span [id]="field.name+\'_option_\'+item.id">{{item.name}}</span>\n                </mat-option>\n            </mat-autocomplete>\n        </mat-form-field>\n\n        <error-widget [error]="field.validationSummary"></error-widget>\n        <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n    </div>\n</div>\n',host:lo,encapsulation:A.ViewEncapsulation.None,styles:[".adf-typeahead-widget-container{position:relative;display:block}.adf-typeahead-widget{width:100%}"]}]}],e.ctorParameters=function(){return[{type:so},{type:q}]},e}(co),Jo=function(){function n(e,t){this.apiService=e,this.logService=t}return Object.defineProperty(n.prototype,"contentApi",{get:function(){return this.apiService.getInstance().activiti.contentApi},enumerable:!0,configurable:!0}),n.prototype.createTemporaryRawRelatedContent=function(e){var t=this;return C.from(this.contentApi.createTemporaryRawRelatedContent(e)).pipe(y.catchError(function(e){return t.handleError(e)}))},n.prototype.getFileContent=function(e){var t=this;return C.from(this.contentApi.getContent(e)).pipe(y.catchError(function(e){return t.handleError(e)}))},n.prototype.getFileRawContent=function(e){var t=this;return C.from(this.contentApi.getRawContent(e)).pipe(y.catchError(function(e){return t.handleError(e)}))},n.prototype.getContentPreview=function(e){var n=this;return new C.Observable(function(t){n.contentApi.getContentPreview(e).then(function(e){t.next(e),t.complete()},function(){n.contentApi.getRawContent(e).then(function(e){t.next(e),t.complete()},function(e){t.error(e),t.complete()})})})},n.prototype.getFileRawContentUrl=function(e){return this.contentApi.getRawContentUrl(e)},n.prototype.getContentThumbnail=function(e){var t=this;return C.from(this.contentApi.getContentThumbnail(e)).pipe(y.catchError(function(e){return t.handleError(e)}))},n.prototype.getTaskRelatedContent=function(e,t){var n=this;return C.from(this.contentApi.getRelatedContentForTask(e,t)).pipe(y.catchError(function(e){return n.handleError(e)}))},n.prototype.getProcessRelatedContent=function(e,t){var n=this;return C.from(this.contentApi.getRelatedContentForProcessInstance(e,t)).pipe(y.catchError(function(e){return n.handleError(e)}))},n.prototype.deleteRelatedContent=function(e){var t=this;return C.from(this.contentApi.deleteContent(e)).pipe(y.catchError(function(e){return t.handleError(e)}))},n.prototype.createProcessRelatedContent=function(e,t,n){var i=this;return C.from(this.contentApi.createRelatedContentOnProcessInstance(e,t,n)).pipe(y.catchError(function(e){return i.handleError(e)}))},n.prototype.createTaskRelatedContent=function(e,t,n){var i=this;return C.from(this.contentApi.createRelatedContentOnTask(e,t,n)).pipe(y.catchError(function(e){return i.handleError(e)}))},n.prototype.toJson=function(e){return e&&e||{}},n.prototype.toJsonArray=function(e){return e&&e.data||[]},n.prototype.handleError=function(e){var t=n.UNKNOWN_ERROR_MESSAGE;return e&&(t=e.message?e.message:e.status?e.status+" - "+e.statusText:n.GENERIC_ERROR_MESSAGE),this.logService.error(t),C.throwError(t)},n.UNKNOWN_ERROR_MESSAGE="Unknown error",n.GENERIC_ERROR_MESSAGE="Server error",n.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],n.ctorParameters=function(){return[{type:H},{type:q}]},n.ngInjectableDef=A.defineInjectable({factory:function(){return new n(A.inject(H),A.inject(q))},token:n,providedIn:"root"}),n}(),Qo=function(r){function e(e,t,n,i){var o=r.call(this,e)||this;return o.formService=e,o.logService=t,o.thumbnailService=n,o.processContentService=i,o.multipleOption="",o}return _(e,r),e.prototype.ngOnInit=function(){this.field&&this.field.value&&0<this.field.value.length&&(this.hasFile=!0),this.getMultipleFileParam()},e.prototype.removeFile=function(e){this.field&&this.removeElementFromList(e)},e.prototype.onFileChanged=function(e){var t=this,n=e.target.files,i=[];this.field.json.value&&(i=N(this.field.json.value)),n&&0<n.length&&C.from(n).pipe(y.mergeMap(function(e){return t.uploadRawContent(e)})).subscribe(function(e){return i.push(e)},function(){return t.logService.error("Error uploading file. See console output for more details.")},function(){t.field.value=i,t.field.json.value=i,t.hasFile=!0})},e.prototype.uploadRawContent=function(t){var n=this;return this.processContentService.createTemporaryRawRelatedContent(t).pipe(y.map(function(e){return n.logService.info(e),e.contentBlob=t,e}))},e.prototype.getMultipleFileParam=function(){this.field&&this.field.params&&this.field.params.multiple&&(this.multipleOption=this.field.params.multiple?"multiple":"")},e.prototype.removeElementFromList=function(e){var t=this.field.value.indexOf(e);-1!==t&&(this.field.value.splice(t,1),this.field.json.value=this.field.value,this.field.updateForm()),this.hasFile=0<this.field.value.length,this.resetFormValueWithNoFiles()},e.prototype.resetFormValueWithNoFiles=function(){0===this.field.value.length&&(this.field.value=[],this.field.json.value=[])},e.prototype.getIcon=function(e){return this.thumbnailService.getMimeTypeIcon(e)},e.prototype.fileClicked=function(e){var t=this,n=new ro(e),i=this.processContentService.getContentPreview(n.id);(n.isTypeImage()||n.isTypePdf())&&(i=this.processContentService.getFileRawContent(n.id)),i.subscribe(function(e){n.contentBlob=e,t.formService.formContentClicked.next(n)},function(){t.logService.error("Unable to send event for file "+n.name)})},e.decorators=[{type:A.Component,args:[{selector:"upload-widget",template:'<div class="adf-upload-widget {{field.className}}"\n     [class.adf-invalid]="!field.isValid"\n     [class.adf-readonly]="field.readOnly">\n    <label class="adf-label" [attr.for]="field.id">{{field.name}}<span *ngIf="isRequired()">*</span></label>\n    <div class="adf-upload-widget-container">\n        <div>\n            <mat-list *ngIf="hasFile">\n                <mat-list-item class="adf-upload-files-row" *ngFor="let file of field.value">\n                    <img mat-list-icon class="adf-upload-widget__icon"\n                         [id]="\'file-\'+file.id+\'-icon\'"\n                         [src]="getIcon(file.mimeType)"\n                         [alt]="mimeTypeIcon"\n                         (click)="fileClicked(file)"\n                         (keyup.enter)="fileClicked(file)"\n                         role="button"\n                         tabindex="0"/>\n                    <span matLine id="{{\'file-\'+file.id}}" (click)="fileClicked(file)" (keyup.enter)="fileClicked(file)"\n                          role="button" tabindex="0" class="adf-file">{{file.name}}</span>\n                    <button *ngIf="!field.readOnly" mat-icon-button [id]="\'file-\'+file.id+\'-remove\'"\n                            (click)="removeFile(file);" (keyup.enter)="removeFile(file);">\n                        <mat-icon class="mat-24">highlight_off</mat-icon>\n                    </button>\n                </mat-list-item>\n            </mat-list>\n        </div>\n\n        <div class="button-row" *ngIf="(!hasFile || multipleOption) && !field.readOnly">\n            <a mat-raised-button color="primary">\n                {{ \'FORM.FIELD.UPLOAD\' | translate }}<mat-icon>file_upload</mat-icon>\n                <input #uploadFiles\n                       [multiple]="multipleOption"\n                       type="file"\n                       [id]="field.id"\n                       (change)="onFileChanged($event)"/>\n            </a>\n        </div>\n    </div>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:lo,encapsulation:A.ViewEncapsulation.None,styles:[".adf-upload-widget-container{margin-bottom:15px}.adf-upload-widget-container input{cursor:pointer;height:100%;right:0;opacity:0;position:absolute;top:0;width:300px;z-index:4}.adf-upload-widget{width:100%;word-break:break-all;padding:.4375em 0;border-top:.84375em solid transparent}.adf-upload-widget__icon{padding:6px;float:left;cursor:pointer}.adf-upload-widget__reset{margin-top:-2px}.adf-upload-files-row .mat-line{margin-bottom:0}"]}]}],e.ctorParameters=function(){return[{type:so},{type:q},{type:_e},{type:Jo}]},e.propDecorators={fileInput:[{type:A.ViewChild,args:["uploadFiles"]}]},e}(co),Zo=ie,er=c.MAT_MOMENT_DATETIME_FORMATS,tr=function(o){function e(e,t,n){var i=o.call(this,e)||this;return i.formService=e,i.dateAdapter=t,i.userPreferencesService=n,i}return _(e,o),e.prototype.ngOnInit=function(){var t=this;this.userPreferencesService.select(Ce.Locale).subscribe(function(e){t.dateAdapter.setLocale(e)}),this.dateAdapter.overrideDisplayFormat=this.field.dateDisplayFormat,this.field&&(this.field.minValue&&(this.minDate=b(this.field.minValue,"YYYY-MM-DDTHH:mm:ssZ")),this.field.maxValue&&(this.maxDate=b(this.field.maxValue,"YYYY-MM-DDTHH:mm:ssZ"))),this.displayDate=b(this.field.value,this.field.dateDisplayFormat)},e.prototype.onDateChanged=function(e){e&&e.value?this.field.value=e.value.format(this.field.dateDisplayFormat):this.field.value=e||null,this.onFieldChanged(this.field)},e.decorators=[{type:A.Component,args:[{providers:[{provide:E.DateAdapter,useClass:oe},{provide:E.MAT_DATE_FORMATS,useValue:Zo},{provide:u.DatetimeAdapter,useClass:c.MomentDatetimeAdapter},{provide:u.MAT_DATETIME_FORMATS,useValue:er}],selector:"date-time-widget",template:'<div class="{{field.className}}"\n     id="data-time-widget" [class.adf-invalid]="!field.isValid">\n    <mat-form-field class="adf-date-time-widget">\n        <label class="adf-label" [attr.for]="field.id">{{field.name}} ({{field.dateDisplayFormat}})<span *ngIf="isRequired()">*</span></label>\n        <input matInput\n               [matDatetimepicker]="datetimePicker"\n               [id]="field.id"\n               [(ngModel)]="displayDate"\n               [required]="isRequired()"\n               [disabled]="field.readOnly"\n               [min]="minDate"\n               [max]="maxDate"\n               (focusout)="onDateChanged($event.srcElement.value)"\n               (dateChange)="onDateChanged($event)"\n               placeholder="{{field.placeholder}}">\n        <mat-datetimepicker-toggle matSuffix [for]="datetimePicker" [disabled]="field.readOnly"></mat-datetimepicker-toggle>\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n    <mat-datetimepicker #datetimePicker type="datetime" openOnFocus="true" timeInterval="5"></mat-datetimepicker>\n</div>\n',encapsulation:A.ViewEncapsulation.None,styles:[".adf-date-time-widget .mat-form-field-suffix{text-align:right;position:absolute;margin-top:30px;width:100%}@media screen and (-ms-high-contrast:active),screen and (-ms-high-contrast:none){.adf-date-widget .mat-form-field-suffix{position:relative;width:auto}}"]}]}],e.ctorParameters=function(){return[{type:so},{type:E.DateAdapter},{type:Te}]},e}(co),nr=[mo,fo,po,Xo,Go,go,Ho,Io,Bo,qo,bo,Qo,Ko,jo,zo,vo,ho,Ro,Po,Fo,xo,Vo,No,Uo,Eo,tr,Mo],ir=[$o],or=function(){function t(){this.showTitle=!0,this.showCompleteButton=!0,this.disableCompleteButton=!1,this.disableStartProcessButton=!1,this.showSaveButton=!0,this.readOnly=!1,this.showRefreshButton=!0,this.showValidationIcon=!0,this.fieldValidators=[],this.formError=new A.EventEmitter,this.executeOutcome=new A.EventEmitter,this.error=new A.EventEmitter}return t.prototype.getParsedFormDefinition=function(){return this},t.prototype.hasForm=function(){return!!this.form},t.prototype.isTitleEnabled=function(){var e=!1;return this.showTitle&&this.form&&(e=!0),e},t.prototype.getColorForOutcome=function(e){return e===t.COMPLETE_OUTCOME_NAME?t.COMPLETE_BUTTON_COLOR:""},t.prototype.isOutcomeButtonEnabled=function(e){return!this.form.readOnly&&(!!e&&(e.name===eo.SAVE_ACTION||(e.name===eo.COMPLETE_ACTION?!this.disableCompleteButton&&this.form.isValid:e.name===eo.START_PROCESS_ACTION?!this.disableStartProcessButton&&this.form.isValid:this.form.isValid)))},t.prototype.isOutcomeButtonVisible=function(e,t){return!(!e||!e.name)&&(e.name===eo.COMPLETE_ACTION?this.showCompleteButton:t?e.isSelected:e.name===eo.SAVE_ACTION?this.showSaveButton:e.name!==eo.START_PROCESS_ACTION)},t.prototype.onOutcomeClicked=function(e){if(!this.readOnly&&e&&this.form){if(!this.onExecuteOutcome(e))return!1;if(e.isSystem){if(e.id===t.SAVE_OUTCOME_ID)return this.saveTaskForm(),!0;if(e.id===t.COMPLETE_OUTCOME_ID)return this.completeTaskForm(),!0;if(e.id===t.START_PROCESS_OUTCOME_ID)return this.completeTaskForm(),!0;if(e.id===t.CUSTOM_OUTCOME_ID)return this.onTaskSaved(this.form),this.storeFormAsMetadata(),!0}else if(e.name)return this.onTaskSaved(this.form),this.completeTaskForm(e.name),!0}return!1},t.prototype.handleError=function(e){this.error.emit(e)},t.SAVE_OUTCOME_ID="$save",t.COMPLETE_OUTCOME_ID="$complete",t.START_PROCESS_OUTCOME_ID="$startProcess",t.CUSTOM_OUTCOME_ID="$custom",t.COMPLETE_BUTTON_COLOR="primary",t.COMPLETE_OUTCOME_NAME="COMPLETE",t.propDecorators={path:[{type:A.Input}],nameNode:[{type:A.Input}],showTitle:[{type:A.Input}],showCompleteButton:[{type:A.Input}],disableCompleteButton:[{type:A.Input}],disableStartProcessButton:[{type:A.Input}],showSaveButton:[{type:A.Input}],readOnly:[{type:A.Input}],showRefreshButton:[{type:A.Input}],showValidationIcon:[{type:A.Input}],fieldValidators:[{type:A.Input}],formError:[{type:A.Output}],executeOutcome:[{type:A.Output}],error:[{type:A.Output}]},t}(),rr=function(){function e(e){this.formService=e,this.forms=[]}return e.prototype.ngOnChanges=function(e){this.getForms()},e.prototype.isEmpty=function(){return this.forms&&0===this.forms.length},e.prototype.getForms=function(){var n=this;this.formService.getForms().subscribe(function(e){var t;(t=n.forms).push.apply(t,N(e))})},e.decorators=[{type:A.Component,args:[{selector:"adf-form-list",template:'<adf-datatable *ngIf="!isEmpty()"\n    [rows]="forms">\n    <data-columns>\n        <data-column key="name" type="text" title="Name" class="adf-ellipsis-cell" [sortable]="true"></data-column>\n        <data-column key="lastUpdatedByFullName" type="text" title="User" class="adf-ellipsis-cell" [sortable]="true"></data-column>\n        <data-column key="lastUpdated" type="date" format="shortDate" title="Date"></data-column>\n    </data-columns>\n</adf-datatable>\n',encapsulation:A.ViewEncapsulation.None,styles:[""]}]}],e.ctorParameters=function(){return[{type:so}]},e.propDecorators={forms:[{type:A.Input}]},e}(),ar=function(){function e(e,t,n,i){this.formService=e,this.logService=t,this.contentService=n,this.processContentService=i,this.showDocumentContent=!0,this.contentClick=new A.EventEmitter,this.thumbnailLoaded=new A.EventEmitter,this.contentLoaded=new A.EventEmitter,this.error=new A.EventEmitter}return e.prototype.ngOnChanges=function(e){var t=e.id;t&&t.currentValue&&this.loadContent(t.currentValue)},e.prototype.loadContent=function(e){var t=this;this.processContentService.getFileContent(e).subscribe(function(e){t.content=new ro(e),t.contentLoaded.emit(t.content),t.loadThumbnailUrl(t.content)},function(e){t.error.emit(e)})},e.prototype.loadThumbnailUrl=function(e){var t=this;if(this.content.isThumbnailSupported()){var n=void 0;(n=this.content.isTypeImage()?this.processContentService.getFileRawContent(e.id):this.processContentService.getContentThumbnail(e.id))&&n.subscribe(function(e){t.content.thumbnailUrl=t.contentService.createTrustedUrl(e),t.thumbnailLoaded.emit(t.content.thumbnailUrl)},function(e){t.error.emit(e)})}},e.prototype.openViewer=function(t){var n=this,e=this.processContentService.getContentPreview(t.id);(t.isTypeImage()||t.isTypePdf())&&(e=this.processContentService.getFileRawContent(t.id)),e.subscribe(function(e){t.contentBlob=e,n.contentClick.emit(t),n.logService.info("Content clicked"+t.id),n.formService.formContentClicked.next(t)},function(e){n.error.emit(e)})},e.prototype.download=function(t){var n=this;this.processContentService.getFileRawContent(t.id).subscribe(function(e){return n.contentService.downloadBlob(e,t.name)},function(e){n.error.emit(e)})},e.decorators=[{type:A.Component,args:[{selector:"adf-content",template:'<mat-card class="adf-content-container" *ngIf="content">\n    <mat-card-content *ngIf="showDocumentContent">\n        <div *ngIf="content.isThumbnailSupported()" >\n            <img id="thumbnailPreview" class="adf-img-upload-widget" [src]="content.thumbnailUrl" alt="{{content.name}}">\n        </div>\n        <div *ngIf="!content.isThumbnailSupported()">\n            <mat-icon>image</mat-icon>\n            <div id="unsupported-thumbnail" class="adf-content-widget-preview-text">{{ \'FORM.PREVIEW.IMAGE_NOT_AVAILABLE\' | translate }}\n            </div>\n        </div>\n        <div class="mdl-card__supporting-text upload-widget__content-text">{{content.name}}</div>\n    </mat-card-content>\n\n    <mat-card-actions>\n        <button mat-icon-button id="view" (click)="openViewer(content)">\n            <mat-icon class="mat-24">zoom_in</mat-icon>\n        </button>\n        <button mat-icon-button id="download" (click)="download(content)">\n            <mat-icon class="mat-24">file_download</mat-icon>\n        </button>\n    </mat-card-actions>\n</mat-card>\n',encapsulation:A.ViewEncapsulation.None,styles:[".adf-img-upload-widget{width:100%;height:100%;border:1px solid rgba(117,117,117,.57);box-shadow:1px 1px 2px #ddd;background-color:#fff}.adf-content-widget-preview-text{word-wrap:break-word;word-break:break-all;text-align:center}"]}]}],e.ctorParameters=function(){return[{type:so},{type:q},{type:xe},{type:Jo}]},e.propDecorators={id:[{type:A.Input}],showDocumentContent:[{type:A.Input}],contentClick:[{type:A.Output}],thumbnailLoaded:[{type:A.Output}],contentLoaded:[{type:A.Output}],error:[{type:A.Output}]},e}(),sr=function(){function e(){this.showDebugButton=!1}return e.decorators=[{type:A.Component,args:[{selector:"adf-form-renderer",template:'<div class="{{formDefinition.className}}" [ngClass]="{\'adf-readonly-form\': formDefinition.readOnly }">\n    <div *ngIf="formDefinition.hasTabs()">\n        <tabs-widget [tabs]="formDefinition.tabs"></tabs-widget>\n    </div>\n\n    <div *ngIf="!formDefinition.hasTabs() && formDefinition.hasFields()">\n        <div *ngFor="let field of formDefinition.fields">\n            <adf-form-field [field]="field.field"></adf-form-field>\n        </div>\n    </div>\n</div>\n\x3c!--\nFor debugging and data visualisation purposes,\nwill be removed during future revisions\n--\x3e\n<div *ngIf="showDebugButton" class="adf-form-debug-container">\n    <mat-slide-toggle [(ngModel)]="debugMode">Debug mode</mat-slide-toggle>\n    <div *ngIf="debugMode">\n        <h4>Values</h4>\n        <pre>{{formDefinition.values | json}}</pre>\n\n        <h4>Form</h4>\n        <pre>{{formDefinition.json | json}}</pre>\n    </div>\n</div>\n',encapsulation:A.ViewEncapsulation.None,styles:[""]}]}],e.propDecorators={showDebugButton:[{type:A.Input}],formDefinition:[{type:A.Input}]},e}(),lr=function(){function n(e,t){this.apiService=e,this.logService=t}return n.prototype.getAlfrescoNodes=function(e,t){var n=this,i=this.apiService.getInstance(),o=e.replace("alfresco-","");return C.from(i.activiti.alfrescoApi.getContentInFolder(o,t)).pipe(y.map(this.toJsonArray),y.catchError(function(e){return n.handleError(e)}))},n.prototype.getAlfrescoRepositories=function(e,t){var n=this,i=this.apiService.getInstance(),o={tenantId:e,includeAccounts:t};return C.from(i.activiti.alfrescoApi.getRepositories(o)).pipe(y.map(this.toJsonArray),y.catchError(function(e){return n.handleError(e)}))},n.prototype.linkAlfrescoNode=function(e,t,n){var i=this,o=this.apiService.getInstance();return C.from(o.activiti.contentApi.createTemporaryRelatedContent({link:!0,name:t.title,simpleType:t.simpleType,source:e,sourceId:t.id+"@"+n})).pipe(y.map(this.toJson),y.catchError(function(e){return i.handleError(e)}))},n.prototype.applyAlfrescoNode=function(e,t,n){var i=this,o=this.apiService.getInstance(),r=t||this.getSiteNameFromNodePath(e),a={source:n,mimeType:e.content.mimeType,sourceId:e.id+";"+e.properties["cm:versionLabel"]+"@"+r,name:e.name,link:!1};return C.from(o.activiti.contentApi.createTemporaryRelatedContent(a)).pipe(y.map(this.toJson),y.catchError(function(e){return i.handleError(e)}))},n.prototype.getSiteNameFromNodePath=function(e){var t="";if(e.path){var n=e.path.elements.find(function(e){return"st:site"===e.nodeType&&"Sites"!==e.name});t=n?n.name:""}return t.toLocaleLowerCase()},n.prototype.toJson=function(e){return e&&e||{}},n.prototype.toJsonArray=function(e){return e&&e.data||[]},n.prototype.handleError=function(e){var t=n.UNKNOWN_ERROR_MESSAGE;return e&&(t=e.message?e.message:e.status?e.status+" - "+e.statusText:n.GENERIC_ERROR_MESSAGE),this.logService.error(t),C.throwError(t)},n.UNKNOWN_ERROR_MESSAGE="Unknown error",n.GENERIC_ERROR_MESSAGE="Server error",n.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],n.ctorParameters=function(){return[{type:H},{type:q}]},n.ngInjectableDef=A.defineInjectable({factory:function(){return new n(A.inject(H),A.inject(q))},token:n,providedIn:"root"}),n}(),cr=function(t){function e(){var e=t.call(this)||this;return e.defaultValue=mo,e.types={text:li.fromType(Xo),string:li.fromType(Xo),integer:li.fromType(Go),"multi-line-text":li.fromType(Ho),"boolean":li.fromType(go),dropdown:li.fromType(Io),date:li.fromType(vo),amount:li.fromType(ho),"radio-buttons":li.fromType(qo),hyperlink:li.fromType(Bo),"readonly-text":li.fromType(bo),typeahead:li.fromType(Ko),people:li.fromType(zo),"functional-group":li.fromType(jo),"dynamic-table":li.fromType(Ro),container:li.fromType(po),group:li.fromType(po),document:li.fromType(Eo),upload:li.fromType(Qo),datetime:li.fromType(tr)},e}return _(e,t),e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(ci),ur=function os(e,t){this.metadata=e,this.nodeType=t},pr=function(){function e(e){this.apiService=e}return e.prototype.getNodeMetadata=function(e){return C.from(this.apiService.getInstance().nodes.getNode(e)).pipe(y.map(this.cleanMetadataFromSemicolon))},e.prototype.createNodeMetadata=function(e,t,n,i,o){var r={};for(var a in n)n[a]&&(r[t+":"+a]=n[a]);return this.createNode(o||this.generateUuid(),e,r,i)},e.prototype.createNode=function(e,t,n,i){var o={name:e,nodeType:t,properties:n,relativePath:i},r=this.apiService.getInstance();return C.from(r.nodes.addNode("-root-",o,{}))},e.prototype.generateUuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},e.prototype.cleanMetadataFromSemicolon=function(e){var t={};if(e&&e.entry.properties)for(var n in e.entry.properties)n&&(-1!==n.indexOf(":")?t[n.split(":")[1]]=e.entry.properties[n]:t[n]=e.entry.properties[n]);return new ur(t,e.entry.nodeType)},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:H}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(H))},token:e,providedIn:"root"}),e}(),dr=function(i){function e(e,t){var n=i.call(this,e)||this;return n.error=t,n}return _(e,i),e}(Xi),fr=function(){function e(){}return e.decorators=[{type:A.Directive,args:[{selector:"[adf-form-custom-button], [form-custom-button]"}]}],e}(),mr=function(){function e(e,t,n,i){this.formRenderingService=e,this.componentFactoryResolver=t,this.visibilityService=n,this.compiler=i,this.field=null,this.focus=!1}return e.prototype.ngOnInit=function(){var t=this,e=window;e.adf===undefined&&(e.adf={});var n=this.getField();if(n){var i=this.field.form.customFieldTemplates[n.type];if(i&&this.hasController(n.type)){var o=this.getComponentFactorySync(n.type,i);this.componentRef=this.container.createComponent(o),(a=this.componentRef.instance)&&(a.field=n)}else{var r=this.formRenderingService.resolveComponentType(n);if(r){var a;o=this.componentFactoryResolver.resolveComponentFactory(r);this.componentRef=this.container.createComponent(o),(a=this.componentRef.instance).field=this.field,a.fieldChanged.subscribe(function(e){e&&t.field.form&&(t.visibilityService.refreshVisibility(e.form),e.form.onFormFieldChanged(e))})}}}},e.prototype.ngOnDestroy=function(){this.componentRef&&(this.componentRef.destroy(),this.componentRef=null)},e.prototype.getField=function(){if(this.field&&this.field.params){var e=this.field.params.field;if(e&&e.type)return e}return this.field},e.prototype.hasController=function(e){return adf&&adf.components&&adf.components[e]},e.prototype.getComponentFactorySync=function(e,t){var n=adf.components[e];if(n.factory)return n.factory;var i={selector:"runtime-component-"+e,template:t},o=this.createComponentFactorySync(this.compiler,i,n["class"]);return n.factory=o},e.prototype.createComponentFactorySync=function(e,t,n){var i=n||function a(){},o=A.Component(t)(i),r=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[],declarations:[o]}]}],e}();return e.compileModuleAndAllComponentsSync(r).componentFactories.find(function(e){return e.componentType===o})},e.prototype.focusToggle=function(){this.focus=!this.focus},e.decorators=[{type:A.Component,args:[{selector:"adf-form-field",template:'\n        <div [id]="\'field-\'+field?.id+\'-container\'"\n            [hidden]="!field?.isVisible"\n            [class.adf-focus]="focus"\n            (focusin)="focusToggle()"\n            (focusout)="focusToggle()">\n            <div #container></div>\n        </div>\n    ',encapsulation:A.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:cr},{type:A.ComponentFactoryResolver},{type:wo},{type:A.Compiler}]},e.propDecorators={container:[{type:A.ViewChild,args:["container",{read:A.ViewContainerRef}]}],field:[{type:A.Input}]},e}(),hr=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[S.CommonModule,Bt,w.HttpClientModule,pe,D.TranslateModule.forChild(),O.FormsModule,O.ReactiveFormsModule,Ht,He,u.MatDatetimepickerModule,u.MatNativeDatetimeModule],declarations:N([ar,mr,rr,sr,fr],nr,ir,[co]),entryComponents:N(nr),exports:N([ar,mr,rr,sr,fr],nr)}]}],e}(),gr=function(){function e(){}return e.decorators=[{type:A.Directive,args:[{selector:"adf-sidenav-layout-content"}]}],e.propDecorators={template:[{type:A.ContentChild,args:[A.TemplateRef]}]},e}(),yr=function(){function e(){}return e.decorators=[{type:A.Directive,args:[{selector:"adf-sidenav-layout-header"}]}],e.propDecorators={template:[{type:A.ContentChild,args:[A.TemplateRef]}]},e}(),vr=function(){function e(){}return e.decorators=[{type:A.Directive,args:[{selector:"adf-sidenav-layout-navigation"}]}],e.propDecorators={template:[{type:A.ContentChild,args:[A.TemplateRef]}]},e}(),br=function(){function n(e){var t=this;this.mediaMatcher=e,this.direction="ltr",this.position="start",this.hideSidenav=!1,this.expandedSidenav=!0,this.expanded=new A.EventEmitter,this.templateContext={toggleMenu:function(){},isMenuMinimized:function(){return t.isMenuMinimized}},this.onMediaQueryChange=this.onMediaQueryChange.bind(this)}return n.prototype.ngOnInit=function(){var e=!this.expandedSidenav;this.menuOpenStateSubject=new C.BehaviorSubject(e),this.menuOpenState$=this.menuOpenStateSubject.asObservable();var t=this.stepOver||n.STEP_OVER;this.isMenuMinimized=e,this.mediaQueryList=this.mediaMatcher.matchMedia("(max-width: "+t+"px)"),this.mediaQueryList.addListener(this.onMediaQueryChange)},n.prototype.ngAfterViewInit=function(){this.templateContext.toggleMenu=this.toggleMenu.bind(this)},n.prototype.ngOnDestroy=function(){this.mediaQueryList.removeListener(this.onMediaQueryChange)},n.prototype.toggleMenu=function(){this.mediaQueryList.matches?this.isMenuMinimized=!1:this.isMenuMinimized=!this.isMenuMinimized,this.container.toggleMenu(),this.expanded.emit(!this.isMenuMinimized)},Object.defineProperty(n.prototype,"isMenuMinimized",{get:function(){return this._isMenuMinimized},set:function(e){this._isMenuMinimized=e,this.menuOpenStateSubject.next(!e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isHeaderInside",{get:function(){return this.mediaQueryList.matches},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"headerTemplate",{get:function(){return this.headerDirective&&this.headerDirective.template||this.emptyTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"navigationTemplate",{get:function(){return this.navigationDirective&&this.navigationDirective.template||this.emptyTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"contentTemplate",{get:function(){return this.contentDirective&&this.contentDirective.template||this.emptyTemplate},enumerable:!0,configurable:!0}),n.prototype.onMediaQueryChange=function(){this.isMenuMinimized=!1,this.expanded.emit(!this.isMenuMinimized)},n.STEP_OVER=600,n.decorators=[{type:A.Component,args:[{selector:"adf-sidenav-layout",template:'<div [dir]="direction" class="adf-sidenav-layout-full-space">\n    <ng-container *ngIf="!isHeaderInside">\n        <ng-container class="adf-sidenav-layout-outer-header"\n                      *ngTemplateOutlet="headerTemplate; context:templateContext"></ng-container>\n    </ng-container>\n\n    <adf-layout-container #container\n                          [position]="position"\n                          [sidenavMin]="sidenavMin"\n                          [sidenavMax]="sidenavMax"\n                          [mediaQueryList]="mediaQueryList"\n                          [hideSidenav]="hideSidenav"\n                          [expandedSidenav]="expandedSidenav"\n                          data-automation-id="adf-layout-container"\n                          class="adf-layout__content">\n\n        <ng-container app-layout-navigation\n                      *ngTemplateOutlet="navigationTemplate; context:templateContext"></ng-container>\n\n        <ng-container app-layout-content>\n            <ng-container *ngIf="isHeaderInside">\n                <ng-container *ngTemplateOutlet="headerTemplate; context:templateContext"></ng-container>\n            </ng-container>\n            <ng-container *ngTemplateOutlet="contentTemplate; context:templateContext"></ng-container>\n        </ng-container>\n    </adf-layout-container>\n\n    <ng-template #emptyTemplate></ng-template>\n</div>\n',encapsulation:A.ViewEncapsulation.None,host:{"class":"adf-sidenav-layout"},styles:[""]}]}],n.ctorParameters=function(){return[{type:p.MediaMatcher}]},n.propDecorators={direction:[{type:A.Input}],position:[{type:A.Input}],sidenavMin:[{type:A.Input}],sidenavMax:[{type:A.Input}],stepOver:[{type:A.Input}],hideSidenav:[{type:A.Input}],expandedSidenav:[{type:A.Input}],expanded:[{type:A.Output}],headerDirective:[{type:A.ContentChild,args:[yr]}],navigationDirective:[{type:A.ContentChild,args:[vr]}],contentDirective:[{type:A.ContentChild,args:[gr]}],container:[{type:A.ViewChild,args:["container"]}],emptyTemplate:[{type:A.ViewChild,args:["emptyTemplate"]}]},n}(),Er=d.trigger("sidenavAnimation",[d.state("expanded",d.style({width:"{{ width }}px"}),{params:{width:0}}),d.state("compact",d.style({width:"{{ width }}px"}),{params:{width:0}}),d.transition("compact <=> expanded",d.animate("0.4s cubic-bezier(0.25, 0.8, 0.25, 1)"))]),Ir=d.trigger("contentAnimationLeft",[d.state("expanded",d.style({"margin-left":"{{ margin }}px"}),{params:{margin:0}}),d.state("compact",d.style({"margin-left":"{{ margin }}px"}),{params:{margin:0}}),d.transition("expanded <=> compact",d.animate("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))]),wr=d.trigger("contentAnimationRight",[d.state("expanded",d.style({"margin-right":"{{ margin }}px"}),{params:{margin:0}}),d.state("compact",d.style({"margin-right":"{{ margin }}px"}),{params:{margin:0}}),d.transition("expanded <=> compact",d.animate("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))]),Cr=function(){function e(){this.hideSidenav=!1,this.expandedSidenav=!0,this.position="start",this.SIDENAV_STATES={MOBILE:{},EXPANDED:{},COMPACT:{}},this.CONTENT_STATES={MOBILE:{},EXPANDED:{},COMPACT:{}},this.onMediaQueryChange=this.onMediaQueryChange.bind(this)}return e.prototype.ngOnInit=function(){this.SIDENAV_STATES.MOBILE={value:"expanded",params:{width:this.sidenavMax}},this.SIDENAV_STATES.EXPANDED={value:"expanded",params:{width:this.sidenavMax}},this.SIDENAV_STATES.COMPACT={value:"compact",params:{width:this.sidenavMin}},this.CONTENT_STATES.MOBILE={value:"expanded",params:{margin:0}},this.CONTENT_STATES.EXPANDED={value:"expanded",params:{margin:this.sidenavMin}},this.CONTENT_STATES.COMPACT={value:"compact",params:{margin:this.sidenavMax}},this.mediaQueryList.addListener(this.onMediaQueryChange),this.isMobileScreenSize?(this.sidenavAnimationState=this.SIDENAV_STATES.MOBILE,this.contentAnimationState=this.CONTENT_STATES.MOBILE):this.expandedSidenav?(this.sidenavAnimationState=this.SIDENAV_STATES.EXPANDED,this.contentAnimationState=this.CONTENT_STATES.COMPACT):(this.sidenavAnimationState=this.SIDENAV_STATES.COMPACT,this.contentAnimationState=this.CONTENT_STATES.EXPANDED)},e.prototype.ngOnDestroy=function(){this.mediaQueryList.removeListener(this.onMediaQueryChange)},e.prototype.toggleMenu=function(){this.isMobileScreenSize?this.sidenav.toggle():(this.sidenavAnimationState=this.toggledSidenavAnimation,this.contentAnimationState=this.toggledContentAnimation)},Object.defineProperty(e.prototype,"toggledSidenavAnimation",{get:function(){return this.sidenavAnimationState===this.SIDENAV_STATES.EXPANDED?this.SIDENAV_STATES.COMPACT:this.SIDENAV_STATES.EXPANDED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"toggledContentAnimation",{get:function(){return this.isMobileScreenSize?this.CONTENT_STATES.MOBILE:this.sidenavAnimationState===this.SIDENAV_STATES.EXPANDED?this.CONTENT_STATES.COMPACT:this.CONTENT_STATES.EXPANDED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMobileScreenSize",{get:function(){return this.mediaQueryList.matches},enumerable:!0,configurable:!0}),e.prototype.onMediaQueryChange=function(){this.sidenavAnimationState=this.SIDENAV_STATES.EXPANDED,this.contentAnimationState=this.toggledContentAnimation},e.prototype.getContentAnimationStateLeft=function(){return"start"===this.position?this.contentAnimationState:{value:"compact",params:{width:this.sidenavMin}}},e.prototype.getContentAnimationStateRight=function(){return"end"===this.position?this.contentAnimationState:{value:"compact",params:{width:this.sidenavMin}}},e.decorators=[{type:A.Component,args:[{selector:"adf-layout-container",template:'<mat-sidenav-container>\n    <mat-sidenav\n        [position]="position"\n        [disableClose]="!isMobileScreenSize"\n        [ngClass]="{ \'adf-sidenav--hidden\': hideSidenav }"\n        [@sidenavAnimation]="sidenavAnimationState"\n        [opened]="!isMobileScreenSize"\n        [mode]="isMobileScreenSize ? \'over\' : \'side\'">\n        <ng-content sidenav select="[app-layout-navigation]"></ng-content>\n    </mat-sidenav>\n\n    <div>\n        <div class="adf-rtl-container-alignment adf-container-full-width" [@contentAnimationLeft]="getContentAnimationStateLeft()" [@contentAnimationRight]="getContentAnimationStateRight()">\n            <ng-content select="[app-layout-content]"></ng-content>\n        </div>\n    </div>\n</mat-sidenav-container>\n',encapsulation:A.ViewEncapsulation.None,animations:[Er,Ir,wr],styles:[""]}]}],e.ctorParameters=function(){return[]},e.propDecorators={sidenavMin:[{type:A.Input}],sidenavMax:[{type:A.Input}],mediaQueryList:[{type:A.Input}],hideSidenav:[{type:A.Input}],expandedSidenav:[{type:A.Input}],position:[{type:A.Input}],sidenav:[{type:A.ViewChild,args:[E.MatSidenav]}]},e}(),Tr=function(){function e(){this.width=272}return e.prototype.isExpanded=function(){return this.expanded},e.decorators=[{type:A.Component,args:[{selector:"adf-sidebar-action-menu",template:'<div class="adf-sidebar-action-menu">\n    <button *ngIf="isExpanded()" mat-raised-button class="adf-sidebar-action-menu-button" data-automation-id="create-button" [matMenuTriggerFor]="adfSidebarMenu">\n        <span *ngIf="title" class="adf-sidebar-action-menu-text">{{ title }}</span>\n        <ng-content select="[adf-sidebar-menu-title-icon], [sidebar-menu-title-icon]"></ng-content>\n    </button>\n\n    <div *ngIf="!isExpanded()" class="adf-sidebar-action-menu-icon" [matMenuTriggerFor]="adfSidebarMenu">\n        <ng-content select="[adf-sidebar-menu-expand-icon], [sidebar-menu-expand-icon]"></ng-content>\n    </div>\n\n    <mat-menu #adfSidebarMenu="matMenu" class="adf-sidebar-action-menu-panel" [overlapTrigger]="false" yPosition="below">\n        <div class="adf-sidebar-action-menu-options" [style.width.px]="width">\n            <ng-content select="[adf-sidebar-menu-options], [sidebar-menu-options]"></ng-content>\n        </div>\n    </mat-menu>\n</div>\n',changeDetection:A.ChangeDetectionStrategy.OnPush,encapsulation:A.ViewEncapsulation.None,host:{"class":"adf-sidebar-action-menu"},styles:[""]}]}],e.propDecorators={title:[{type:A.Input}],expanded:[{type:A.Input}],width:[{type:A.Input}]},e}(),Sr=function(){function e(){}return e.decorators=[{type:A.Directive,args:[{selector:"[adf-sidebar-menu-options], [sidebar-menu-options]"}]}],e}(),Ar=function(){function e(){}return e.decorators=[{type:A.Directive,args:[{selector:"[adf-sidebar-menu-title-icon], [sidebar-menu-title-icon]"}]}],e}(),Or=function(){function e(){}return e.decorators=[{type:A.Directive,args:[{selector:"[adf-sidebar-menu-expand-icon], [sidebar-menu-expand-icon]"}]}],e}(),Dr=function(){function e(){this.redirectUrl="/",this.showSidenavToggle=!0,this.clicked=new A.EventEmitter,this.position="start"}return e.prototype.toggleMenu=function(){this.clicked.emit(!0)},e.prototype.ngOnInit=function(){this.logo||(this.logo="./assets/images/logo.png")},e.decorators=[{type:A.Component,args:[{selector:"adf-layout-header",template:'<mat-toolbar\n    [color]="color"\n    [style.background-color]="color"\n    role="heading"\n    aria-level="1">\n    <button\n        *ngIf="showSidenavToggle && position === \'start\'"\n        id="adf-sidebar-toggle-start"\n        data-automation-id="adf-menu-icon"\n        class="mat-icon-button adf-menu-icon"\n        mat-icon-button\n        (click)="toggleMenu()"\n        aria-label="Toggle Menu">\n        <mat-icon\n            class="mat-icon material-icon"\n            role="img"\n            aria-hidden="true">menu</mat-icon>\n    </button>\n\n    <a [routerLink]="redirectUrl" title="{{ tooltip }}">\n        <img\n            src="{{ logo }}"\n            class="adf-app-logo"\n            alt="{{ \'CORE.HEADER.LOGO_ARIA\' | translate }}"\n        />\n    </a>\n\n    <span\n        [routerLink]="redirectUrl"\n        fxFlex="1 1 auto"\n        fxShow\n        fxHide.lt-sm="true"\n        class="adf-app-title"\n        >{{ title }}</span>\n    <ng-content></ng-content>\n\n    <button\n        *ngIf="showSidenavToggle && position === \'end\'"\n        id="adf-sidebar-toggle-end"\n        data-automation-id="adf-menu-icon"\n        class="mat-icon-button adf-menu-icon"\n        mat-icon-button\n        (click)="toggleMenu()"\n        aria-label="Toggle Menu">\n        <mat-icon\n            class="mat-icon material-icon"\n            role="img"\n            aria-hidden="true">menu</mat-icon>\n    </button>\n</mat-toolbar>\n',encapsulation:A.ViewEncapsulation.None,host:{"class":"adf-layout-header"}}]}],e.propDecorators={title:[{type:A.Input}],logo:[{type:A.Input}],redirectUrl:[{type:A.Input}],tooltip:[{type:A.Input}],color:[{type:A.Input}],showSidenavToggle:[{type:A.Input}],clicked:[{type:A.Output}],position:[{type:A.Input}]},e}(),Rr=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[S.CommonModule,pe,m.RouterModule,D.TranslateModule.forChild()],exports:[yr,gr,vr,br,Cr,Tr,Sr,Or,Ar,Dr],declarations:[yr,gr,vr,br,Cr,Tr,Sr,Or,Ar,Dr]}]}],e}(),xr=function(){function e(e,t,n){var i=this;this.peopleProcessService=e,this.ecmUserService=t,this.userPreferenceService=n,this.clickRow=new A.EventEmitter,n.select(Ce.Locale).subscribe(function(e){i.currentLocale=e})}return e.prototype.selectComment=function(e){this.selectedComment&&(this.selectedComment.isSelected=!1),e.isSelected=!0,this.selectedComment=e,this.clickRow.emit(this.selectedComment)},e.prototype.getUserShortName=function(e){var t="";return e&&(e.firstName&&(t=e.firstName[0].toUpperCase()),e.lastName&&(t+=e.lastName[0].toUpperCase())),t},e.prototype.isPictureDefined=function(e){return e.pictureId||e.avatarId},e.prototype.getUserImage=function(e){return this.isAContentUsers(e)?this.ecmUserService.getUserProfileImage(e.avatarId):this.peopleProcessService.getUserImage(e)},e.prototype.isAContentUsers=function(e){return e.avatarId},e.decorators=[{type:A.Component,args:[{selector:"adf-comment-list",template:' <mat-list class="adf-comment-list">\n    <mat-list-item *ngFor="let comment of comments"\n                  (click)="selectComment(comment)"\n                  class="adf-comment-list-item"\n                  [class.adf-is-selected]="comment.isSelected"\n                  id="adf-comment-{{comment?.id}}">\n        <div id="comment-user-icon" class="adf-comment-img-container">\n            <div\n                *ngIf="!isPictureDefined(comment.createdBy)"\n                class="adf-comment-user-icon">\n                {{getUserShortName(comment.createdBy)}}\n            </div>\n            <div>\n                <img [alt]="comment.createdBy" *ngIf="isPictureDefined(comment.createdBy)"\n                      class="adf-people-img"\n                     [src]="getUserImage(comment.createdBy)" />\n            </div>\n        </div>\n        <div class="adf-comment-contents">\n            <div matLine id="comment-user" class="adf-comment-user-name">\n                {{comment.createdBy?.firstName}} {{comment.createdBy?.lastName}}\n            </div>\n            <div matLine id="comment-message" class="adf-comment-message" [innerHTML]="comment.message"></div>\n            <div matLine id="comment-time" class="adf-comment-message-time">\n                {{ comment.created | adfTimeAgo: currentLocale }}\n            </div>\n        </div>\n    </mat-list-item>\n</mat-list>\n',encapsulation:A.ViewEncapsulation.None,styles:[""]}]}],e.ctorParameters=function(){return[{type:Yo},{type:yn},{type:Te}]},e.propDecorators={comments:[{type:A.Input}],clickRow:[{type:A.Output}]},e}(),_r=function rs(e){e&&(this.id=e.id,this.message=e.message,this.created=e.created,this.createdBy=e.createdBy,this.isSelected=!!e.isSelected&&e.isSelected)},Pr=function as(e){e&&(this.id=e.id,this.email=e.email||null,this.firstName=e.firstName||null,this.lastName=e.lastName||null,this.pictureId=e.pictureId||null,this.externalId=e.externalId||null)},kr=function(){function e(e,t){this.apiService=e,this.logService=t}return e.prototype.addTaskComment=function(e,t){var n=this;return C.from(this.apiService.getInstance().activiti.taskApi.addTaskComment({message:t},e)).pipe(y.map(function(e){return new _r({id:e.id,message:e.message,created:e.created,createdBy:e.createdBy})}),y.catchError(function(e){return n.handleError(e)}))},e.prototype.getTaskComments=function(e){var t=this;return C.from(this.apiService.getInstance().activiti.taskApi.getTaskComments(e)).pipe(y.map(function(e){var n=[];return e.data.forEach(function(e){var t=new Pr(e.createdBy);n.push(new _r({id:e.id,message:e.message,created:e.created,createdBy:t}))}),n}),y.catchError(function(e){return t.handleError(e)}))},e.prototype.getProcessInstanceComments=function(e){var t=this;return C.from(this.apiService.getInstance().activiti.commentsApi.getProcessInstanceComments(e)).pipe(y.map(function(e){var n=[];return e.data.forEach(function(e){var t=new Pr(e.createdBy);n.push(new _r({id:e.id,message:e.message,created:e.created,createdBy:t}))}),n}),y.catchError(function(e){return t.handleError(e)}))},e.prototype.addProcessInstanceComment=function(e,t){var n=this;return C.from(this.apiService.getInstance().activiti.commentsApi.addProcessInstanceComment({message:t},e)).pipe(y.map(function(e){return new _r({id:e.id,message:e.message,created:e.created,createdBy:e.createdBy})}),y.catchError(function(e){return n.handleError(e)}))},e.prototype.handleError=function(e){return this.logService.error(e),C.throwError(e||"Server error")},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:H},{type:q}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(H),A.inject(q))},token:e,providedIn:"root"}),e}(),Lr=function(){function e(e,t){this.apiService=e,this.logService=t}return e.prototype.addNodeComment=function(e,t){var n=this;return C.from(this.apiService.getInstance().core.commentsApi.addComment(e,{content:t})).pipe(y.map(function(e){return new _r({id:e.entry.id,message:e.entry.content,created:e.entry.createdAt,createdBy:e.entry.createdBy})}),y.catchError(function(e){return n.handleError(e)}))},e.prototype.getNodeComments=function(e){var t=this;return C.from(this.apiService.getInstance().core.commentsApi.getComments(e)).pipe(y.map(function(e){var t=[];return e.list.entries.forEach(function(e){t.push(new _r({id:e.entry.id,message:e.entry.content,created:e.entry.createdAt,createdBy:e.entry.createdBy}))}),t}),y.catchError(function(e){return t.handleError(e)}))},e.prototype.handleError=function(e){return this.logService.error(e),C.throwError(e||"Server error")},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:H},{type:q}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(H),A.inject(q))},token:e,providedIn:"root"}),e}(),Mr=function(){function e(e,t){var n=this;this.commentProcessService=e,this.commentContentService=t,this.readOnly=!1,this.error=new A.EventEmitter,this.comments=[],this.beingAdded=!1,this.comment$=new C.Observable(function(e){return n.commentObserver=e}).pipe(y.share()),this.comment$.subscribe(function(e){n.comments.push(e)})}return e.prototype.ngOnChanges=function(e){this.taskId=null,this.nodeId=null,this.taskId=e.taskId?e.taskId.currentValue:null,this.nodeId=e.nodeId?e.nodeId.currentValue:null,this.taskId||this.nodeId?this.getComments():this.resetComments()},e.prototype.getComments=function(){var t=this;this.resetComments(),this.isATask()&&this.commentProcessService.getTaskComments(this.taskId).subscribe(function(e){e&&e instanceof Array&&(e=e.sort(function(e,t){var n=new Date(e.created),i=new Date(t.created);return i<n?-1:n<i?1:0})).forEach(function(e){t.commentObserver.next(e)})},function(e){t.error.emit(e)}),this.isANode()&&this.commentContentService.getNodeComments(this.nodeId).subscribe(function(e){e&&e instanceof Array&&(e=e.sort(function(e,t){var n=new Date(e.created),i=new Date(t.created);return i<n?-1:n<i?1:0})).forEach(function(e){t.commentObserver.next(e)})},function(e){t.error.emit(e)})},e.prototype.resetComments=function(){this.comments=[]},e.prototype.add=function(){var t=this;if(this.message&&this.message.trim()&&!this.beingAdded){var e=this.sanitize(this.message);this.beingAdded=!0,this.isATask()&&this.commentProcessService.addTaskComment(this.taskId,e).subscribe(function(e){t.comments.unshift(e),t.message="",t.beingAdded=!1},function(e){t.error.emit(e),t.beingAdded=!1}),this.isANode()&&this.commentContentService.addNodeComment(this.nodeId,e).subscribe(function(e){t.comments.unshift(e),t.message="",t.beingAdded=!1},function(e){t.error.emit(e),t.beingAdded=!1})}},e.prototype.clear=function(){this.message=""},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.isATask=function(){return!!this.taskId},e.prototype.isANode=function(){return!!this.nodeId},e.prototype.sanitize=function(e){return e.replace(/<[^>]+>/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,"").replace(/\r?\n/g,"<br/>")},e.decorators=[{type:A.Component,args:[{selector:"adf-comments",template:'<div class="adf-comments-container">\n    <div id="comment-header" class="adf-comments-header">\n        {{\'COMMENTS.HEADER\' | translate: { count: comments?.length} }}\n    </div>\n    <div class="adf-comments-input-container" *ngIf="!isReadOnly()">\n            <mat-form-field class="adf-full-width">\n                <textarea (keyup.escape)="clear()" matInput id="comment-input" placeholder="{{\'COMMENTS.ADD\' | translate}}" [(ngModel)]="message"></textarea>\n            </mat-form-field>\n\n            <div class="adf-comments-input-actions">\n                <button mat-button\n                    class="adf-comments-input-add"\n                    data-automation-id="comments-input-add"\n                    color="primary"\n                    (click)="add()"\n                    [disabled]="!message">\n                    {{ \'COMMENTS.ADD\' | translate }}\n                </button>\n            </div>\n    </div>\n\n    <div *ngIf="comments.length > 0">\n        <adf-comment-list [comments]="comments">\n        </adf-comment-list>\n    </div>\n</div>',styles:[""]}]}],e.ctorParameters=function(){return[{type:kr},{type:Lr}]},e.propDecorators={taskId:[{type:A.Input}],nodeId:[{type:A.Input}],readOnly:[{type:A.Input}],error:[{type:A.Output}]},e}(),Fr=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[He,Ht,Bt,O.FormsModule,O.ReactiveFormsModule,pe,S.CommonModule,D.TranslateModule.forChild()],declarations:[xr,Mr],exports:[xr,Mr]}]}],e}(),Nr=function(){function e(){}return e.prototype.ngAfterContentInit=function(){0<this.buttons.length?this.isMenuEmpty=!1:this.isMenuEmpty=!0},e.prototype.isMobile=function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},e.decorators=[{type:A.Component,args:[{selector:"adf-buttons-action-menu",template:'<div id="adf-buttons-menu" class="adf-buttons-menu" *ngIf="!isMenuEmpty">\n    <div *ngIf="isMobile()">\n        <button mat-icon-button [matMenuTriggerFor]="editReportMenu">\n            <mat-icon>more_vert</mat-icon>\n        </button>\n        <mat-menu #editReportMenu="matMenu" class="adf-buttons-menu-mobile">\n            <ng-content *ngTemplateOutlet="desktop">\n            </ng-content>\n        </mat-menu>\n    </div>\n\n    <div *ngIf="!isMobile()" class="adf-buttons-menu-desktop">\n        <ng-content *ngTemplateOutlet="desktop">\n        </ng-content>\n    </div>\n</div>\n\n<ng-template #desktop>\n    <ng-content></ng-content>\n</ng-template>',styles:[""]}]}],e.propDecorators={buttons:[{type:A.ContentChildren,args:[E.MatMenuItem]}]},e}(),Vr=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[S.CommonModule,pe,D.TranslateModule.forChild(),f.FlexLayoutModule],declarations:[Nr],exports:[Nr]}]}],e}(),Ur=function(){function e(){this.options=[],this.ascending=!0,this.valueChange=new A.EventEmitter,this.sortingChange=new A.EventEmitter}return e.prototype.onOptionChanged=function(e){this.selected=e.value,this.valueChange.emit(this.selected)},e.prototype.toggleSortDirection=function(){this.ascending=!this.ascending,this.sortingChange.emit(this.ascending)},e.decorators=[{type:A.Component,args:[{selector:"adf-sorting-picker",template:'<mat-form-field>\n    <mat-select [(value)]="selected" (selectionChange)="onOptionChanged($event)">\n        <mat-option *ngFor="let option of options" [value]="option.key">\n            {{ option.label | translate }}\n        </mat-option>\n    </mat-select>\n</mat-form-field>\n\n<button *ngIf="selected" mat-icon-button (click)="toggleSortDirection()">\n    <mat-icon *ngIf="ascending">arrow_upward</mat-icon>\n    <mat-icon *ngIf="!ascending">arrow_downward</mat-icon>\n</button>\n',encapsulation:A.ViewEncapsulation.None,host:{"class":"adf-sorting-picker"}}]}],e.propDecorators={options:[{type:A.Input}],selected:[{type:A.Input}],ascending:[{type:A.Input}],valueChange:[{type:A.Output}],sortingChange:[{type:A.Output}]},e}(),jr=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[S.CommonModule,pe,D.TranslateModule.forChild()],declarations:[Ur],exports:[Ur]}]}],e}(),Br=function(){function i(e,t,n){this.route=e,this.router=t,this.translateService=n,this.secondaryButtonUrl="report-issue",this.returnButtonUrl="/",this.errorCode=i.UNKNOWN_ERROR}return i.prototype.ngOnInit=function(){var t=this;this.route&&this.route.params.forEach(function(e){e.id&&(t.errorCode=t.checkErrorExists(e.id)?e.id:i.UNKNOWN_ERROR)})},i.prototype.checkErrorExists=function(e){return this.translateService.instant("ERROR_CONTENT."+e)!=="ERROR_CONTENT."+e},i.prototype.getTranslations=function(){this.hasSecondButton=!!this.translateService.instant("ERROR_CONTENT."+this.errorCode+".SECONDARY_BUTTON.TEXT")},i.prototype.ngAfterContentChecked=function(){this.getTranslations()},i.prototype.onSecondButton=function(){this.router.navigate(["/"+this.secondaryButtonUrl])},i.prototype.onReturnButton=function(){this.router.navigate(["/"+this.returnButtonUrl])},i.UNKNOWN_ERROR="UNKNOWN",i.decorators=[{type:A.Component,args:[{selector:"adf-error-content",template:'<div class="adf-error-content">\n    <p class="adf-error-content-code">\n        {{ errorCode }}\n    </p>\n    <div class="adf-error-content-shadow"></div>\n    <p class="adf-error-content-title">\n        {{ \'ERROR_CONTENT.\' + errorCode + \'.TITLE\' | translate }}\n    </p>\n    <p class="adf-error-content-description">\n        {{ \'ERROR_CONTENT.\' + errorCode + \'.DESCRIPTION\' | translate }}\n    </p>\n    <div class="adf-error-content-buttons">\n        <a a id="adf-secondary-button" mat-raised-button color="primary"\n            *ngIf="hasSecondButton" (click)="onSecondButton()"\n            class="adf-error-content-description-link">\n            {{ \'ERROR_CONTENT.\' + errorCode + \'.SECONDARY_BUTTON.TEXT\' | translate | uppercase }}\n        </a>\n        <a id="adf-return-button" mat-raised-button color="primary" (click)="onReturnButton()">\n            {{ \'ERROR_CONTENT.\' + this.errorCode + \'.RETURN_BUTTON.TEXT\' | translate | uppercase }}\n        </a>\n    </div>\n</div>\n',changeDetection:A.ChangeDetectionStrategy.OnPush,encapsulation:A.ViewEncapsulation.None,host:{"class":"adf-error-content"},styles:[""]}]}],i.ctorParameters=function(){return[{type:m.ActivatedRoute},{type:m.Router},{type:Ae}]},i.propDecorators={secondaryButtonUrl:[{type:A.Input}],returnButtonUrl:[{type:A.Input}],errorCode:[{type:A.Input}]},i}(),Hr=function(){function e(){this.icon="cake",this.title="",this.subtitle=""}return e.decorators=[{type:A.Component,args:[{selector:"adf-empty-content",template:'<div class="adf-empty-content">\n    <mat-icon class="adf-empty-content__icon">{{ icon }}</mat-icon>\n    <div class="adf-empty-content__title">{{ title | translate }}</div>\n    <div class="adf-empty-content__subtitle">{{ subtitle | translate }}</div>\n    <ng-content></ng-content>\n</div>\n',changeDetection:A.ChangeDetectionStrategy.OnPush,encapsulation:A.ViewEncapsulation.None,host:{"class":"adf-empty-content"},styles:[""]}]}],e.propDecorators={icon:[{type:A.Input}],title:[{type:A.Input}],subtitle:[{type:A.Input}]},e}(),Gr=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[S.CommonModule,pe,D.TranslateModule.forChild()],declarations:[Br,Hr],exports:[Br,Hr]}]}],e}(),Yr=function(){function e(e,t,n){this.authenticationService=e,this.router=t,this.appConfigService=n}return Object.defineProperty(e.prototype,"withCredentials",{get:function(){return this.appConfigService.get("auth.withCredentials",!1)},enumerable:!0,configurable:!0}),e.prototype.canActivate=function(e,t){return this.checkLogin(e,t.url)},e.prototype.canActivateChild=function(e,t){return this.canActivate(e,t)},e.prototype.redirectToUrl=function(e,t){this.authenticationService.setRedirect({provider:e,url:t});var n="/"+this.getLoginRoute()+"?redirectUrl="+t;this.router.navigateByUrl(n)},e.prototype.getLoginRoute=function(){return this.appConfigService&&this.appConfigService.get(U.LOGIN_ROUTE,"login")},e.prototype.isOAuthWithoutSilentLogin=function(){var e=this.appConfigService.get(U.OAUTHCONFIG,null);return this.authenticationService.isOauth()&&!1===e.silentLogin},e}(),zr=function(i){function e(e,t,n){return i.call(this,e,t,n)||this}return _(e,i),e.prototype.checkLogin=function(e,t){return!(!this.authenticationService.isLoggedIn()&&!this.withCredentials)||(this.authenticationService.isOauth()&&!this.isOAuthWithoutSilentLogin()||this.redirectToUrl("ALL",t),!1)},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:$},{type:m.Router},{type:B}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject($),A.inject(m.Router),A.inject(B))},token:e,providedIn:"root"}),e}(Yr),qr=function(i){function e(e,t,n){return i.call(this,e,t,n)||this}return _(e,i),e.prototype.checkLogin=function(e,t){return!(!this.authenticationService.isEcmLoggedIn()&&!this.withCredentials)||(this.authenticationService.isOauth()&&!this.isOAuthWithoutSilentLogin()||this.redirectToUrl("ECM",t),!1)},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:$},{type:m.Router},{type:B}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject($),A.inject(m.Router),A.inject(B))},token:e,providedIn:"root"}),e}(Yr),Wr=function(i){function e(e,t,n){return i.call(this,e,t,n)||this}return _(e,i),e.prototype.checkLogin=function(e,t){return!(!this.authenticationService.isBpmLoggedIn()&&!this.withCredentials)||(this.authenticationService.isOauth()&&!this.isOAuthWithoutSilentLogin()||this.redirectToUrl("BPM",t),!1)},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:$},{type:m.Router},{type:B}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject($),A.inject(m.Router),A.inject(B))},token:e,providedIn:"root"}),e}(Yr),$r=function(){function e(e,t,n){this.storageService=e,this.jwtHelperService=t,this.router=n}return e.prototype.canActivate=function(e,t){var n,i=!1,o=!0;if(e.data){if(e.data.roles){var r=e.data.roles;i=this.hasRealmRoles(r)}if(e.data.clientRoles){var a=e.params[e.data.clientRoles];r=e.data.roles;o=this.hasRealmRolesForClientRole(a,r)}}return!(n=i&&o)&&e.data&&e.data.redirectUrl&&this.router.navigate(["/"+e.data.redirectUrl]),n},e.prototype.getRealmRoles=function(){var e=this.getValueFromToken("realm_access");return e?e.roles:[]},e.prototype.getClientRoles=function(e){var t=this.getValueFromToken("resource_access")[e];return t?t.roles:[]},e.prototype.getAccessToken=function(){return this.storageService.getItem("access_token")},e.prototype.hasRealmRole=function(t){var e=!1;this.getAccessToken()&&(e=this.getRealmRoles().some(function(e){return e===t}));return e},e.prototype.hasRealmRoles=function(e){var t=this;return e.some(function(e){return t.hasRealmRole(e)})},e.prototype.hasRealmRolesForClientRole=function(t,e){var n=this;return e.some(function(e){return n.hasClientRole(t,e)})},e.prototype.hasClientRole=function(e,t){var n=!1;this.getAccessToken()&&(n=this.getClientRoles(e).some(function(e){return e===t}));return n},e.prototype.getValueFromToken=function(e){var t,n=this.getAccessToken();n&&(t=this.jwtHelperService.decodeToken(n)[e]);return t},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:we},{type:bn},{type:m.Router}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(we),A.inject(bn),A.inject(m.Router))},token:e,providedIn:"root"}),e}(),Xr=function(){function e(e,t){this.apiService=e,this.logService=t}return e.prototype.getDeployedApplications=function(){var t=this;return C.from(this.apiService.getInstance().activiti.appsApi.getAppDefinitions()).pipe(y.map(function(e){return e.data}),y.catchError(function(e){return t.handleError(e)}))},e.prototype.getDeployedApplicationsByName=function(t){var n=this;return C.from(this.apiService.getInstance().activiti.appsApi.getAppDefinitions()).pipe(y.map(function(e){return e.data.find(function(e){return e.name===t})}),y.catchError(function(e){return n.handleError(e)}))},e.prototype.getApplicationDetailsById=function(t){var n=this;return C.from(this.apiService.getInstance().activiti.appsApi.getAppDefinitions()).pipe(y.map(function(e){return e.data.find(function(e){return e.id===t})}),y.catchError(function(e){return n.handleError(e)}))},e.prototype.handleError=function(e){return this.logService.error(e),C.throwError(e||"Server error")},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:H},{type:q}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(H),A.inject(q))},token:e,providedIn:"root"}),e}(),Kr=function(){function e(e,t,n){var i=this;this.titleService=e,this.appConfig=t,this.translationService=n,this.originalTitle="",this.translatedTitle="",n.translate.onLangChange.subscribe(function(){return i.onLanguageChanged()}),n.translate.onTranslationChange.subscribe(function(){return i.onLanguageChanged()})}return e.prototype.setTitle=function(e){void 0===e&&(e=""),this.originalTitle=e,this.translatedTitle=this.translationService.instant(e),this.updateTitle()},e.prototype.onLanguageChanged=function(){this.translatedTitle=this.translationService.instant(this.originalTitle),this.updateTitle()},e.prototype.updateTitle=function(){var e=this.appConfig.get("application.name")||"Alfresco ADF Application",t=this.translatedTitle?this.translatedTitle+" - "+e:""+e;this.titleService.setTitle(t)},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:h.Title},{type:B},{type:Ae}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(h.Title),A.inject(B),A.inject(Ae))},token:e,providedIn:"root"}),e}(),Jr=function(){function e(e){this.apiService=e}return e.prototype.getAvailableRenditionForNode=function(e){return C.from(this.apiService.renditionsApi.getRenditions(e)).pipe(y.map(function(e){var t=e.list.entries.filter(function(e){return"pdf"===e.entry.id||"imgpreview"===e.entry.id}),n=t.find(function(e){return"CREATED"===e.entry.status});return n||t[0]}))},e.prototype.generateRenditionForNode=function(t){var n=this;return this.getAvailableRenditionForNode(t).pipe(y.map(function(e){return"CREATED"!==e.entry.status?C.from(n.apiService.renditionsApi.createRendition(t,{id:e.entry.id})):C.empty()}))},e.prototype.isRenditionAvailable=function(e,t){var i=this;return new C.Observable(function(n){i.getRendition(e,t).subscribe(function(e){var t=!0;"NOT_CREATED"===e.entry.status.toString()&&(t=!1),n.next(t),n.complete()},function(){n.next(!1),n.complete()})})},e.prototype.isConversionPossible=function(t,n){var i=this;return new C.Observable(function(e){i.getRendition(t,n).subscribe(function(){e.next(!0),e.complete()},function(){e.next(!1),e.complete()})})},e.prototype.getRenditionUrl=function(e,t){return this.apiService.contentApi.getRenditionUrl(e,t)},e.prototype.getRendition=function(e,t){return C.from(this.apiService.renditionsApi.getRendition(e,t))},e.prototype.getRenditionsListByNodeId=function(e){return C.from(this.apiService.renditionsApi.getRenditions(e))},e.prototype.createRendition=function(e,t){return C.from(this.apiService.renditionsApi.createRendition(e,{id:t}))},e.prototype.convert=function(e,t,n,i){var o=this;return void 0===n&&(n=1e3),void 0===i&&(i=5),this.createRendition(e,t).pipe(y.concatMap(function(){return o.pollRendition(e,t,n,i)}))},e.prototype.pollRendition=function(e,t,n,i){var o=this;void 0===n&&(n=1e3),void 0===i&&(i=5);var r=0;return C.interval(n).pipe(y.switchMap(function(){return o.getRendition(e,t)}),y.takeWhile(function(e){return!(i<(r+=1))&&"CREATED"!==e.entry.status.toString()}))},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:H}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(H))},token:e,providedIn:"root"}),e}(),Qr=function ss(e){this.name=e&&e.name,this.path=e&&e.path,this.json=e&&e.json||[]},Zr=function(){function e(e){this.http=e,this.prefix="i18n",this.suffix=".json",this.providers=[],this.queue=[],this.defaultLang="en"}return e.prototype.setDefaultLang=function(e){this.defaultLang=e||"en"},e.prototype.registerProvider=function(t,e){var n=this.providers.find(function(e){return e.name===t});n?n.path=e:this.providers.push(new Qr({name:t,path:e}))},e.prototype.providerRegistered=function(t){return!!this.providers.find(function(e){return e.name===t})},e.prototype.fetchLanguageFile=function(n,i,o){var r=this,a=o||i.path+"/"+this.prefix+"/"+n+this.suffix+"?v="+Date.now();return this.http.get(a).pipe(y.map(function(e){i.json[n]=e}),y.retry(3),y.catchError(function(){if(!o&&n.includes("-")){var e=F(n.split("-"),1)[0];if(e&&e!==r.defaultLang){var t=i.path+"/"+r.prefix+"/"+e+r.suffix+"?v="+Date.now();return r.fetchLanguageFile(n,i,t)}}return C.throwError("Failed to load "+a)}))},e.prototype.getComponentToFetch=function(t){var n=this,i=[];return this.queue[t]||(this.queue[t]=[]),this.providers.forEach(function(e){n.isComponentInQueue(t,e.name)||(n.queue[t].push(e.name),i.push(n.fetchLanguageFile(t,e)))}),i},e.prototype.init=function(e){this.queue[e]===undefined&&(this.queue[e]=[])},e.prototype.isComponentInQueue=function(e,t){return!!(this.queue[e]||[]).find(function(e){return e===t})},e.prototype.getFullTranslationJSON=function(t){var n={};return this.providers.slice(0).sort(function(e,t){return"app"===e.name?1:"app"===t.name?-1:e.name.localeCompare(t.name)}).forEach(function(e){e.json&&e.json[t]&&(n=V.merge(n,e.json[t]))}),n},e.prototype.getTranslation=function(n){var i=this,o=!1,r=N(this.getComponentToFetch(n).map(function(e){return e.pipe(y.catchError(function(e){return console.warn(e),o=!0,C.of(e)}))}));return new C.Observable(function(t){if(0<r.length)C.forkJoin(r).subscribe(function(){var e=i.getFullTranslationJSON(n);e&&t.next(e),o?t.error("Failed to load some resources"):t.complete()},function(e){t.error("Failed to load some resources")});else{var e=i.getFullTranslationJSON(n);e&&(t.next(e),t.complete())}})},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:w.HttpClient}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(w.HttpClient))},token:e,providedIn:"root"}),e}(),ea=function(){function e(e,t){this.apiService=e,this.appConfigService=t,this.cache={},this.totalComplete=0,this.totalAborted=0,this.totalError=0,this.excludedFileList=[],this.matchingOptions=null,this.activeTask=null,this.queue=[],this.queueChanged=new C.Subject,this.fileUpload=new C.Subject,this.fileUploadStarting=new C.Subject,this.fileUploadCancelled=new C.Subject,this.fileUploadProgress=new C.Subject,this.fileUploadAborted=new C.Subject,this.fileUploadError=new C.Subject,this.fileUploadComplete=new C.Subject,this.fileUploadDeleted=new C.Subject,this.fileDeleted=new C.Subject}return e.prototype.isUploading=function(){return!!this.activeTask},e.prototype.getQueue=function(){return this.queue},e.prototype.addToQueue=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e.filter(function(e){return t.filterElement(e)});return this.queue=this.queue.concat(i),this.queueChanged.next(this.queue),i},e.prototype.filterElement=function(t){var n=this,e=!0;return this.excludedFileList=this.appConfigService.get("files.excluded"),this.excludedFileList&&(this.matchingOptions=this.appConfigService.get("files.match-options"),e=0===this.excludedFileList.filter(function(e){return new g.Minimatch(e,n.matchingOptions).match(t.name)}).length),e},e.prototype.uploadFilesInTheQueue=function(e){var t=this;if(!this.activeTask){var n=this.queue.find(function(e){return e.status===lt.Pending});if(n){this.onUploadStarting(n);var i=this.beginUpload(n,e);this.activeTask=i,this.cache[n.id]=i;var o=function(){t.activeTask=null,setTimeout(function(){return t.uploadFilesInTheQueue(e)},100)};i.next=o,i.then(function(){return o()},function(){return o()})}}},e.prototype.cancelUpload=function(){for(var n=this,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach(function(e){var t=n.cache[e.id];t?(t.abort(),delete n.cache[e.id]):n.getAction(e)()})},e.prototype.clearQueue=function(){this.queue=[],this.totalComplete=0,this.totalAborted=0,this.totalError=0},e.prototype.getUploadPromise=function(e){var t={renditions:"doclib",include:["allowableOperations"]};return!0===e.options.newVersion?(t.overwrite=!0,t.majorVersion=e.options.majorVersion,t.comment=e.options.comment,t.name=e.name):t.autoRename=!0,e.options.nodeType&&(t.nodeType=e.options.nodeType),e.id?this.apiService.getInstance().node.updateNodeContent(e.id,e.file,t):this.apiService.getInstance().upload.uploadFile(e.file,e.options.path,e.options.parentId,e.options,t)},e.prototype.beginUpload=function(t,n){var i=this,e=this.getUploadPromise(t);return e.on("progress",function(e){i.onUploadProgress(t,e)}).on("abort",function(){i.onUploadAborted(t),n&&n.emit({value:"File aborted"})}).on("error",function(e){i.onUploadError(t,e),n&&n.emit({value:"Error file uploaded"})}).on("success",function(e){i.onUploadComplete(t,e),n&&n.emit({value:e})})["catch"](function(e){}),e},e.prototype.onUploadStarting=function(e){if(e){e.status=lt.Starting;var t=new ut(e,lt.Starting);this.fileUpload.next(t),this.fileUploadStarting.next(t)}},e.prototype.onUploadProgress=function(e,t){if(e){e.progress=t,e.status=lt.Progress;var n=new ut(e,lt.Progress);this.fileUpload.next(n),this.fileUploadProgress.next(n)}},e.prototype.onUploadError=function(e,t){if(e){e.errorCode=(t||{}).status,e.status=lt.Error,this.totalError++,this.cache[e.id]&&delete this.cache[e.id];var n=new ft(e,t,this.totalError);this.fileUpload.next(n),this.fileUploadError.next(n)}},e.prototype.onUploadComplete=function(e,t){if(e){e.status=lt.Complete,e.data=t,this.totalComplete++,this.cache[e.id]&&delete this.cache[e.id];var n=new pt(e,this.totalComplete,t,this.totalAborted);this.fileUpload.next(n),this.fileUploadComplete.next(n)}},e.prototype.onUploadAborted=function(e){if(e){e.status=lt.Aborted,this.totalAborted++;var t=this.cache[e.id];t&&delete this.cache[e.id];var n=new ut(e,lt.Aborted);this.fileUpload.next(n),this.fileUploadAborted.next(n),t.next()}},e.prototype.onUploadCancelled=function(e){if(e){e.status=lt.Cancelled;var t=new ut(e,lt.Cancelled);this.fileUpload.next(t),this.fileUploadCancelled.next(t)}},e.prototype.onUploadDeleted=function(e){if(e){e.status=lt.Deleted,this.totalComplete--;var t=new dt(e,this.totalComplete);this.fileUpload.next(t),this.fileUploadDeleted.next(t)}},e.prototype.getAction=function(e){var t,n=this;return((t={})[lt.Pending]=function(){return n.onUploadCancelled(e)},t[lt.Deleted]=function(){return n.onUploadDeleted(e)},t[lt.Error]=function(){return n.onUploadError(e,null)},t)[e.status]},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:H},{type:B}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(H),A.inject(B))},token:e,providedIn:"root"}),e}(),ta=function(){function e(e,t){this.apiService=e,this.preferences=t}return Object.defineProperty(e.prototype,"nodesApi",{get:function(){return this.apiService.getInstance().core.nodesApi},enumerable:!0,configurable:!0}),e.prototype.getDeletedNodes=function(e){var t={include:["path","properties"],maxItems:this.preferences.paginationSize,skipCount:0},n=Object.assign(t,e),i=this.nodesApi.getDeletedNodes(n);return C.from(i).pipe(y.catchError(function(e){return C.of(e)}))},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:H},{type:Te}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(H),A.inject(Te))},token:e,providedIn:"root"}),e}(),na=function(){function t(e,t){this.apiService=e,this.preferences=t}return t.remapEntry=function(e){var t=e.entry;return t.properties={"cm:title":t.title,"cm:description":t.description},{entry:t}},t.prototype.remapFavoritesData=function(e){void 0===e&&(e={});var t=e.list||{},n=t.pagination||{};return{list:{entries:this.remapFavoriteEntries(t.entries||[]),pagination:n}}},t.prototype.remapFavoriteEntries=function(e){return e.map(function(e){var t=e.entry.target;return{entry:t.file||t.folder}}).filter(function(e){return!!e.entry}).map(t.remapEntry)},Object.defineProperty(t.prototype,"favoritesApi",{get:function(){return this.apiService.getInstance().core.favoritesApi},enumerable:!0,configurable:!0}),t.prototype.getFavorites=function(e,t){var n={maxItems:this.preferences.paginationSize,skipCount:0,where:"(EXISTS(target/file) OR EXISTS(target/folder))",include:["properties","allowableOperations"]},i=Object.assign(n,t),o=this.favoritesApi.getFavorites(e,i).then(this.remapFavoritesData);return C.from(o).pipe(y.catchError(function(e){return C.of(e)}))},t.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:H},{type:Te}]},t.ngInjectableDef=A.defineInjectable({factory:function(){return new t(A.inject(H),A.inject(Te))},token:t,providedIn:"root"}),t}(),ia=function(){function e(e,t){this.api=e,this.preferences=t}return Object.defineProperty(e.prototype,"nodesApi",{get:function(){return this.api.getInstance().core.nodesApi},enumerable:!0,configurable:!0}),e.prototype.getEntryFromEntity=function(e){return e.entry},e.prototype.getNode=function(e,t){void 0===t&&(t={});var n=Object.assign({include:["path","properties","allowableOperations","permissions"]},t),i=this.nodesApi.getNode(e,n).then(this.getEntryFromEntity);return C.from(i).pipe(y.catchError(function(e){return C.throwError(e)}))},e.prototype.getNodeChildren=function(e,t){void 0===t&&(t={});var n={maxItems:this.preferences.paginationSize,skipCount:0,include:["path","properties","allowableOperations","permissions"]},i=Object.assign(n,t),o=this.nodesApi.getNodeChildren(e,i);return C.from(o).pipe(y.catchError(function(e){return C.throwError(e)}))},e.prototype.createNode=function(e,t,n){void 0===n&&(n={});var i=this.nodesApi.addNode(e,t,n).then(this.getEntryFromEntity);return C.from(i).pipe(y.catchError(function(e){return C.throwError(e)}))},e.prototype.createFolder=function(e,t,n){void 0===n&&(n={});var i=Object.assign({nodeType:"cm:folder"},t);return this.createNode(e,i,n)},e.prototype.updateNode=function(e,t,n){void 0===n&&(n={});var i=Object.assign({include:["path","properties","allowableOperations","permissions"]},n),o=this.nodesApi.updateNode(e,t,i).then(this.getEntryFromEntity);return C.from(o).pipe(y.catchError(function(e){return C.throwError(e)}))},e.prototype.deleteNode=function(e,t){void 0===t&&(t={});var n=this.nodesApi.deleteNode(e,t);return C.from(n).pipe(y.catchError(function(e){return C.throwError(e)}))},e.prototype.restoreNode=function(e){var t=this.nodesApi.restoreNode(e).then(this.getEntryFromEntity);return C.from(t).pipe(y.catchError(function(e){return C.throwError(e)}))},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:H},{type:Te}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(H),A.inject(Te))},token:e,providedIn:"root"}),e}(),oa=function(){function e(e){this.apiService=e}return Object.defineProperty(e.prototype,"peopleApi",{get:function(){return this.apiService.getInstance().core.peopleApi},enumerable:!0,configurable:!0}),e.prototype.getPerson=function(e){var t=this.peopleApi.getPerson(e);return C.from(t).pipe(y.catchError(function(e){return C.of(e)}))},e.prototype.getCurrentPerson=function(){return this.getPerson("-me-")},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:H}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(H))},token:e,providedIn:"root"}),e}(),ra=function(){function e(){}return e.prototype.generateQueryBody=function(e,t,n){return{query:{query:e?"'"+e+"*' OR name:'"+e+"*'":e},include:["path","allowableOperations"],paging:{maxItems:t,skipCount:n},filterQueries:[{query:"TYPE:'cm:folder' OR TYPE:'cm:content'"},{query:"NOT cm:creator:System"}]}},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),aa=function(){function e(e,t){this.apiService=e,this.searchConfigurationService=t,this.dataLoaded=new C.Subject}return e.prototype.getNodeQueryResults=function(e,t){var n=this,i=this.apiService.getInstance().core.queriesApi.findNodes(e,t);return i.then(function(e){n.dataLoaded.next(e)}),C.from(i).pipe(y.catchError(function(e){return n.handleError(e)}))},e.prototype.search=function(e,t,n){var i=this,o=Object.assign(this.searchConfigurationService.generateQueryBody(e,t,n)),r=this.apiService.getInstance().search.searchApi.search(o);return r.then(function(e){i.dataLoaded.next(e)}),C.from(r).pipe(y.catchError(function(e){return i.handleError(e)}))},e.prototype.searchByQueryBody=function(e){var t=this,n=this.apiService.getInstance().search.searchApi.search(e);return n.then(function(e){t.dataLoaded.next(e)}),C.from(n).pipe(y.catchError(function(e){return t.handleError(e)}))},e.prototype.handleError=function(e){return C.throwError(e||"Server error")},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:H},{type:ra}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(H),A.inject(ra))},token:e,providedIn:"root"}),e}(),sa=function(){function e(e,t){this.apiService=e,this.preferences=t}return Object.defineProperty(e.prototype,"sharedLinksApi",{get:function(){return this.apiService.getInstance().core.sharedlinksApi},enumerable:!0,configurable:!0}),e.prototype.getSharedLinks=function(e){void 0===e&&(e={});var t={maxItems:this.preferences.paginationSize,skipCount:0,include:["properties","allowableOperations"]},n=Object.assign({},t,e),i=this.sharedLinksApi.findSharedLinks(n);return C.from(i).pipe(y.catchError(function(e){return C.of(e)}))},e.prototype.createSharedLinks=function(e,t){void 0===t&&(t={});var n=this.sharedLinksApi.addSharedLink({nodeId:e});return C.from(n).pipe(y.catchError(function(e){return C.of(e)}))},e.prototype.deleteSharedLink=function(e){var t=this.sharedLinksApi.deleteSharedLink(e);return C.from(t).pipe(y.catchError(function(e){return C.of(e)}))},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:H},{type:Te}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(H),A.inject(Te))},token:e,providedIn:"root"}),e}(),la=function(){function e(e){this.apiService=e}return e.prototype.getSites=function(e){var t=this;void 0===e&&(e={});var n=Object.assign({},{skipCount:0,include:["properties"]},e);return C.from(this.apiService.getInstance().core.sitesApi.getSites(n)).pipe(y.catchError(function(e){return t.handleError(e)}))},e.prototype.getSite=function(e,t){var n=this;return C.from(this.apiService.getInstance().core.sitesApi.getSite(e,t)).pipe(y.catchError(function(e){return n.handleError(e)}))},e.prototype.deleteSite=function(e,t){var n=this;void 0===t&&(t=!0);var i={};return i.permanent=t,C.from(this.apiService.getInstance().core.sitesApi.deleteSite(e,i)).pipe(y.catchError(function(e){return n.handleError(e)}))},e.prototype.getSiteContent=function(e){return this.getSite(e,{relations:["containers"]})},e.prototype.getSiteMembers=function(e){return this.getSite(e,{relations:["members"]})},e.prototype.getEcmCurrentLoggedUserName=function(){return this.apiService.getInstance().getEcmUsername()},e.prototype.handleError=function(e){return console.error(e),C.throwError(e||"Server error")},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:H}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(H))},token:e,providedIn:"root"}),e}(),ca=function(){function e(e){this.dialog=e}return e.prototype.openLogin=function(e,t){var n=new C.Subject;n.subscribe({complete:this.close.bind(this)});var i={title:t,actionName:e,logged:n};return this.openLoginDialog(i,"adf-login-dialog","630px"),n},e.prototype.openLoginDialog=function(e,t,n){this.dialog.open(Fn,{data:e,panelClass:t,width:n})},e.prototype.close=function(){this.dialog.closeAll()},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:E.MatDialog}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(v.MatDialog))},token:e,providedIn:"root"}),e}(),ua=function(){function e(){}return e.prototype.getInstance=function(){return this.alfrescoApi},Object.defineProperty(e.prototype,"contentApi",{get:function(){return this.getInstance().content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nodesApi",{get:function(){return this.getInstance().nodes},enumerable:!0,configurable:!0}),e.prototype.init=function(e,t){var n={provider:"ECM",hostEcm:e,authType:"BASIC",contextRoot:t,domainPrefix:this.createPrefixFromHost(e)};this.initAlfrescoApi(n)},e.prototype.initAlfrescoApi=function(e){this.alfrescoApi?this.alfrescoApi.configureJsApi(e):this.alfrescoApi=new I.AlfrescoApiCompatibility(e)},e.prototype.createPrefixFromHost=function(e){var t=e.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i),n=null;return null!=t&&2<t.length&&"string"==typeof t[2]&&0<t[2].length&&(n=t[2]),n},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=A.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),pa=function(){function e(e){this.alfrescoApiService=e}return e.prototype.isLocked=function(e){var t=!1;return this.hasLockConfigured(e)&&(this.isReadOnlyLock(e)?(t=!0,this.isLockExpired(e)&&(t=!1)):this.isLockOwnerAllowed(e)&&(t=this.alfrescoApiService.getInstance().getEcmUsername()!==e.properties["cm:lockOwner"].id,this.isLockExpired(e)&&(t=!1))),t},e.prototype.hasLockConfigured=function(e){return e.isFile&&e.isLocked&&e.properties["cm:lockType"]},e.prototype.isReadOnlyLock=function(e){return"READ_ONLY_LOCK"===e.properties["cm:lockType"]&&"PERSISTENT"===e.properties["cm:lockLifetime"]},e.prototype.isLockOwnerAllowed=function(e){return"WRITE_LOCK"===e.properties["cm:lockType"]&&"PERSISTENT"===e.properties["cm:lockLifetime"]},e.prototype.getLockExpiryTime=function(e){if(e.properties["cm:expiryDate"])return b(e.properties["cm:expiryDate"],"yyyy-MM-ddThh:mm:ssZ")},e.prototype.isLockExpired=function(e){var t=this.getLockExpiryTime(e);return b().isAfter(t)},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:H}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(H))},token:e,providedIn:"root"}),e}(),da=function(){function e(e,t,n){this.appConfigService=e,this.alfrescoApiService=t,this.storageService=n}return e.prototype.setup=function(){var n=this,e=window.adf||{};e.setConfigField=function(e,t){n.appConfigService.config[e]=JSON.parse(t)},e.setStorageItem=function(e,t){n.storageService.setItem(e,t)},e.clearStorage=function(){n.storageService.clear()},e.apiReset=function(){n.alfrescoApiService.reset()},window.adf=e},e.decorators=[{type:A.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:B},{type:H},{type:we}]},e.ngInjectableDef=A.defineInjectable({factory:function(){return new e(A.inject(B),A.inject(H),A.inject(we))},token:e,providedIn:"root"}),e}(),fa=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[S.CommonModule,pe,D.TranslateModule.forChild(),He],declarations:[Ze],exports:[Ze],entryComponents:[Ze]}]}],e}(),ma=function(){function e(){this._value="",this._isCustom=!1}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e||"settings",this._isCustom=this._value.includes(":")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCustom",{get:function(){return this._isCustom},enumerable:!0,configurable:!0}),e.decorators=[{type:A.Component,args:[{selector:"adf-icon",template:'<ng-container *ngIf="isCustom; else: default">\n  <mat-icon [color]="color" [svgIcon]="value"></mat-icon>\n</ng-container>\n\n<ng-template #default>\n  <mat-icon [color]="color">{{ value }}</mat-icon>\n</ng-template>\n',encapsulation:A.ViewEncapsulation.None,changeDetection:A.ChangeDetectionStrategy.OnPush,host:{"class":"adf-icon"},styles:[".adf-icon{display:inline-flex;vertical-align:middle}"]}]}],e.propDecorators={color:[{type:A.Input}],value:[{type:A.Input}]},e}(),ha=function(){function e(){}return e.decorators=[{type:A.NgModule,args:[{imports:[S.CommonModule,E.MatIconModule],declarations:[ma],exports:[ma],providers:[_e]}]}],e}(),ga=function ls(){},ya=function cs(e){e&&(this.provider=e.provider,this.url=e.url||null)},va=function(n){function e(e){var t=n.call(this,e)||this;return e&&(t.count=e.count,t.hasMoreItems=!!e.hasMoreItems&&e.hasMoreItems,t.merge=!!e.merge&&e.merge,t.totalItems=e.totalItems,t.skipCount=e.skipCount,t.maxItems=e.maxItems),t}return _(e,n),e}(I.Pagination),ba=function us(e){this.merge=!1,e&&Object.assign(this,e)},Ea=function(){function e(){}return e.prototype.login=function(e,t){return new Promise(function(e){e("TICKET_4479f4d3bb155195879bfbb8d5206f433488a1b1")})},e.prototype.logout=function(){return new Promise(function(e){e("logout")})},e.prototype.changeConfig=function(){},e}(),Ia=function(n){function e(e){var t=n.call(this,e)||this;return t.config={application:{name:"Alfresco ADF Application"},ecmHost:"http://{hostname}{:port}/ecm",bpmHost:"http://{hostname}{:port}/bpm",logLevel:"silent"},t}return _(e,n),e.prototype.load=function(){var t=this;return new Promise(function(e){t.onLoadSubject.next(t.config),e(t.config)})},e.decorators=[{type:A.Injectable}],e.ctorParameters=function(){return[{type:w.HttpClient}]},e}(B),wa=function(){function e(){this.redirectUrl=null}return e.prototype.setRedirectUrl=function(e){this.redirectUrl=e},e.prototype.getRedirectUrl=function(){return this.redirectUrl?this.redirectUrl.url:null},e.prototype.login=function(e,t){return"fake-username"===e&&"fake-password"===t?C.of({type:"type",ticket:"ticket"}):"fake-username-CORS-error"===e&&"fake-password"===t?C.throwError({error:{crossDomain:!0,message:"ERROR: the network is offline, Origin is not allowed by Access-Control-Allow-Origin"}}):"fake-username-CSRF-error"===e&&"fake-password"===t?C.throwError({message:"ERROR: Invalid CSRF-token",status:403}):"fake-username-ECM-access-error"===e&&"fake-password"===t?C.throwError({message:"ERROR: 00170728 Access Denied.  The system is currently in read-only mode",status:403}):C.throwError("Fake server error")},e}(),Ca={apps:[],capabilities:"fake-capability",company:"fake-company",created:"fake-create-date",email:"fakeBpm@fake.com",externalId:"fake-external-id",firstName:"fake-first-name",lastName:"fake-last-name",groups:[],id:"fake-id",lastUpdate:"fake-update-date",latestSyncTimeStamp:"fake-timestamp",password:"fake-password",pictureId:undefined,status:"fake-status",tenantId:"fake-tenant-id",tenantName:"fake-tenant-name",tenantPictureId:"fake-tenant-picture-id",type:"fake-type"},Ta={id:1,email:"fake-email@dom.com",firstName:"firstName",lastName:"lastName"},Sa={size:2,total:2,start:0,data:[{id:1,message:"fake-message-1",created:"",createdBy:Ta},{id:2,message:"fake-message-2",created:"",createdBy:Ta}]},Aa=new _r({id:1,message:"Test",created:new Date("2016-11-10T03:37:30.010+0000"),createdBy:new Pr({id:13,firstName:"Wilbur",lastName:"Adams",email:"wilbur@app.com"})}),Oa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _(t,e),t.prototype.isEnabled=function(){return!0},t.prototype.getItem=function(e){return this[e]&&this[e].data||null},t.prototype.setItem=function(e,t,n,i){this[e]={data:t,expiration:n,path:i}},t.prototype.clear=function(){var t=this;Object.keys(this).forEach(function(e){t.hasOwnProperty(e)&&"function"!=typeof t[e]&&(t[e]=undefined)})},t}(G),Da=function(){function e(){}return e.keyDown=function(e){var t=document.createEvent("Event");t.keyCode=e,t.initEvent("keydown"),document.dispatchEvent(t)},e.keyUp=function(e){var t=document.createEvent("Event");t.keyCode=e,t.initEvent("keyup"),document.dispatchEvent(t)},e.resizeMobileView=function(){window.dispatchEvent(new Event("resize"))},e}(),Ra={list:{pagination:{count:1,hasMoreItems:!1,totalItems:1,skipCount:0,maxItems:100},entries:[{entry:{id:"123",name:"MyDoc",content:{mimetype:"text/plain"},createdByUser:{displayName:"John Doe"},modifiedByUser:{displayName:"John Doe"}}}]}},xa={core:{queriesApi:{findNodes:function(e,t){return Promise.resolve(Ra)}}}},_a=function(){function e(){this.defaultLang="en",this.translate={onLangChange:new A.EventEmitter}}return e.prototype.addTranslationFolder=function(){},e.prototype.onTranslationChanged=function(){},e.prototype.use=function(){},e.prototype.loadTranslation=function(){},e.prototype.get=function(e,t){return C.of(e)},e.prototype.instant=function(e,t){return e},e}(),Pa=function(n){function e(e){var t=n.call(this,e)||this;return t.appConfig=e,t.alfrescoApi||t.initAlfrescoApi(),t}return _(e,n),e.decorators=[{type:A.Injectable}],e.ctorParameters=function(){return[{type:B}]},e}(H),ka=new io({}),La=this,Ma=T.TestBed.resetTestingModule;
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Fa(e){return function(){return e.load()}}var Na=function(){function e(e){e.addTranslationFolder("adf-core","assets/adf-core")}return e.forRoot=function(){return{ngModule:e,providers:[D.TranslateStore,D.TranslateService,{provide:D.TranslateLoader,useClass:Zr},{provide:A.APP_INITIALIZER,useFactory:Fa,deps:[H],multi:!0}]}},e.forChild=function(){return{ngModule:e}},e.decorators=[{type:A.NgModule,args:[{imports:[D.TranslateModule,R.ExtensionsModule.forChild(),Gt,fn,Rr,He,S.CommonModule,tt,fa,O.FormsModule,O.ReactiveFormsModule,Sn,Cn,pe,Di,Dn,dn,Ie,Si,hr,Fr,Vn,jn,$n,Ht,Bt,Vr,Gr,ha,jr],exports:[Gt,fn,Rr,He,S.CommonModule,tt,fa,Ut,O.FormsModule,O.ReactiveFormsModule,Sn,Cn,pe,Di,Dn,dn,Ie,Si,hr,Fr,Vn,jn,$n,Ht,Bt,D.TranslateModule,Vr,Gr,jr,ha]}]}],e.ctorParameters=function(){return[{type:Ae}]},e}();e.AboutComponent=ce,e.AboutModule=Gt,e.ViewUtilService=Yt,e.ViewerComponent=Kt,e.ImgViewerComponent=Jt,e.MediaPlayerComponent=Qt,e.PdfViewerComponent=tn,e.PdfThumbListComponent=nn,e.PdfThumbComponent=on,e.TxtViewerComponent=rn,e.UnknownFormatComponent=an,e.ViewerMoreActionsComponent=qt,e.ViewerOpenWithComponent=Wt,e.ViewerSidebarComponent=$t,e.ViewerToolbarComponent=Xt,e.ViewerToolbarActionsComponent=sn,e.ViewerExtensionDirective=ln,e.ViewerModule=fn,e.UserInfoComponent=In,e.BpmUserService=hn,e.EcmUserService=yn,e.IdentityUserService=En,e.BpmUserModel=mn,e.EcmUserModel=gn,e.IdentityUserModel=vn,e.IdentityRoleModel=wn,e.UserInfoModule=Cn,e.ToolbarDividerComponent=cn,e.ToolbarTitleComponent=un,e.ToolbarComponent=pn,e.ToolbarModule=dn,e.HostSettingsComponent=Tn,e.HostSettingsModule=Sn,e.PaginationComponent=An,e.InfinitePaginationComponent=On,e.PaginationModule=Dn,e.LoginHeaderDirective=Ln,e.LoginFooterDirective=Mn,e.LoginComponent=kn,e.LoginDialogComponent=Fn,e.LoginDialogPanelComponent=Nn,e.LoginErrorEvent=Rn,e.LoginSubmitEvent=xn,e.LoginSuccessEvent=_n,e.LoginModule=Vn,e.LanguageMenuComponent=Un,e.LanguageMenuModule=jn,e.InfoDrawerLayoutComponent=Bn,e.InfoDrawerTitleDirective=Hn,e.InfoDrawerButtonsDirective=Gn,e.InfoDrawerContentDirective=Yn,e.InfoDrawerTabComponent=zn,e.InfoDrawerComponent=qn,e.declarations=Wn,e.InfoDrawerModule=$n,e.DataColumnListComponent=ot,e.DataColumnComponent=it,e.DataColumnModule=Ht,e.DataRowEvent=mt,e.DataSorting=se,e.ObjectDataRow=re,e.ObjectDataTableAdapter=le,e.ObjectDataColumn=ae,e.DataCellEventModel=ht,e.DataCellEvent=gt,e.DataRowActionModel=yt,e.DataRowActionEvent=vt,e.DropZoneDirective=jt,e.DataTableCellComponent=nt,e.DisplayMode=bt,e.DataTableComponent=Et,e.DateCellComponent=It,e.EmptyListComponent=wt,e.EmptyListHeaderDirective=Ct,e.EmptyListBodyDirective=Tt,e.EmptyListFooterDirective=St,e.FileSizeCellComponent=At,e.LocationCellComponent=Ot,e.DataTableSchema=Xn,e.LoadingContentTemplateDirective=Dt,e.NoContentTemplateDirective=Rt,e.NoPermissionTemplateDirective=xt,e.CustomEmptyContentTemplateDirective=_t,e.CustomLoadingContentTemplateDirective=Pt,e.CustomNoPermissionTemplateDirective=kt,e.DataTableModule=Bt,e.ContextMenuHolderComponent=fe,e.ContextMenuDirective=Ee,e.ContextMenuService=de,e.ContextMenuOverlayService=be,e.ContextMenuModule=Ie,e.CardViewComponent=Kn,e.CardViewBoolItemComponent=Zn,e.CardViewDateItemComponent=ni,e.CardViewMapItemComponent=ii,e.CardViewTextItemComponent=oi,e.CardViewSelectItemComponent=ri,e.CardViewKeyValuePairsItemComponent=ai,e.CardViewItemIntValidator=fi,e.CardViewItemFloatValidator=mi,e.CardViewBaseItemModel=hi,e.CardViewBoolItemModel=gi,e.CardViewDateItemModel=yi,e.CardViewDatetimeItemModel=vi,e.CardViewFloatItemModel=Ei,e.CardViewIntItemModel=Ii,e.CardViewMapItemModel=wi,e.CardViewTextItemModel=bi,e.CardViewKeyValuePairsItemModel=Ci,e.CardViewSelectItemModel=Ti,e.CardItemTypeService=ui,e.transformKeyToObject=Jn,e.CardViewUpdateService=Qn,e.CardViewContentProxyDirective=pi,e.CardViewModule=Si,e.AppConfigValues=U,e.Status=j,e.AppConfigService=B,e.DebugAppConfigService=Ai,e.AppConfigPipe=Oi,e.AppConfigModule=Di,e.FormBaseComponent=or,e.FormListComponent=rr,e.ContentWidgetComponent=ar,e.FormRendererComponent=sr,e.WIDGET_DIRECTIVES=nr,e.MASK_DIRECTIVE=ir,e.baseHost=lo,e.WidgetComponent=co,e.FormFieldTypes=xi,e.FormWidgetModel=_i,e.FormFieldModel=$i,e.FormModel=io,e.ContainerModel=Zi,e.ContainerColumnModel=Pi,e.TabModel=to,e.FormOutcomeModel=eo,e.FormOutcomeEvent=oo,e.RequiredFieldValidator=Li,e.NumberFieldValidator=Mi,e.DateFieldValidator=Fi,e.MinDateFieldValidator=Ni,e.MaxDateFieldValidator=Vi,e.MinDateTimeFieldValidator=Ui,e.MaxDateTimeFieldValidator=ji,e.MinLengthFieldValidator=Bi,e.MaxLengthFieldValidator=Hi,e.MinValueFieldValidator=Gi,e.MaxValueFieldValidator=Yi,e.RegExFieldValidator=zi,e.FixedValueFieldValidator=qi,e.FORM_FIELD_VALIDATORS=Wi,e.ContentLinkModel=ro,e.ErrorMessageModel=ki,e.TabsWidgetComponent=fo,e.ContainerWidgetComponent=po,e.UnknownWidgetComponent=mo,e.TextWidgetComponent=Xo,e.NumberWidgetComponent=Go,e.CheckboxWidgetComponent=go,e.MultilineTextWidgetComponentComponent=Ho,e.DropdownWidgetComponent=Io,e.HyperlinkWidgetComponent=Bo,e.RadioButtonsWidgetComponent=qo,e.DisplayTextWidgetComponentComponent=bo,e.UploadWidgetComponent=Qo,e.TypeaheadWidgetComponent=Ko,e.FunctionalGroupWidgetComponent=jo,e.PeopleWidgetComponent=zo,e.DateWidgetComponent=vo,e.AmountWidgetComponent=ho,e.DynamicTableWidgetComponent=Ro,e.ErrorWidgetComponent=Uo,e.DocumentWidgetComponent=Eo,e.DateTimeWidgetComponent=tr,e.DynamicTableModel=Do,e.RowEditorComponent=No,e.DateEditorComponent=Po,e.DropdownEditorComponent=Fo,e.BooleanEditorComponent=xo,e.TextEditorComponent=Vo,e.DateTimeEditorComponent=Mo,e.CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR=Wo,e.InputMaskDirective=$o,e.ActivitiContentService=lr,e.EcmModelService=ao,e.FormRenderingService=cr,e.FormService=so,e.NodeService=pr,e.ProcessContentService=Jo,e.WidgetVisibilityService=wo,e.FormEvent=Xi,e.FormErrorEvent=dr,e.FormFieldEvent=Ki,e.ValidateFormFieldEvent=Ji,e.ValidateFormEvent=Qi,e.ValidateDynamicTableRowEvent=Co,e.FormBaseModule=hr,e.SidenavLayoutComponent=br,e.LayoutModule=Rr,e.SidenavLayoutModule=Rr,e.CommentListComponent=xr,e.CommentsComponent=Mr,e.CommentsModule=Fr,e.ButtonsMenuComponent=Nr,e.ButtonsMenuModule=Vr,e.SortingPickerComponent=Ur,e.SortingPickerModule=jr,e.ErrorContentComponent=Br,e.EmptyContentComponent=Hr,e.TemplateModule=Gr,e.FileSizePipe=Oe,e.MimeTypeIconPipe=Pe,e.NodeNameTooltipPipe=ke,e.HighlightPipe=Me,e.TimeAgoPipe=Fe,e.InitialUsernamePipe=Ne,e.FullNamePipe=Ve,e.MultiValuePipe=Be,e.PipeModule=He,e.AuthGuardBase=Yr,e.AuthenticationService=$,e.AlfrescoApiService=H,e.ContentService=xe,e.AuthGuard=zr,e.AuthGuardEcm=qr,e.AuthGuardBpm=Wr,e.AuthGuardSsoRoleService=$r,e.AppsProcessService=Xr,e.PageTitleService=Kr,e.StorageService=we,e.CookieService=G,e.RenditionsService=Jr,e.NotificationService=Mt,e.LogService=q,e.TRANSLATION_PROVIDER=Se,e.TranslationService=Ae,e.TranslateLoaderService=Zr,e.ThumbnailService=_e,e.UploadService=ea,e.DynamicComponentResolver=li,e.DynamicComponentMapper=ci,e.UserPreferenceValues=Ce,e.UserPreferencesService=Te,e.HighlightTransformService=Le,e.DeletedNodesApiService=ta,e.FavoritesApiService=na,e.NodesApiService=ia,e.PeopleContentService=oa,e.PeopleProcessService=Yo,e.SearchService=aa,e.SharedLinksApiService=sa,e.SitesService=la,e.DiscoveryApiService=te,e.CommentProcessService=kr,e.SearchConfigurationService=ra,e.CommentContentService=Lr,e.LoginDialogService=ca,e.ExternalAlfrescoApiService=ua,e.JwtHelperService=bn,e.DownloadZipService=Qe,e.LockService=pa,e.CoreAutomationService=da,e.PreviousRouteService=zt,e.HighlightDirective=Ge,e.LogoutDirective=Ye,e.NodeDeleteDirective=ze,e.NodeFavoriteDirective=qe,e.CheckAllowableOperationDirective=$e,e.RestoreMessageModel=Xe,e.NodeRestoreDirective=Ke,e.NodeDownloadDirective=et,e.UploadDirective=Je,e.DirectiveModule=tt,e.ClipboardDirective=Nt,e.ClipboardComponent=Vt,e.ClipboardService=Ft,e.ClipboardModule=Ut,e.DownloadZipDialogComponent=Ze,e.DialogModule=fa,e.IconComponent=ma,e.IconModule=ha,e.ObjectUtils=V,e.FileUtils=ne,e.MOMENT_DATE_FORMATS=ie,e.MomentDateAdapter=oe,e.EXTENDIBLE_COMPONENT=We,e.FileUploadOptions=st,e.FileUploadStatus=lt,e.FileModel=ct,e.AllowableOperationsEnum=Re,e.PermissionsEnum=De,e.BpmProductVersionModel=X,e.VersionModel=K,e.LicenseModel=J,e.VersionStatusModel=Q,e.VersionModuleModel=Z,e.EcmProductVersionModel=ee,e.UserProcessModel=Pr,e.CommentModel=_r,e.EcmCompanyModel=ga,e.RedirectionModel=ya,e.PaginationModel=va,e.RequestPaginationModel=ba,e.BaseEvent=rt,e.BaseUIEvent=at,e.FileUploadEvent=ut,e.FileUploadCompleteEvent=pt,e.FileUploadDeleteEvent=dt,e.FileUploadErrorEvent=ft,e.AlfrescoApiMock=Ea,e.AppConfigServiceMock=Ia,e.fakeApps={size:2,total:2,start:0,data:[{id:1,defaultAppId:null,name:"Sales-Fakes-App",description:"desc-fake1",modelId:22,theme:"theme-1-fake",icon:"glyphicon-asterisk",deploymentId:"111",tenantId:null},{id:2,defaultAppId:null,name:"health-care-Fake",description:"desc-fake2",modelId:33,theme:"theme-2-fake",icon:"glyphicon-asterisk",deploymentId:"444",tenantId:null}]},e.AuthenticationMock=wa,e.fakeBpmUserNoImage=Ca,e.fakeBpmUser={apps:[],capabilities:null,company:"fake-company",created:"fake-create-date",email:"fakeBpm@fake.com",externalId:"fake-external-id",firstName:"fake-bpm-first-name",lastName:"fake-bpm-last-name",groups:[],id:"fake-id",lastUpdate:"fake-update-date",latestSyncTimeStamp:"fake-timestamp",password:"fake-password",pictureId:12,status:"fake-status",tenantId:"fake-tenant-id",tenantName:"fake-tenant-name",tenantPictureId:"fake-tenant-picture-id",type:"fake-type"},e.fakeBpmEditedUser={apps:[],capabilities:"fake-capability",company:"fake-company",created:"fake-create-date",email:"fakeBpm@fake.com",externalId:"fake-external-id",firstName:"fake-first-name",lastName:"fake-last-name",groups:[],id:"fake-id",lastUpdate:"fake-update-date",latestSyncTimeStamp:"fake-timestamp",password:"fake-password",pictureId:"src/assets/images/bpmImg.gif",status:"fake-status",tenantId:"fake-tenant-id",tenantName:"fake-tenant-name",tenantPictureId:"fake-tenant-picture-id",type:"fake-type"},e.fakeUser1=Ta,e.fakeUser2={id:1001,email:"some-one@somegroup.com",firstName:"some",lastName:"one"},e.fakeTasksComment=Sa,e.fakeProcessComment=Aa,e.CookieServiceMock=Oa,e.fakeEcmCompany={organization:"company-fake-name",address1:"fake-address-1",address2:"fake-address-2",address3:"fake-address-3",postcode:"fAk1",telephone:"00000000",fax:"11111111",email:"fakeCompany@fake.com"},e.fakeEcmUser={id:"fake-id",firstName:"fake-ecm-first-name",lastName:"fake-ecm-last-name",description:"i am a fake user for test",avatarId:"fake-avatar-id",email:"fakeEcm@ecmUser.com",skypeId:"fake-skype-id",googleId:"fake-googleId-id",instantMessageId:"fake-instantMessageId-id",company:null,jobTitle:"job-ecm-test",location:"fake location",mobile:"000000000",telephone:"11111111",statusUpdatedAt:"fake-date",userStatus:"active",enabled:!0,emailNotificationsEnabled:!0},e.fakeEcmUserNoImage={id:"fake-id",firstName:"fake-first-name",lastName:"fake-last-name",description:"i am a fake user for test",avatarId:null,email:"fakeEcm@ecmUser.com",skypeId:"fake-skype-id",googleId:"fake-googleId-id",instantMessageId:"fake-instantMessageId-id",company:null,jobTitle:null,location:"fake location",mobile:"000000000",telephone:"11111111",statusUpdatedAt:"fake-date",userStatus:"active",enabled:!0,emailNotificationsEnabled:!0},e.fakeEcmEditedUser={id:"fake-id",firstName:null,lastName:"fake-last-name",description:"i am a fake user for test",avatarId:"fake-avatar-id",email:"fakeEcm@ecmUser.com",skypeId:"fake-skype-id",googleId:"fake-googleId-id",instantMessageId:"fake-instantMessageId-id",company:null,jobTitle:"test job",location:"fake location",mobile:"000000000",telephone:"11111111",statusUpdatedAt:"fake-date",userStatus:"active",enabled:!0,emailNotificationsEnabled:!0},e.EventMock=Da,e.fakeRendition={entry:{id:"pdf",content:{mimeType:"application/pdf",mimeTypeName:"Adobe PDF Document"},status:"NOT_CREATED"}},e.fakeRenditionCreated={entry:{id:"pdf",content:{mimeType:"application/pdf",mimeTypeName:"Adobe PDF Document"},status:"CREATED"}},e.fakeRenditionsList={list:{pagination:{count:6,hasMoreItems:!1,totalItems:6,skipCount:0,maxItems:100},entries:[{entry:{id:"avatar",content:{mimeType:"image/png",mimeTypeName:"PNG Image"},status:"NOT_CREATED"}},{entry:{id:"avatar32",content:{mimeType:"image/png",mimeTypeName:"PNG Image"},status:"NOT_CREATED"}},{entry:{id:"doclib",content:{mimeType:"image/png",mimeTypeName:"PNG Image"},status:"NOT_CREATED"}},{entry:{id:"imgpreview",content:{mimeType:"image/jpeg",mimeTypeName:"JPEG Image"},status:"NOT_CREATED"}},{entry:{id:"medium",content:{mimeType:"image/jpeg",mimeTypeName:"JPEG Image"},status:"NOT_CREATED"}},{entry:{id:"pdf",content:{mimeType:"application/pdf",mimeTypeName:"Adobe PDF Document"},status:"NOT_CREATED"}}]}},e.fakeRenditionsListWithACreated={list:{pagination:{count:6,hasMoreItems:!1,totalItems:6,skipCount:0,maxItems:100},entries:[{entry:{id:"avatar",content:{mimeType:"image/png",mimeTypeName:"PNG Image"},status:"NOT_CREATED"}},{entry:{id:"avatar32",content:{mimeType:"image/png",mimeTypeName:"PNG Image"},status:"NOT_CREATED"}},{entry:{id:"doclib",content:{mimeType:"image/png",mimeTypeName:"PNG Image"},status:"NOT_CREATED"}},{entry:{id:"imgpreview",content:{mimeType:"image/jpeg",mimeTypeName:"JPEG Image"},status:"NOT_CREATED"}},{entry:{id:"medium",content:{mimeType:"image/jpeg",mimeTypeName:"JPEG Image"},status:"NOT_CREATED"}},{entry:{id:"pdf",content:{mimeType:"application/pdf",mimeTypeName:"Adobe PDF Document"},status:"CREATED"}}]}},e.fakeSearch=Ra,e.mockError={error:{errorKey:"Search failed",statusCode:400,briefSummary:"08220082 search failed",stackTrace:"For security reasons the stack trace is no longer displayed, but the property is kept for previous versions.",descriptionURL:"https://api-explorer.alfresco.com"}},e.searchMockApi=xa,e.TranslationMock=_a,e.AlfrescoApiServiceMock=Pa,e.fakeForm={id:1001,name:"ISSUE_FORM",processDefinitionId:"ISSUE_APP:1:2504",processDefinitionName:"ISSUE_APP",processDefinitionKey:"ISSUE_APP",taskId:"7506",taskDefinitionKey:"sid-F67A2996-1684-4774-855A-4591490081FD",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1498212398417",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"label",name:"Label",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"test1"},{id:"option_2",name:"test2"},{id:"option_3",name:"test3"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[{fieldType:"RestFieldRepresentation",id:"radio",name:"radio",type:"radio-buttons",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:[{id:"option_1",name:"Option 1"},{id:"option_2",name:"Option 2"},{id:"option_3",name:"Option 3"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:2,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}]}},{fieldType:"ContainerRepresentation",id:"1498212413062",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"date",name:"date",type:"date",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formDefinitionTwoTextFields={id:20,name:"formTextDefinition",processDefinitionId:"textDefinition:1:153",processDefinitionName:"textDefinition",processDefinitionKey:"textDefinition",taskId:"159",taskDefinitionKey:"sid-D941F49F-2B04-4FBB-9B49-9E95991993E8",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1507044399260",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"firstname",name:"firstName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"lastname",name:"lastName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formDefinitionDropdownField={id:21,name:"dropdownDefinition",processDefinitionId:"textDefinition:2:163",processDefinitionName:"textDefinition",processDefinitionKey:"textDefinition",taskId:"169",taskDefinitionKey:"sid-D941F49F-2B04-4FBB-9B49-9E95991993E8",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1507046026940",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"country",name:"country",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"united kingdom"},{id:"option_2",name:"italy"},{id:"option_3",name:"france"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formDefinitionRequiredField={id:21,name:"dropdownDefinition",processDefinitionId:"textDefinition:2:163",processDefinitionName:"textDefinition",processDefinitionKey:"textDefinition",taskId:"169",taskDefinitionKey:"sid-D941F49F-2B04-4FBB-9B49-9E95991993E8",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1507046026940",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"country",name:"country",type:"dropdown",value:"Choose one...",required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"united kingdom"},{id:"option_2",name:"italy"},{id:"option_3",name:"france"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formReadonlyTwoTextFields={id:22,name:"formTextDefinition",processDefinitionId:"textDefinition:3:182",processDefinitionName:"textDefinition",processDefinitionKey:"textDefinition",taskId:"188",taskDefinitionKey:"sid-D941F49F-2B04-4FBB-9B49-9E95991993E8",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1507044399260",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"firstname",name:"firstName",type:"readonly",value:"fakeFirstName",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2,field:{id:"firstname",name:"firstName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:0,sizeY:0,row:0,col:0,visibilityCondition:null}},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"lastname",name:"lastName",type:"readonly",value:"fakeLastName",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1,field:{id:"lastname",name:"lastName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:0,sizeY:0,row:0,col:0,visibilityCondition:null}},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formDefVisibilitiFieldDependsOnNextOne={id:19,processDefinitionId:"visibility:1:148",processDefinitionName:"visibility",processDefinitionKey:"visibility",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1506960847579",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"country",name:"country",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"france"},{id:"option_2",name:"uk"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:{leftFormFieldId:"name",leftRestResponseId:null,operator:"==",rightValue:"italy",rightType:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"",nextCondition:null},endpoint:null,requestHeaders:null}],2:[{fieldType:"FormFieldRepresentation",id:"name",name:"name",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formDefVisibilitiFieldDependsOnPreviousOne={id:19,processDefinitionId:"visibility:1:148",processDefinitionName:"visibility",processDefinitionKey:"visibility",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1506960847579",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"name",name:"name",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"RestFieldRepresentation",id:"country",name:"country",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"france"},{id:"option_2",name:"uk"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:{leftFormFieldId:"name",leftRestResponseId:null,operator:"==",rightValue:"italy",rightType:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"",nextCondition:null},endpoint:null,requestHeaders:null}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.startFormDateWidgetMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"FormFieldRepresentation",id:"date",name:"date",type:"date",value:null}]}}]},e.startFormNumberWidgetMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"FormFieldRepresentation",id:"number",name:"number widget",type:"integer",value:null}]}}]},e.startFormAmountWidgetMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"FormFieldRepresentation",id:"amount",name:"amount widget",type:"amount",value:null}]}}]},e.startFormRadioButtonWidgetMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"RestFieldRepresentation",id:"radio-but",name:"radio-buttons",type:"radio-buttons",value:null}]}}]},e.startFormTextDefinitionMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"FormFieldRepresentation",id:"mocktext",name:"mockText",type:"text",value:null}]}}]},e.startFormDropdownDefinitionMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"RestFieldRepresentation",id:"mockTypeDropDown",name:"mock DropDown",type:"dropdown",value:"Chooseone...",required:!1,readOnly:!1,overrideId:!1,options:[{id:"empty",name:"Chooseone..."},{id:"opt1",name:"Option-1"},{id:"opt2",name:"Option-2"},{id:"opt3",name:"Option-3"},{id:"opt2",name:"Option-3"}]}]}}]},e.startMockForm={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",processDefinitionName:"ClaimReviewProcess",processDefinitionKey:"ClaimReviewProcess",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"clientname",name:"ClientName",type:"text",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"policyno",name:"PolicyNo",type:"integer",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterPolicyName",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:1497953270269,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"billAmount",name:"BillAmount",type:"integer",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterBillAmount",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"billdate",name:"BillDate",type:"date",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:"billdate",params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:1497953280930,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"claimtype",name:"ClaimType",type:"dropdown",value:"Chooseone...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Chooseone..."},{id:"cashless",name:"Cashless"},{id:"reimbursement",name:"Reimbursement"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[{fieldType:"FormFieldRepresentation",id:"hospitalName",name:"HospitalName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterHospitalName",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}}],outcomes:[{id:"approve",name:"Approve"},{id:"complete",name:"Complete"},{id:"start_process",name:"Start Process"}],javascriptEvents:[],className:"",style:"",metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D - M - YYYY"},e.startMockFormWithTab={id:4,taskName:"Mock Title",processDefinitionId:"ClaimReviewProcess:2: 93",processDefinitionName:"ClaimReviewProcess",processDefinitionKey:"ClaimReviewProcess",tabs:[{id:"form1",name:"Tab 1"},{id:"form2",name:"Tab 2"}],fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"clientname",name:"ClientName",type:"text",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"policyno",name:"PolicyNo",type:"integer",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterPolicyName",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:1497953270269,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"billAmount",name:"BillAmount",type:"integer",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterBillAmount",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"billdate",name:"BillDate",type:"date",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:"billdate",params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:1497953280930,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"claimtype",name:"ClaimType",type:"dropdown",value:"Chooseone...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Chooseone..."},{id:"cashless",name:"Cashless"},{id:"reimbursement",name:"Reimbursement"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[{fieldType:"FormFieldRepresentation",id:"hospitalName",name:"HospitalName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterHospitalName",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}}],outcomes:[{id:"approve",name:"Approve"},{id:"complete",name:"Complete"}],javascriptEvents:[],className:"",style:"",metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D - M - YYYY"},e.formModelTabs={id:16,name:"start event",description:"",version:2,lastUpdatedBy:4,lastUpdatedByFullName:"User Test",lastUpdated:"2017-10-04T13:00:03.030+0000",stencilSetId:null,referenceId:null,formDefinition:{tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1507037668653",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"AmountFieldRepresentation",id:"label",name:"Label",type:"amount",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,enableFractions:!1,currency:null}],2:[{fieldType:"FormFieldRepresentation",id:"label1",name:"Label1",type:"date",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:"1507037670167",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label2",name:"Label2",type:"boolean",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1}},e.formTest=ka,e.fakeTaskProcessVariableModels=[{id:"TEST_VAR_1",type:"string",value:"test_value_1"},{id:"TEST_VAR_2",type:"string",value:"test_value_2"},{id:"TEST_VAR_3",type:"string",value:"test_value_3"}],e.formValues={test_1:"value_1",test_2:"value_2",test_3:"value_1",test_4:"dropdown_id",test_5:"dropdown_label",dropdown:{id:"dropdown_id",name:"dropdown_label"}},e.fakeFormJson={id:"9999",name:"FORM_VISIBILITY",processDefinitionId:"PROCESS_TEST:9:9999",processDefinitionName:"PROCESS_TEST",processDefinitionKey:"PROCESS_TEST",taskId:"999",taskName:"TEST",fields:[{fieldType:"ContainerRepresentation",id:"000000000000000000",name:"Label",type:"container",value:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"FIELD_TEST",name:"FIELD_TEST",type:"text",value:"RIGHT_FORM_FIELD_VALUE",visibilityCondition:null,isVisible:!0},{fieldType:"FormFieldRepresentation",id:"FIELD_WITH_CONDITION",name:"FIELD_WITH_CONDITION",type:"text",value:"field_with_condition_value",visibilityCondition:null,isVisible:!0},{fieldType:"FormFieldRepresentation",id:"LEFT_FORM_FIELD_ID",name:"LEFT_FORM_FIELD_NAME",type:"text",value:"LEFT_FORM_FIELD_VALUE",visibilityCondition:null,isVisible:!0}],2:[{fieldType:"FormFieldRepresentation",id:"RIGHT_FORM_FIELD_ID",name:"RIGHT_FORM_FIELD_NAME",type:"text",value:"RIGHT_FORM_FIELD_VALUE",visibilityCondition:null,isVisible:!0}]}}]},e.mockToken="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiZmFtaWx5X25hbWUiOiJEb2UiLCJnaXZlbl9uYW1lIjoiSm9obiIsImFkbWluIjp0cnVlLCJlbWFpbCI6ImpvaG5Eb2VAZ21haWwuY29tIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiam9obkRvZTEiLCJqdGkiOiI2MmQ3YjA4NS1hNTJjLTRjZmEtYjA2Zi1hODFhN2IwNjRjZDIiLCJpYXQiOjE1NDM0MTA0NzcsImV4cCI6MTU0MzQxNTIxM30.pSP86kmX3keuU5E3ndaOUq2TzKdJRsuMnBdFz3Y-UEU",e.setupTestBed=function(t){beforeAll(function(e){return k(La,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:return localStorage.clear(),sessionStorage.clear(),Ma(),T.TestBed.resetTestingModule=function(){return T.TestBed},T.TestBed.configureTestingModule(t),[4,T.TestBed.compileComponents()];case 1:return e.sent(),T.TestBed.resetTestingModule=function(){return T.TestBed},[2]}})}).then(e)["catch"](e.fail)}),afterAll(function(){return T.TestBed.resetTestingModule=Ma})},e.CoreModule=Na,e.a=di,e.e=ge,e.d=ye,e.f=me,e.g=he,e.j=Lt,e.m=no,e.p=fr,e.o=mr,e.n=So,e.bb=Dr,e.t=Cr,e.x=Tr,e.y=Sr,e.ba=Or,e.z=Ar,e.s=gr,e.q=yr,e.r=vr,e.v=Ir,e.w=wr,e.u=Er,e.c=pe,e.b=ue,e.i=je,e.h=Ue,e.bc=si,e.bd=Fa,e.l=en,e.k=Zt,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=adf-core.umd.min.js.map