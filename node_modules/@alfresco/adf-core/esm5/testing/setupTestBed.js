var _this = this;
/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
/*!
 * @license
 * Copyright 2019 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
import { TestBed } from '@angular/core/testing';
/**
 * @record
 */
function DoneFn() { }
if (false) {
    /** @type {?} */
    DoneFn.prototype.fail;
    /* Skipping unhandled member: (): void;*/
}
/** @type {?} */
var resetTestingModule = TestBed.resetTestingModule;
/** @type {?} */
var preventAngularFromResetting = (/**
 * @return {?}
 */
function () { return (TestBed.resetTestingModule = (/**
 * @return {?}
 */
function () { return TestBed; })); });
var ɵ0 = preventAngularFromResetting;
/** @type {?} */
var allowAngularToReset = (/**
 * @return {?}
 */
function () { return (TestBed.resetTestingModule = resetTestingModule); });
var ɵ1 = allowAngularToReset;
/** @type {?} */
export var setupTestBed = (/**
 * @param {?} moduleDef
 * @return {?}
 */
function (moduleDef) {
    beforeAll((/**
     * @param {?} done
     * @return {?}
     */
    function (done) {
        return ((/**
         * @return {?}
         */
        function () { return tslib_1.__awaiter(_this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        localStorage.clear();
                        sessionStorage.clear();
                        resetTestingModule();
                        preventAngularFromResetting();
                        TestBed.configureTestingModule(moduleDef);
                        return [4 /*yield*/, TestBed.compileComponents()];
                    case 1:
                        _a.sent();
                        // prevent Angular from resetting testing module
                        TestBed.resetTestingModule = (/**
                         * @return {?}
                         */
                        function () { return TestBed; });
                        return [2 /*return*/];
                }
            });
        }); }))()
            .then(done)
            .catch(done.fail);
    }));
    afterAll((/**
     * @return {?}
     */
    function () { return allowAngularToReset(); }));
});
export { ɵ0, ɵ1 };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2V0dXBUZXN0QmVkLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlLyIsInNvdXJjZXMiOlsidGVzdGluZy9zZXR1cFRlc3RCZWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBaUJBLGlCQWlDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWpDQSxPQUFPLEVBQUUsT0FBTyxFQUFzQixNQUFNLHVCQUF1QixDQUFDOzs7O0FBRXBFLHFCQUdDOzs7SUFERyxzQkFBeUM7Ozs7SUFNdkMsa0JBQWtCLEdBQUcsT0FBTyxDQUFDLGtCQUFrQjs7SUFDL0MsMkJBQTJCOzs7QUFBRyxjQUFNLE9BQUEsQ0FBQyxPQUFPLENBQUMsa0JBQWtCOzs7QUFBRyxjQUFNLE9BQUEsT0FBTyxFQUFQLENBQU8sQ0FBQSxDQUFDLEVBQTVDLENBQTRDLENBQUE7OztJQUNoRixtQkFBbUI7OztBQUFHLGNBQU0sT0FBQSxDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsR0FBRyxrQkFBa0IsQ0FBQyxFQUFqRCxDQUFpRCxDQUFBOzs7QUFFbkYsTUFBTSxLQUFPLFlBQVk7Ozs7QUFBRyxVQUFDLFNBQTZCO0lBQ3RELFNBQVM7Ozs7SUFBQyxVQUFDLElBQUk7UUFDWCxPQUFBOzs7UUFBQzs7Ozt3QkFDRyxZQUFZLENBQUMsS0FBSyxFQUFFLENBQUM7d0JBQ3JCLGNBQWMsQ0FBQyxLQUFLLEVBQUUsQ0FBQzt3QkFDdkIsa0JBQWtCLEVBQUUsQ0FBQzt3QkFDckIsMkJBQTJCLEVBQUUsQ0FBQzt3QkFDOUIsT0FBTyxDQUFDLHNCQUFzQixDQUFDLFNBQVMsQ0FBQyxDQUFDO3dCQUMxQyxxQkFBTSxPQUFPLENBQUMsaUJBQWlCLEVBQUUsRUFBQTs7d0JBQWpDLFNBQWlDLENBQUM7d0JBRWxDLGdEQUFnRDt3QkFDaEQsT0FBTyxDQUFDLGtCQUFrQjs7O3dCQUFHLGNBQU0sT0FBQSxPQUFPLEVBQVAsQ0FBTyxDQUFBLENBQUM7Ozs7YUFDOUMsRUFBQyxFQUFFO2FBQ0MsSUFBSSxDQUFDLElBQUksQ0FBQzthQUNWLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBWnJCLENBWXFCLEVBQ3hCLENBQUM7SUFFRixRQUFROzs7SUFBQyxjQUFNLE9BQUEsbUJBQW1CLEVBQUUsRUFBckIsQ0FBcUIsRUFBQyxDQUFDO0FBQzFDLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFRlc3RCZWQsIFRlc3RNb2R1bGVNZXRhZGF0YSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUvdGVzdGluZyc7XG5cbmludGVyZmFjZSBEb25lRm4gZXh0ZW5kcyBGdW5jdGlvbiB7XG4gICAgKCk6IHZvaWQ7XG4gICAgZmFpbDogKG1lc3NhZ2U/OiBFcnJvciB8IHN0cmluZykgPT4gdm9pZDtcbn1cblxuZGVjbGFyZSBmdW5jdGlvbiBiZWZvcmVBbGwoYWN0aW9uOiAoZG9uZTogRG9uZUZuKSA9PiB2b2lkLCB0aW1lb3V0PzogbnVtYmVyKTogdm9pZDtcbmRlY2xhcmUgZnVuY3Rpb24gYWZ0ZXJBbGwoYWN0aW9uOiAoZG9uZTogRG9uZUZuKSA9PiB2b2lkLCB0aW1lb3V0PzogbnVtYmVyKTogdm9pZDtcblxuY29uc3QgcmVzZXRUZXN0aW5nTW9kdWxlID0gVGVzdEJlZC5yZXNldFRlc3RpbmdNb2R1bGU7XG5jb25zdCBwcmV2ZW50QW5ndWxhckZyb21SZXNldHRpbmcgPSAoKSA9PiAoVGVzdEJlZC5yZXNldFRlc3RpbmdNb2R1bGUgPSAoKSA9PiBUZXN0QmVkKTtcbmNvbnN0IGFsbG93QW5ndWxhclRvUmVzZXQgPSAoKSA9PiAoVGVzdEJlZC5yZXNldFRlc3RpbmdNb2R1bGUgPSByZXNldFRlc3RpbmdNb2R1bGUpO1xuXG5leHBvcnQgY29uc3Qgc2V0dXBUZXN0QmVkID0gKG1vZHVsZURlZjogVGVzdE1vZHVsZU1ldGFkYXRhKSA9PiB7XG4gICAgYmVmb3JlQWxsKChkb25lKSA9PlxuICAgICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpO1xuICAgICAgICAgICAgcmVzZXRUZXN0aW5nTW9kdWxlKCk7XG4gICAgICAgICAgICBwcmV2ZW50QW5ndWxhckZyb21SZXNldHRpbmcoKTtcbiAgICAgICAgICAgIFRlc3RCZWQuY29uZmlndXJlVGVzdGluZ01vZHVsZShtb2R1bGVEZWYpO1xuICAgICAgICAgICAgYXdhaXQgVGVzdEJlZC5jb21waWxlQ29tcG9uZW50cygpO1xuXG4gICAgICAgICAgICAvLyBwcmV2ZW50IEFuZ3VsYXIgZnJvbSByZXNldHRpbmcgdGVzdGluZyBtb2R1bGVcbiAgICAgICAgICAgIFRlc3RCZWQucmVzZXRUZXN0aW5nTW9kdWxlID0gKCkgPT4gVGVzdEJlZDtcbiAgICAgICAgfSkoKVxuICAgICAgICAgICAgLnRoZW4oZG9uZSlcbiAgICAgICAgICAgIC5jYXRjaChkb25lLmZhaWwpXG4gICAgKTtcblxuICAgIGFmdGVyQWxsKCgpID0+IGFsbG93QW5ndWxhclRvUmVzZXQoKSk7XG59O1xuIl19