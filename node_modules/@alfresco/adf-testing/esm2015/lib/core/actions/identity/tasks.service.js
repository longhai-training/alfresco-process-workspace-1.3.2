/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
/*!
 * @license
 * Copyright 2019 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
export class TasksService {
    /**
     * @param {?} api
     */
    constructor(api) {
        this.api = api;
    }
    /**
     * @param {?} taskName
     * @param {?} appName
     * @param {?=} options
     * @return {?}
     */
    createStandaloneTask(taskName, appName, options) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            /** @type {?} */
            const path = '/' + appName + '/rb/v1/tasks';
            /** @type {?} */
            const method = 'POST';
            /** @type {?} */
            const queryParams = {};
            /** @type {?} */
            const postBody = Object.assign({ 'name': taskName, 'payloadType': 'CreateTaskPayload' }, options);
            /** @type {?} */
            const data = yield this.api.performBpmOperation(path, method, queryParams, postBody);
            return data;
        });
    }
    /**
     * @param {?} taskId
     * @param {?} appName
     * @return {?}
     */
    completeTask(taskId, appName) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            /** @type {?} */
            const path = '/' + appName + '/rb/v1/tasks/' + taskId + '/complete';
            /** @type {?} */
            const method = 'POST';
            /** @type {?} */
            const queryParams = {};
            /** @type {?} */
            const postBody = { 'payloadType': 'CompleteTaskPayload' };
            /** @type {?} */
            const data = yield this.api.performBpmOperation(path, method, queryParams, postBody);
            return data;
        });
    }
    /**
     * @param {?} taskId
     * @param {?} appName
     * @return {?}
     */
    claimTask(taskId, appName) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            /** @type {?} */
            const path = '/' + appName + '/rb/v1/tasks/' + taskId + '/claim';
            /** @type {?} */
            const method = 'POST';
            /** @type {?} */
            const queryParams = {};
            /** @type {?} */
            const postBody = {};
            /** @type {?} */
            const data = yield this.api.performBpmOperation(path, method, queryParams, postBody);
            return data;
        });
    }
    /**
     * @param {?} taskId
     * @param {?} appName
     * @return {?}
     */
    deleteTask(taskId, appName) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            /** @type {?} */
            const path = '/' + appName + '/rb/v1/tasks/' + taskId;
            /** @type {?} */
            const method = 'DELETE';
            /** @type {?} */
            const queryParams = {};
            /** @type {?} */
            const postBody = {};
            /** @type {?} */
            const data = yield this.api.performBpmOperation(path, method, queryParams, postBody);
            return data;
        });
    }
    /**
     * @param {?} taskName
     * @param {?} appName
     * @return {?}
     */
    createAndCompleteTask(taskName, appName) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            /** @type {?} */
            const task = yield this.createStandaloneTask(taskName, appName);
            yield this.claimTask(task.entry.id, appName);
            yield this.completeTask(task.entry.id, appName);
            return task;
        });
    }
    /**
     * @param {?} taskId
     * @param {?} appName
     * @return {?}
     */
    getTask(taskId, appName) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            /** @type {?} */
            const path = '/' + appName + '/query/v1/tasks/' + taskId;
            /** @type {?} */
            const method = 'GET';
            /** @type {?} */
            const queryParams = {};
            /** @type {?} */
            const postBody = {};
            /** @type {?} */
            const data = yield this.api.performBpmOperation(path, method, queryParams, postBody);
            return data;
        });
    }
    /**
     * @param {?} taskName
     * @param {?} appName
     * @return {?}
     */
    getTaskId(taskName, appName) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            /** @type {?} */
            const path = '/' + appName + '/query/v1/tasks';
            /** @type {?} */
            const method = 'GET';
            /** @type {?} */
            const queryParams = { name: taskName };
            /** @type {?} */
            const postBody = {};
            /** @type {?} */
            const data = yield this.api.performBpmOperation(path, method, queryParams, postBody);
            return data.list.entries[0].entry.id;
        });
    }
    /**
     * @param {?} parentTaskId
     * @param {?} appName
     * @param {?} name
     * @return {?}
     */
    createStandaloneSubtask(parentTaskId, appName, name) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            /** @type {?} */
            const path = '/' + appName + '/rb/v1/tasks';
            /** @type {?} */
            const method = 'POST';
            /** @type {?} */
            const queryParams = {};
            /** @type {?} */
            const postBody = { 'name': name, 'parentTaskId': parentTaskId, 'payloadType': 'CreateTaskPayload' };
            /** @type {?} */
            const data = yield this.api.performBpmOperation(path, method, queryParams, postBody);
            return data;
        });
    }
}
if (false) {
    /** @type {?} */
    TasksService.prototype.api;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFza3Muc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BhbGZyZXNjby9hZGYtdGVzdGluZy8iLCJzb3VyY2VzIjpbImxpYi9jb3JlL2FjdGlvbnMvaWRlbnRpdHkvdGFza3Muc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFtQkEsTUFBTSxPQUFPLFlBQVk7Ozs7SUFJckIsWUFBWSxHQUFlO1FBQ3ZCLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO0lBQ25CLENBQUM7Ozs7Ozs7SUFFSyxvQkFBb0IsQ0FBQyxRQUFRLEVBQUUsT0FBTyxFQUFFLE9BQVE7OztrQkFDNUMsSUFBSSxHQUFHLEdBQUcsR0FBRyxPQUFPLEdBQUcsY0FBYzs7a0JBQ3JDLE1BQU0sR0FBRyxNQUFNOztrQkFFZixXQUFXLEdBQUcsRUFBRTs7a0JBQUUsUUFBUSxtQkFDNUIsTUFBTSxFQUFFLFFBQVEsRUFDaEIsYUFBYSxFQUFFLG1CQUFtQixJQUMvQixPQUFPLENBQ2I7O2tCQUVLLElBQUksR0FBRyxNQUFNLElBQUksQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsUUFBUSxDQUFDO1lBQ3BGLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7S0FBQTs7Ozs7O0lBRUssWUFBWSxDQUFDLE1BQU0sRUFBRSxPQUFPOzs7a0JBQ3hCLElBQUksR0FBRyxHQUFHLEdBQUcsT0FBTyxHQUFHLGVBQWUsR0FBRyxNQUFNLEdBQUcsV0FBVzs7a0JBQzdELE1BQU0sR0FBRyxNQUFNOztrQkFFZixXQUFXLEdBQUcsRUFBRTs7a0JBQUUsUUFBUSxHQUFHLEVBQUMsYUFBYSxFQUFFLHFCQUFxQixFQUFDOztrQkFFbkUsSUFBSSxHQUFHLE1BQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBRSxRQUFRLENBQUM7WUFDcEYs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QUFJLENBQUMsR0FBRyxDQUFDLG1CQUFtQixDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsV0FBVyxFQUFFLFFBQVEsQ0FBQztZQUNwRixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO0tBQUE7Q0FFSjs7O0lBdkZHLDJCQUFnQiIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEFwaVNlcnZpY2UgfSBmcm9tICcuLi9hcGkuc2VydmljZSc7XG5cbmV4cG9ydCBjbGFzcyBUYXNrc1NlcnZpY2Uge1xuXG4gICAgYXBpOiBBcGlTZXJ2aWNlO1xuXG4gICAgY29uc3RydWN0b3IoYXBpOiBBcGlTZXJ2aWNlKSB7XG4gICAgICAgIHRoaXMuYXBpID0gYXBpO1xuICAgIH1cblxuICAgIGFzeW5jIGNyZWF0ZVN0YW5kYWxvbmVUYXNrKHRhc2tOYW1lLCBhcHBOYW1lLCBvcHRpb25zPykge1xuICAgICAgICBjb25zdCBwYXRoID0gJy8nICsgYXBwTmFtZSArICcvcmIvdjEvdGFza3MnO1xuICAgICAgICBjb25zdCBtZXRob2QgPSAnUE9TVCc7XG5cbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7fSwgcG9zdEJvZHkgPSB7XG4gICAgICAgICAgICAnbmFtZSc6IHRhc2tOYW1lLFxuICAgICAgICAgICAgJ3BheWxvYWRUeXBlJzogJ0NyZWF0ZVRhc2tQYXlsb2FkJyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnNcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5hcGkucGVyZm9ybUJwbU9wZXJhdGlvbihwYXRoLCBtZXRob2QsIHF1ZXJ5UGFyYW1zLCBwb3N0Qm9keSk7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGFzeW5jIGNvbXBsZXRlVGFzayh0YXNrSWQsIGFwcE5hbWUpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9ICcvJyArIGFwcE5hbWUgKyAnL3JiL3YxL3Rhc2tzLycgKyB0YXNrSWQgKyAnL2NvbXBsZXRlJztcbiAgICAgICAgY29uc3QgbWV0aG9kID0gJ1BPU1QnO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge30sIHBvc3RCb2R5ID0geydwYXlsb2FkVHlwZSc6ICdDb21wbGV0ZVRhc2tQYXlsb2FkJ307XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuYXBpLnBlcmZvcm1CcG1PcGVyYXRpb24ocGF0aCwgbWV0aG9kLCBxdWVyeVBhcmFtcywgcG9zdEJvZHkpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBhc3luYyBjbGFpbVRhc2sodGFza0lkLCBhcHBOYW1lKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSAnLycgKyBhcHBOYW1lICsgJy9yYi92MS90YXNrcy8nICsgdGFza0lkICsgJy9jbGFpbSc7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9ICdQT1NUJztcblxuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHt9LCBwb3N0Qm9keSA9IHt9O1xuXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmFwaS5wZXJmb3JtQnBtT3BlcmF0aW9uKHBhdGgsIG1ldGhvZCwgcXVlcnlQYXJhbXMsIHBvc3RCb2R5KTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVsZXRlVGFzayh0YXNrSWQsIGFwcE5hbWUpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9ICcvJyArIGFwcE5hbWUgKyAnL3JiL3YxL3Rhc2tzLycgKyB0YXNrSWQ7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9ICdERUxFVEUnO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge30sIHBvc3RCb2R5ID0ge307XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuYXBpLnBlcmZvcm1CcG1PcGVyYXRpb24ocGF0aCwgbWV0aG9kLCBxdWVyeVBhcmFtcywgcG9zdEJvZHkpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBhc3luYyBjcmVhdGVBbmRDb21wbGV0ZVRhc2sgKHRhc2tOYW1lLCBhcHBOYW1lKSB7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBhd2FpdCB0aGlzLmNyZWF0ZVN0YW5kYWxvbmVUYXNrKHRhc2tOYW1lLCBhcHBOYW1lKTtcbiAgICAgICAgYXdhaXQgdGhpcy5jbGFpbVRhc2sodGFzay5lbnRyeS5pZCwgYXBwTmFtZSk7XG4gICAgICAgIGF3YWl0IHRoaXMuY29tcGxldGVUYXNrKHRhc2suZW50cnkuaWQsIGFwcE5hbWUpO1xuICAgICAgICByZXR1cm4gdGFzaztcbiAgICB9XG5cbiAgICBhc3luYyBnZXRUYXNrKHRhc2tJZCwgYXBwTmFtZSkge1xuICAgICAgICBjb25zdCBwYXRoID0gJy8nICsgYXBwTmFtZSArICcvcXVlcnkvdjEvdGFza3MvJyArIHRhc2tJZDtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gJ0dFVCc7XG5cbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7fSwgcG9zdEJvZHkgPSB7fTtcblxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5hcGkucGVyZm9ybUJwbU9wZXJhdGlvbihwYXRoLCBtZXRob2QsIHF1ZXJ5UGFyYW1zLCBwb3N0Qm9keSk7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGFzeW5jIGdldFRhc2tJZCh0YXNrTmFtZSwgYXBwTmFtZSkge1xuICAgICAgICBjb25zdCBwYXRoID0gJy8nICsgYXBwTmFtZSArICcvcXVlcnkvdjEvdGFza3MnO1xuICAgICAgICBjb25zdCBtZXRob2QgPSAnR0VUJztcblxuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtuYW1lOiB0YXNrTmFtZX0sIHBvc3RCb2R5ID0ge307XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuYXBpLnBlcmZvcm1CcG1PcGVyYXRpb24ocGF0aCwgbWV0aG9kLCBxdWVyeVBhcmFtcywgcG9zdEJvZHkpO1xuICAgICAgICByZXR1cm4gZGF0YS5saXN0LmVudHJpZXNbMF0uZW50cnkuaWQ7XG4gICAgfVxuXG4gICAgYXN5bmMgY3JlYXRlU3RhbmRhbG9uZVN1YnRhc2socGFyZW50VGFza0lkLCBhcHBOYW1lLCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSAnLycgKyBhcHBOYW1lICsgJy9yYi92MS90YXNrcyc7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9ICdQT1NUJztcblxuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHt9LCBwb3N0Qm9keSA9IHsnbmFtZSc6IG5hbWUsICdwYXJlbnRUYXNrSWQnOiBwYXJlbnRUYXNrSWQsICdwYXlsb2FkVHlwZSc6ICdDcmVhdGVUYXNrUGF5bG9hZCd9O1xuXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmFwaS5wZXJmb3JtQnBtT3BlcmF0aW9uKHBhdGgsIG1ldGhvZCwgcXVlcnlQYXJhbXMsIHBvc3RCb2R5KTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG59XG4iXX0=