/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/*!
 * @license
 * Copyright 2019 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
import { by, element, protractor } from 'protractor';
import { EditTaskFilterDialogPage } from './dialog/edit-task-filter-dialog.page';
import { BrowserVisibility } from '../../core/utils/browser-visibility';
export class EditTaskFilterCloudComponentPage {
    constructor() {
        this.customiseFilter = element(by.id('adf-edit-task-filter-title-id'));
        this.selectedOption = element.all(by.css('mat-option[class*="mat-selected"]')).first();
        this.assignee = element(by.css('input[data-automation-id="adf-cloud-edit-task-property-assignee"]'));
        this.priority = element(by.css('input[data-automation-id="adf-cloud-edit-task-property-priority"]'));
        this.taskName = element(by.css('input[data-automation-id="adf-cloud-edit-task-property-taskName"]'));
        this.id = element(by.css('input[data-automation-id="adf-cloud-edit-task-property-taskId"]'));
        this.processDefinitionId = element(by.css('input[data-automation-id="adf-cloud-edit-task-property-processDefinitionId"]'));
        this.processInstanceId = element(by.css('input[data-automation-id="adf-cloud-edit-task-property-processInstanceId"]'));
        this.lastModifiedFrom = element(by.css('input[data-automation-id="adf-cloud-edit-task-property-lastModifiedFrom"]'));
        this.lastModifiedTo = element(by.css('input[data-automation-id="adf-cloud-edit-task-property-lastModifiedTo"]'));
        this.parentTaskId = element(by.css('input[data-automation-id="adf-cloud-edit-task-property-parentTaskId"]'));
        this.owner = element(by.css('input[data-automation-id="adf-cloud-edit-task-property-owner"]'));
        this.saveButton = element(by.css('[data-automation-id="adf-filter-action-save"]'));
        this.saveAsButton = element(by.css('[data-automation-id="adf-filter-action-saveAs"]'));
        this.deleteButton = element(by.css('[data-automation-id="adf-filter-action-delete"]'));
        this.editTaskFilterDialogPage = new EditTaskFilterDialogPage();
    }
    /**
     * @return {?}
     */
    editTaskFilterDialog() {
        return this.editTaskFilterDialogPage;
    }
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    clickCustomiseFilterHeader() {
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).customiseFilter);
        (/** @type {?} */ (this)).customiseFilter.click();
        return (/** @type {?} */ (this));
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    setStatusFilterDropDown(option) {
        (/** @type {?} */ (this)).clickOnDropDownArrow('status');
        /** @type {?} */
        const statusElement = element.all(by.cssContainingText('mat-option span', option)).first();
        BrowserVisibility.waitUntilElementIsVisible(statusElement);
        BrowserVisibility.waitUntilElementIsClickable(statusElement);
        statusElement.click();
        return (/** @type {?} */ (this));
    }
    /**
     * @return {?}
     */
    getStatusFilterDropDownValue() {
        return element.all(by.css("mat-select[data-automation-id='adf-cloud-edit-task-property-status'] span")).first().getText();
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    setSortFilterDropDown(option) {
        (/** @type {?} */ (this)).clickOnDropDownArrow('sort');
        /** @type {?} */
        const sortElement = element.all(by.cssContainingText('mat-option span', option)).first();
        BrowserVisibility.waitUntilElementIsClickable(sortElement);
        BrowserVisibility.waitUntilElementIsVisible(sortElement);
        sortElement.click();
        return (/** @type {?} */ (this));
    }
    /**
     * @return {?}
     */
    getSortFilterDropDownValue() {
        /** @type {?} */
        const elementSort = element.all(by.css("mat-select[data-automation-id='adf-cloud-edit-task-property-sort'] span")).first();
        BrowserVisibility.waitUntilElementIsVisible(elementSort);
        return elementSort.getText();
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    setOrderFilterDropDown(option) {
        (/** @type {?} */ (this)).clickOnDropDownArrow('order');
        /** @type {?} */
        const orderElement = element.all(by.cssContainingText('mat-option span', option)).first();
        BrowserVisibility.waitUntilElementIsClickable(orderElement);
        BrowserVisibility.waitUntilElementIsVisible(orderElement);
        orderElement.click();
        return (/** @type {?} */ (this));
    }
    /**
     * @return {?}
     */
    getOrderFilterDropDownValue() {
        return element.all(by.css("mat-select[data-automation-id='adf-cloud-edit-task-property-order'] span")).first().getText();
    }
    /**
     * @param {?} option
     * @return {?}
     */
    clickOnDropDownArrow(option) {
        /** @type {?} */
        const dropDownArrow = element.all(by.css("mat-form-field[data-automation-id='" + option + "'] div[class*='arrow']")).first();
        BrowserVisibility.waitUntilElementIsVisible(dropDownArrow);
        dropDownArrow.click();
        BrowserVisibility.waitUntilElementIsVisible(this.selectedOption);
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    setAssignee(option) {
        return (/** @type {?} */ (this)).setProperty('assignee', option);
    }
    /**
     * @return {?}
     */
    getAssignee() {
        return this.assignee.getText();
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    setPriority(option) {
        return (/** @type {?} */ (this)).setProperty('priority', option);
    }
    /**
     * @return {?}
     */
    getPriority() {
        return this.priority.getText();
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    setParentTaskId(option) {
        return (/** @type {?} */ (this)).setProperty('parentTaskId', option);
    }
    /**
     * @return {?}
     */
    getParentTaskId() {
        return this.parentTaskId.getText();
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    setOwner(option) {
        return (/** @type {?} */ (this)).setProperty('owner', option);
    }
    /**
     * @return {?}
     */
    getOwner() {
        return this.owner.getText();
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    setLastModifiedFrom(option) {
        (/** @type {?} */ (this)).clearField((/** @type {?} */ (this)).lastModifiedFrom);
        return (/** @type {?} */ (this)).setProperty('lastModifiedFrom', option);
    }
    /**
     * @return {?}
     */
    getLastModifiedFrom() {
        return this.lastModifiedFrom.getText();
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    setLastModifiedTo(option) {
        (/** @type {?} */ (this)).clearField((/** @type {?} */ (this)).lastModifiedTo);
        return (/** @type {?} */ (this)).setProperty('lastModifiedTo', option);
    }
    /**
     * @return {?}
     */
    getLastModifiedTo() {
        return this.lastModifiedTo.getText();
    }
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    checkSaveButtonIsDisplayed() {
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).saveButton);
        return (/** @type {?} */ (this));
    }
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    checkSaveAsButtonIsDisplayed() {
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).saveAsButton);
        return (/** @type {?} */ (this));
    }
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    checkDeleteButtonIsDisplayed() {
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).deleteButton);
        return (/** @type {?} */ (this));
    }
    /**
     * @return {?}
     */
    checkSaveButtonIsEnabled() {
        BrowserVisibility.waitUntilElementIsVisible(this.saveButton);
        return this.saveButton.isEnabled();
    }
    /**
     * @return {?}
     */
    checkSaveAsButtonIsEnabled() {
        BrowserVisibility.waitUntilElementIsVisible(this.saveButton);
        return this.saveAsButton.isEnabled();
    }
    /**
     * @return {?}
     */
    checkDeleteButtonIsEnabled() {
        BrowserVisibility.waitUntilElementIsVisible(this.saveButton);
        return this.deleteButton.isEnabled();
    }
    /**
     * @return {?}
     */
    clickSaveAsButton() {
        /** @type {?} */
        const disabledButton = element(by.css(("button[data-automation-id='adf-filter-action-saveAs'][disabled]")));
        BrowserVisibility.waitUntilElementIsClickable(this.saveAsButton);
        BrowserVisibility.waitUntilElementIsVisible(this.saveAsButton);
        BrowserVisibility.waitUntilElementIsNotVisible(disabledButton);
        this.saveAsButton.click();
        return this.editTaskFilterDialogPage;
    }
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    clickDeleteButton() {
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).deleteButton);
        (/** @type {?} */ (this)).deleteButton.click();
        return (/** @type {?} */ (this));
    }
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    clickSaveButton() {
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).saveButton);
        (/** @type {?} */ (this)).saveButton.click();
        return (/** @type {?} */ (this));
    }
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    clearAssignee() {
        (/** @type {?} */ (this)).clearField((/** @type {?} */ (this)).assignee);
        return (/** @type {?} */ (this));
    }
    /**
     * @param {?} locator
     * @return {?}
     */
    clearField(locator) {
        BrowserVisibility.waitUntilElementIsVisible(locator);
        locator.getAttribute('value').then((/**
         * @param {?} result
         * @return {?}
         */
        (result) => {
            for (let i = result.length; i >= 0; i--) {
                locator.sendKeys(protractor.Key.BACK_SPACE);
            }
        }));
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    setAppNameDropDown(option) {
        (/** @type {?} */ (this)).clickOnDropDownArrow('appName');
        /** @type {?} */
        const appNameElement = element.all(by.cssContainingText('mat-option span', option)).first();
        BrowserVisibility.waitUntilElementIsClickable(appNameElement);
        BrowserVisibility.waitUntilElementIsVisible(appNameElement);
        appNameElement.click();
        return (/** @type {?} */ (this));
    }
    /**
     * @return {?}
     */
    getAppNameDropDownValue() {
        /** @type {?} */
        const locator = element.all(by.css("mat-select[data-automation-id='adf-cloud-edit-task-property-appName'] span")).first();
        BrowserVisibility.waitUntilElementIsVisible(locator);
        return locator.getText();
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    setId(option) {
        return (/** @type {?} */ (this)).setProperty('taskId', option);
    }
    /**
     * @return {?}
     */
    getId() {
        return this.id.getAttribute('value');
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    setTaskName(option) {
        return (/** @type {?} */ (this)).setProperty('taskName', option);
    }
    /**
     * @return {?}
     */
    getTaskName() {
        return this.taskName.getAttribute('value');
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    setProcessDefinitionId(option) {
        return (/** @type {?} */ (this)).setProperty('processDefinitionId', option);
    }
    /**
     * @return {?}
     */
    getProcessDefinitionId() {
        return this.processDefinitionId.getAttribute('value');
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    setProcessInstanceId(option) {
        return (/** @type {?} */ (this)).setProperty('processInstanceId', option);
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} property
     * @param {?} option
     * @return {THIS}
     */
    setProperty(property, option) {
        /** @type {?} */
        const locator = element(by.css('input[data-automation-id="adf-cloud-edit-task-property-' + property + '"]'));
        BrowserVisibility.waitUntilElementIsVisible(locator);
        locator.clear();
        locator.sendKeys(option);
        locator.sendKeys(protractor.Key.ENTER);
        return (/** @type {?} */ (this));
    }
    /**
     * @return {?}
     */
    getProcessInstanceId() {
        return this.processInstanceId.getAttribute('value');
    }
}
if (false) {
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.customiseFilter;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.selectedOption;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.assignee;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.priority;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.taskName;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.id;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.processDefinitionId;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.processInstanceId;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.lastModifiedFrom;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.lastModifiedTo;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.parentTaskId;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.owner;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.saveButton;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.saveAsButton;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.deleteButton;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.editTaskFilterDialogPage;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdC10YXNrLWZpbHRlci1jbG91ZC1jb21wb25lbnQucGFnZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BhbGZyZXNjby9hZGYtdGVzdGluZy8iLCJzb3VyY2VzIjpbImxpYi9wcm9jZXNzLXNlcnZpY2VzLWNsb3VkL3BhZ2VzL2VkaXQtdGFzay1maWx0ZXItY2xvdWQtY29tcG9uZW50LnBhZ2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQkEsT0FBTyxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ3JELE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBQ2pGLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHFDQUFxQyxDQUFDO0FBRXhFLE1BQU0sT0FBTyxnQ0FBZ0M7SUFBN0M7UUFFSSxvQkFBZSxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLCtCQUErQixDQUFDLENBQUMsQ0FBQztRQUNsRSxtQkFBYyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDbEYsYUFBUSxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLG1FQUFtRSxDQUFDLENBQUMsQ0FBQztRQUNoRyxhQUFRLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsbUVBQW1FLENBQUMsQ0FBQyxDQUFDO1FBQ2hHLGFBQVEsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxtRUFBbUUsQ0FBQyxDQUFDLENBQUM7UUFDaEcsT0FBRSxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLGlFQUFpRSxDQUFDLENBQUMsQ0FBQztRQUN4Rix3QkFBbUIsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyw4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QUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN2QyxPQUFPLG1CQUFBLElBQUksRUFBQSxDQUFDO0lBQ2hCLENBQUM7Ozs7SUFFRCxvQkFBb0I7UUFDaEIsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3hELENBQUM7Q0FFSjs7O0lBM1BHLDJEQUFrRTs7SUFDbEUsMERBQWtGOztJQUNsRixvREFBZ0c7O0lBQ2hHLG9EQUFnRzs7SUFDaEcsb0RBQWdHOztJQUNoRyw4Q0FBd0Y7O0lBQ3hGLCtEQUFzSDs7SUFDdEgsNkRBQWtIOztJQUNsSCw0REFBZ0g7O0lBQ2hILDBEQUE0Rzs7SUFDNUcsd0RBQXdHOztJQUN4RyxpREFBMEY7O0lBQzFGLHNEQUE4RTs7SUFDOUUsd0RBQWtGOztJQUNsRix3REFBa0Y7O0lBRWxGLG9FQUEwRCIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IGJ5LCBlbGVtZW50LCBwcm90cmFjdG9yIH0gZnJvbSAncHJvdHJhY3Rvcic7XG5pbXBvcnQgeyBFZGl0VGFza0ZpbHRlckRpYWxvZ1BhZ2UgfSBmcm9tICcuL2RpYWxvZy9lZGl0LXRhc2stZmlsdGVyLWRpYWxvZy5wYWdlJztcbmltcG9ydCB7IEJyb3dzZXJWaXNpYmlsaXR5IH0gZnJvbSAnLi4vLi4vY29yZS91dGlscy9icm93c2VyLXZpc2liaWxpdHknO1xuXG5leHBvcnQgY2xhc3MgRWRpdFRhc2tGaWx0ZXJDbG91ZENvbXBvbmVudFBhZ2Uge1xuXG4gICAgY3VzdG9taXNlRmlsdGVyID0gZWxlbWVudChieS5pZCgnYWRmLWVkaXQtdGFzay1maWx0ZXItdGl0bGUtaWQnKSk7XG4gICAgc2VsZWN0ZWRPcHRpb24gPSBlbGVtZW50LmFsbChieS5jc3MoJ21hdC1vcHRpb25bY2xhc3MqPVwibWF0LXNlbGVjdGVkXCJdJykpLmZpcnN0KCk7XG4gICAgYXNzaWduZWUgPSBlbGVtZW50KGJ5LmNzcygnaW5wdXRbZGF0YS1hdXRvbWF0aW9uLWlkPVwiYWRmLWNsb3VkLWVkaXQtdGFzay1wcm9wZXJ0eS1hc3NpZ25lZVwiXScpKTtcbiAgICBwcmlvcml0eSA9IGVsZW1lbnQoYnkuY3NzKCdpbnB1dFtkYXRhLWF1dG9tYXRpb24taWQ9XCJhZGYtY2xvdWQtZWRpdC10YXNrLXByb3BlcnR5LXByaW9yaXR5XCJdJykpO1xuICAgIHRhc2tOYW1lID0gZWxlbWVudChieS5jc3MoJ2lucHV0W2RhdGEtYXV0b21hdGlvbi1pZD1cImFkZi1jbG91ZC1lZGl0LXRhc2stcHJvcGVydHktdGFza05hbWVcIl0nKSk7XG4gICAgaWQgPSBlbGVtZW50KGJ5LmNzcygnaW5wdXRbZGF0YS1hdXRvbWF0aW9uLWlkPVwiYWRmLWNsb3VkLWVkaXQtdGFzay1wcm9wZXJ0eS10YXNrSWRcIl0nKSk7XG4gICAgcHJvY2Vzc0RlZmluaXRpb25JZCA9IGVsZW1lbnQoYnkuY3NzKCdpbnB1dFtkYXRhLWF1dG9tYXRpb24taWQ9XCJhZGYtY2xvdWQtZWRpdC10YXNrLXByb3BlcnR5LXByb2Nlc3NEZWZpbml0aW9uSWRcIl0nKSk7XG4gICAgcHJvY2Vzc0luc3RhbmNlSWQgPSBlbGVtZW50KGJ5LmNzcygnaW5wdXRbZGF0YS1hdXRvbWF0aW9uLWlkPVwiYWRmLWNsb3VkLWVkaXQtdGFzay1wcm9wZXJ0eS1wcm9jZXNzSW5zdGFuY2VJZFwiXScpKTtcbiAgICBsYXN0TW9kaWZpZWRGcm9tID0gZWxlbWVudChieS5jc3MoJ2lucHV0W2RhdGEtYXV0b21hdGlvbi1pZD1cImFkZi1jbG91ZC1lZGl0LXRhc2stcHJvcGVydHktbGFzdE1vZGlmaWVkRnJvbVwiXScpKTtcbiAgICBsYXN0TW9kaWZpZWRUbyA9IGVsZW1lbnQoYnkuY3NzKCdpbnB1dFtkYXRhLWF1dG9tYXRpb24taWQ9XCJhZGYtY2xvdWQtZWRpdC10YXNrLXByb3BlcnR5LWxhc3RNb2RpZmllZFRvXCJdJykpO1xuICAgIHBhcmVudFRhc2tJZCA9IGVsZW1lbnQoYnkuY3NzKCdpbnB1dFtkYXRhLWF1dG9tYXRpb24taWQ9XCJhZGYtY2xvdWQtZWRpdC10YXNrLXByb3BlcnR5LXBhcmVudFRhc2tJZFwiXScpKTtcbiAgICBvd25lciA9IGVsZW1lbnQoYnkuY3NzKCdpbnB1dFtkYXRhLWF1dG9tYXRpb24taWQ9XCJhZGYtY2xvdWQtZWRpdC10YXNrLXByb3BlcnR5LW93bmVyXCJdJykpO1xuICAgIHNhdmVCdXR0b24gPSBlbGVtZW50KGJ5LmNzcygnW2RhdGEtYXV0b21hdGlvbi1pZD1cImFkZi1maWx0ZXItYWN0aW9uLXNhdmVcIl0nKSk7XG4gICAgc2F2ZUFzQnV0dG9uID0gZWxlbWVudChieS5jc3MoJ1tkYXRhLWF1dG9tYXRpb24taWQ9XCJhZGYtZmlsdGVyLWFjdGlvbi1zYXZlQXNcIl0nKSk7XG4gICAgZGVsZXRlQnV0dG9uID0gZWxlbWVudChieS5jc3MoJ1tkYXRhLWF1dG9tYXRpb24taWQ9XCJhZGYtZmlsdGVyLWFjdGlvbi1kZWxldGVcIl0nKSk7XG5cbiAgICBlZGl0VGFza0ZpbHRlckRpYWxvZ1BhZ2UgPSBuZXcgRWRpdFRhc2tGaWx0ZXJEaWFsb2dQYWdlKCk7XG5cbiAgICBlZGl0VGFza0ZpbHRlckRpYWxvZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWRpdFRhc2tGaWx0ZXJEaWFsb2dQYWdlO1xuICAgIH1cblxuICAgIGNsaWNrQ3VzdG9taXNlRmlsdGVySGVhZGVyKCkge1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMuY3VzdG9taXNlRmlsdGVyKTtcbiAgICAgICAgdGhpcy5jdXN0b21pc2VGaWx0ZXIuY2xpY2soKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2V0U3RhdHVzRmlsdGVyRHJvcERvd24ob3B0aW9uKSB7XG4gICAgICAgIHRoaXMuY2xpY2tPbkRyb3BEb3duQXJyb3coJ3N0YXR1cycpO1xuXG4gICAgICAgIGNvbnN0IHN0YXR1c0VsZW1lbnQgPSBlbGVtZW50LmFsbChieS5jc3NDb250YWluaW5nVGV4dCgnbWF0LW9wdGlvbiBzcGFuJywgb3B0aW9uKSkuZmlyc3QoKTtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZShzdGF0dXNFbGVtZW50KTtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzQ2xpY2thYmxlKHN0YXR1c0VsZW1lbnQpO1xuICAgICAgICBzdGF0dXNFbGVtZW50LmNsaWNrKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldFN0YXR1c0ZpbHRlckRyb3BEb3duVmFsdWUoKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50LmFsbChieS5jc3MoXCJtYXQtc2VsZWN0W2RhdGEtYXV0b21hdGlvbi1pZD0nYWRmLWNsb3VkLWVkaXQtdGFzay1wcm9wZXJ0eS1zdGF0dXMnXSBzcGFuXCIpKS5maXJzdCgpLmdldFRleHQoKTtcbiAgICB9XG5cbiAgICBzZXRTb3J0RmlsdGVyRHJvcERvd24ob3B0aW9uKSB7XG4gICAgICAgIHRoaXMuY2xpY2tPbkRyb3BEb3duQXJyb3coJ3NvcnQnKTtcblxuICAgICAgICBjb25zdCBzb3J0RWxlbWVudCA9IGVsZW1lbnQuYWxsKGJ5LmNzc0NvbnRhaW5pbmdUZXh0KCdtYXQtb3B0aW9uIHNwYW4nLCBvcHRpb24pKS5maXJzdCgpO1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNDbGlja2FibGUoc29ydEVsZW1lbnQpO1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHNvcnRFbGVtZW50KTtcbiAgICAgICAgc29ydEVsZW1lbnQuY2xpY2soKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0U29ydEZpbHRlckRyb3BEb3duVmFsdWUoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRTb3J0ID0gZWxlbWVudC5hbGwoYnkuY3NzKFwibWF0LXNlbGVjdFtkYXRhLWF1dG9tYXRpb24taWQ9J2FkZi1jbG91ZC1lZGl0LXRhc2stcHJvcGVydHktc29ydCddIHNwYW5cIikpLmZpcnN0KCk7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUoZWxlbWVudFNvcnQpO1xuICAgICAgICByZXR1cm4gZWxlbWVudFNvcnQuZ2V0VGV4dCgpO1xuICAgIH1cblxuICAgIHNldE9yZGVyRmlsdGVyRHJvcERvd24ob3B0aW9uKSB7XG4gICAgICAgIHRoaXMuY2xpY2tPbkRyb3BEb3duQXJyb3coJ29yZGVyJyk7XG5cbiAgICAgICAgY29uc3Qgb3JkZXJFbGVtZW50ID0gZWxlbWVudC5hbGwoYnkuY3NzQ29udGFpbmluZ1RleHQoJ21hdC1vcHRpb24gc3BhbicsIG9wdGlvbikpLmZpcnN0KCk7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc0NsaWNrYWJsZShvcmRlckVsZW1lbnQpO1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKG9yZGVyRWxlbWVudCk7XG4gICAgICAgIG9yZGVyRWxlbWVudC5jbGljaygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBnZXRPcmRlckZpbHRlckRyb3BEb3duVmFsdWUoKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50LmFsbChieS5jc3MoXCJtYXQtc2VsZWN0W2RhdGEtYXV0b21hdGlvbi1pZD0nYWRmLWNsb3VkLWVkaXQtdGFzay1wcm9wZXJ0eS1vcmRlciddIHNwYW5cIikpLmZpcnN0KCkuZ2V0VGV4dCgpO1xuICAgIH1cblxuICAgIGNsaWNrT25Ecm9wRG93bkFycm93KG9wdGlvbikge1xuICAgICAgICBjb25zdCBkcm9wRG93bkFycm93ID0gZWxlbWVudC5hbGwoYnkuY3NzKFwibWF0LWZvcm0tZmllbGRbZGF0YS1hdXRvbWF0aW9uLWlkPSdcIiArIG9wdGlvbiArIFwiJ10gZGl2W2NsYXNzKj0nYXJyb3cnXVwiKSkuZmlyc3QoKTtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZShkcm9wRG93bkFycm93KTtcbiAgICAgICAgZHJvcERvd25BcnJvdy5jbGljaygpO1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMuc2VsZWN0ZWRPcHRpb24pO1xuICAgIH1cblxuICAgIHNldEFzc2lnbmVlKG9wdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRQcm9wZXJ0eSgnYXNzaWduZWUnLCBvcHRpb24pO1xuICAgIH1cblxuICAgIGdldEFzc2lnbmVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hc3NpZ25lZS5nZXRUZXh0KCk7XG4gICAgfVxuXG4gICAgc2V0UHJpb3JpdHkob3B0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldFByb3BlcnR5KCdwcmlvcml0eScsIG9wdGlvbik7XG4gICAgfVxuXG4gICAgZ2V0UHJpb3JpdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByaW9yaXR5LmdldFRleHQoKTtcbiAgICB9XG5cbiAgICBzZXRQYXJlbnRUYXNrSWQob3B0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldFByb3BlcnR5KCdwYXJlbnRUYXNrSWQnLCBvcHRpb24pO1xuICAgIH1cblxuICAgIGdldFBhcmVudFRhc2tJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50VGFza0lkLmdldFRleHQoKTtcbiAgICB9XG5cbiAgICBzZXRPd25lcihvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0UHJvcGVydHkoJ293bmVyJywgb3B0aW9uKTtcbiAgICB9XG5cbiAgICBnZXRPd25lcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3duZXIuZ2V0VGV4dCgpO1xuICAgIH1cblxuICAgIHNldExhc3RNb2RpZmllZEZyb20ob3B0aW9uKSB7XG4gICAgICAgIHRoaXMuY2xlYXJGaWVsZCh0aGlzLmxhc3RNb2RpZmllZEZyb20pO1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRQcm9wZXJ0eSgnbGFzdE1vZGlmaWVkRnJvbScsIG9wdGlvbik7XG4gICAgfVxuXG4gICAgZ2V0TGFzdE1vZGlmaWVkRnJvbSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGFzdE1vZGlmaWVkRnJvbS5nZXRUZXh0KCk7XG4gICAgfVxuXG4gICAgc2V0TGFzdE1vZGlmaWVkVG8ob3B0aW9uKSB7XG4gICAgICAgIHRoaXMuY2xlYXJGaWVsZCh0aGlzLmxhc3RNb2RpZmllZFRvKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0UHJvcGVydHkoJ2xhc3RNb2RpZmllZFRvJywgb3B0aW9uKTtcbiAgICB9XG5cbiAgICBnZXRMYXN0TW9kaWZpZWRUbygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGFzdE1vZGlmaWVkVG8uZ2V0VGV4dCgpO1xuICAgIH1cblxuICAgIGNoZWNrU2F2ZUJ1dHRvbklzRGlzcGxheWVkKCkge1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMuc2F2ZUJ1dHRvbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNoZWNrU2F2ZUFzQnV0dG9uSXNEaXNwbGF5ZWQoKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5zYXZlQXNCdXR0b24pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBjaGVja0RlbGV0ZUJ1dHRvbklzRGlzcGxheWVkKCkge1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMuZGVsZXRlQnV0dG9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY2hlY2tTYXZlQnV0dG9uSXNFbmFibGVkKCkge1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMuc2F2ZUJ1dHRvbik7XG4gICAgICAgIHJldHVybiB0aGlzLnNhdmVCdXR0b24uaXNFbmFibGVkKCk7XG4gICAgfVxuXG4gICAgY2hlY2tTYXZlQXNCdXR0b25Jc0VuYWJsZWQoKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5zYXZlQnV0dG9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2F2ZUFzQnV0dG9uLmlzRW5hYmxlZCgpO1xuICAgIH1cblxuICAgIGNoZWNrRGVsZXRlQnV0dG9uSXNFbmFibGVkKCkge1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMuc2F2ZUJ1dHRvbik7XG4gICAgICAgIHJldHVybiB0aGlzLmRlbGV0ZUJ1dHRvbi5pc0VuYWJsZWQoKTtcbiAgICB9XG5cbiAgICBjbGlja1NhdmVBc0J1dHRvbigpIHtcbiAgICAgICAgY29uc3QgZGlzYWJsZWRCdXR0b24gPSBlbGVtZW50KGJ5LmNzcygoXCJidXR0b25bZGF0YS1hdXRvbWF0aW9uLWlkPSdhZGYtZmlsdGVyLWFjdGlvbi1zYXZlQXMnXVtkaXNhYmxlZF1cIikpKTtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzQ2xpY2thYmxlKHRoaXMuc2F2ZUFzQnV0dG9uKTtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLnNhdmVBc0J1dHRvbik7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc05vdFZpc2libGUoZGlzYWJsZWRCdXR0b24pO1xuICAgICAgICB0aGlzLnNhdmVBc0J1dHRvbi5jbGljaygpO1xuICAgICAgICByZXR1cm4gdGhpcy5lZGl0VGFza0ZpbHRlckRpYWxvZ1BhZ2U7XG4gICAgfVxuXG4gICAgY2xpY2tEZWxldGVCdXR0b24oKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5kZWxldGVCdXR0b24pO1xuICAgICAgICB0aGlzLmRlbGV0ZUJ1dHRvbi5jbGljaygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBjbGlja1NhdmVCdXR0b24oKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5zYXZlQnV0dG9uKTtcbiAgICAgICAgdGhpcy5zYXZlQnV0dG9uLmNsaWNrKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNsZWFyQXNzaWduZWUoKSB7XG4gICAgICAgIHRoaXMuY2xlYXJGaWVsZCh0aGlzLmFzc2lnbmVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY2xlYXJGaWVsZChsb2NhdG9yKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUobG9jYXRvcik7XG4gICAgICAgIGxvY2F0b3IuZ2V0QXR0cmlidXRlKCd2YWx1ZScpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHJlc3VsdC5sZW5ndGg7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgbG9jYXRvci5zZW5kS2V5cyhwcm90cmFjdG9yLktleS5CQUNLX1NQQUNFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0QXBwTmFtZURyb3BEb3duKG9wdGlvbikge1xuICAgICAgICB0aGlzLmNsaWNrT25Ecm9wRG93bkFycm93KCdhcHBOYW1lJyk7XG5cbiAgICAgICAgY29uc3QgYXBwTmFtZUVsZW1lbnQgPSBlbGVtZW50LmFsbChieS5jc3NDb250YWluaW5nVGV4dCgnbWF0LW9wdGlvbiBzcGFuJywgb3B0aW9uKSkuZmlyc3QoKTtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzQ2xpY2thYmxlKGFwcE5hbWVFbGVtZW50KTtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZShhcHBOYW1lRWxlbWVudCk7XG4gICAgICAgIGFwcE5hbWVFbGVtZW50LmNsaWNrKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldEFwcE5hbWVEcm9wRG93blZhbHVlKCkge1xuICAgICAgICBjb25zdCBsb2NhdG9yID0gZWxlbWVudC5hbGwoYnkuY3NzKFwibWF0LXNlbGVjdFtkYXRhLWF1dG9tYXRpb24taWQ9J2FkZi1jbG91ZC1lZGl0LXRhc2stcHJvcGVydHktYXBwTmFtZSddIHNwYW5cIikpLmZpcnN0KCk7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUobG9jYXRvcik7XG4gICAgICAgIHJldHVybiBsb2NhdG9yLmdldFRleHQoKTtcbiAgICB9XG5cbiAgICBzZXRJZChvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0UHJvcGVydHkoJ3Rhc2tJZCcsIG9wdGlvbik7XG4gICAgfVxuXG4gICAgZ2V0SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICB9XG5cbiAgICBzZXRUYXNrTmFtZShvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0UHJvcGVydHkoJ3Rhc2tOYW1lJywgb3B0aW9uKTtcbiAgICB9XG5cbiAgICBnZXRUYXNrTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGFza05hbWUuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgIH1cblxuICAgIHNldFByb2Nlc3NEZWZpbml0aW9uSWQob3B0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldFByb3BlcnR5KCdwcm9jZXNzRGVmaW5pdGlvbklkJywgb3B0aW9uKTtcbiAgICB9XG5cbiAgICBnZXRQcm9jZXNzRGVmaW5pdGlvbklkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzRGVmaW5pdGlvbklkLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICB9XG5cbiAgICBzZXRQcm9jZXNzSW5zdGFuY2VJZChvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0UHJvcGVydHkoJ3Byb2Nlc3NJbnN0YW5jZUlkJywgb3B0aW9uKTtcbiAgICB9XG5cbiAgICBzZXRQcm9wZXJ0eShwcm9wZXJ0eSwgb3B0aW9uKSB7XG4gICAgICAgIGNvbnN0IGxvY2F0b3IgPSBlbGVtZW50KGJ5LmNzcygnaW5wdXRbZGF0YS1hdXRvbWF0aW9uLWlkPVwiYWRmLWNsb3VkLWVkaXQtdGFzay1wcm9wZXJ0eS0nICsgcHJvcGVydHkgKyAnXCJdJykpO1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKGxvY2F0b3IpO1xuICAgICAgICBsb2NhdG9yLmNsZWFyKCk7XG4gICAgICAgIGxvY2F0b3Iuc2VuZEtleXMob3B0aW9uKTtcbiAgICAgICAgbG9jYXRvci5zZW5kS2V5cyhwcm90cmFjdG9yLktleS5FTlRFUik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldFByb2Nlc3NJbnN0YW5jZUlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzSW5zdGFuY2VJZC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgfVxuXG59XG4iXX0=