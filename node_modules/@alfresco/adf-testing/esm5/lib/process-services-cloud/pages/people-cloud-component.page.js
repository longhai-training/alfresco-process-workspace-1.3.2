/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/*!
 * @license
 * Copyright 2019 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
import { browser, by, element, protractor } from 'protractor';
import { BrowserVisibility } from '../../core/utils/browser-visibility';
var PeopleCloudComponentPage = /** @class */ (function () {
    function PeopleCloudComponentPage() {
        this.peopleCloudSearch = element(by.css('input[data-automation-id="adf-people-cloud-search-input"]'));
        this.assigneeField = element(by.css('input[data-automation-id="adf-people-cloud-search-input"]'));
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} name
     * @return {THIS}
     */
    PeopleCloudComponentPage.prototype.searchAssigneeAndSelect = /**
     * @template THIS
     * @this {THIS}
     * @param {?} name
     * @return {THIS}
     */
    function (name) {
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).peopleCloudSearch);
        (/** @type {?} */ (this)).peopleCloudSearch.clear();
        (/** @type {?} */ (this)).peopleCloudSearch.sendKeys(name);
        (/** @type {?} */ (this)).selectAssigneeFromList(name);
        return (/** @type {?} */ (this));
    };
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} name
     * @return {THIS}
     */
    PeopleCloudComponentPage.prototype.searchAssignee = /**
     * @template THIS
     * @this {THIS}
     * @param {?} name
     * @return {THIS}
     */
    function (name) {
        var _this = this;
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).peopleCloudSearch);
        BrowserVisibility.waitUntilElementIsClickable((/** @type {?} */ (this)).peopleCloudSearch);
        browser.sleep(1000);
        (/** @type {?} */ (this)).peopleCloudSearch.clear().then((/**
         * @return {?}
         */
        function () {
            for (var i = 0; i < name.length; i++) {
                (/** @type {?} */ (_this)).peopleCloudSearch.sendKeys(name[i]);
            }
            (/** @type {?} */ (_this)).peopleCloudSearch.sendKeys(protractor.Key.BACK_SPACE);
            (/** @type {?} */ (_this)).peopleCloudSearch.sendKeys(name[name.length - 1]);
        }));
        return (/** @type {?} */ (this));
    };
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} name
     * @return {THIS}
     */
    PeopleCloudComponentPage.prototype.searchAssigneeToExisting = /**
     * @template THIS
     * @this {THIS}
     * @param {?} name
     * @return {THIS}
     */
    function (name) {
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).peopleCloudSearch);
        for (var i = 0; i < name.length; i++) {
            (/** @type {?} */ (this)).peopleCloudSearch.sendKeys(name[i]);
        }
        (/** @type {?} */ (this)).peopleCloudSearch.sendKeys(protractor.Key.BACK_SPACE);
        (/** @type {?} */ (this)).peopleCloudSearch.sendKeys(name[name.length - 1]);
        return (/** @type {?} */ (this));
    };
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} name
     * @return {THIS}
     */
    PeopleCloudComponentPage.prototype.selectAssigneeFromList = /**
     * @template THIS
     * @this {THIS}
     * @param {?} name
     * @return {THIS}
     */
    function (name) {
        /** @type {?} */
        var assigneeRow = element(by.cssContainingText('mat-option span.adf-people-label-name', name));
        BrowserVisibility.waitUntilElementIsVisible(assigneeRow);
        browser.sleep(1000);
        assigneeRow.click();
        BrowserVisibility.waitUntilElementIsNotVisible(assigneeRow);
        return (/** @type {?} */ (this));
    };
    /**
     * @return {?}
     */
    PeopleCloudComponentPage.prototype.getAssignee = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.peopleCloudSearch);
        return this.peopleCloudSearch.getAttribute('value');
    };
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} name
     * @return {THIS}
     */
    PeopleCloudComponentPage.prototype.checkUserIsDisplayed = /**
     * @template THIS
     * @this {THIS}
     * @param {?} name
     * @return {THIS}
     */
    function (name) {
        /** @type {?} */
        var assigneeRow = element(by.cssContainingText('mat-option span.adf-people-label-name', name));
        BrowserVisibility.waitUntilElementIsVisible(assigneeRow);
        return (/** @type {?} */ (this));
    };
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} name
     * @return {THIS}
     */
    PeopleCloudComponentPage.prototype.checkUserIsNotDisplayed = /**
     * @template THIS
     * @this {THIS}
     * @param {?} name
     * @return {THIS}
     */
    function (name) {
        /** @type {?} */
        var assigneeRow = element(by.cssContainingText('mat-option span.adf-people-label-name', name));
        BrowserVisibility.waitUntilElementIsNotVisible(assigneeRow);
        return (/** @type {?} */ (this));
    };
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} person
     * @return {THIS}
     */
    PeopleCloudComponentPage.prototype.checkSelectedPeople = /**
     * @template THIS
     * @this {THIS}
     * @param {?} person
     * @return {THIS}
     */
    function (person) {
        BrowserVisibility.waitUntilElementIsVisible(element(by.cssContainingText('mat-chip-list mat-chip', person)));
        return (/** @type {?} */ (this));
    };
    /**
     * @return {?}
     */
    PeopleCloudComponentPage.prototype.getAssigneeFieldContent = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.assigneeField);
        browser.sleep(1000);
        return this.assigneeField.getAttribute('value');
    };
    return PeopleCloudComponentPage;
}());
export { PeopleCloudComponentPage };
if (false) {
    /** @type {?} */
    PeopleCloudComponentPage.prototype.peopleCloudSearch;
    /** @type {?} */
    PeopleCloudComponentPage.prototype.assigneeField;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGVvcGxlLWNsb3VkLWNvbXBvbmVudC5wYWdlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGFsZnJlc2NvL2FkZi10ZXN0aW5nLyIsInNvdXJjZXMiOlsibGliL3Byb2Nlc3Mtc2VydmljZXMtY2xvdWQvcGFnZXMvcGVvcGxlLWNsb3VkLWNvbXBvbmVudC5wYWdlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBaUJBLE9BQU8sRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDOUQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0scUNBQXFDLENBQUM7QUFFeEU7SUFBQTtRQUVJLHNCQUFpQixHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLDJEQUEyRCxDQUFDLENBQUMsQ0FBQztRQUNqRyxrQkFBYSxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLDJEQUEyRCxDQUFDLENBQUMsQ0FBQztJQXdFakcsQ0FBQzs7Ozs7OztJQXRFRywwREFBdUI7Ozs7OztJQUF2QixVQUF3QixJQUFJO1FBQ3hCLGlCQUFpQixDQUFDLHlCQUF5QixDQUFDLG1CQUFBLElBQUksRUFBQSxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDcEUsbUJBQUEsSUFBSSxFQUFBLENBQUMsaUJBQWlCLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDL0IsbUJBQUEsSUFBSSxFQUFBLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3RDLG1CQUFBLElBQUksRUFBQSxDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2xDLE9BQU8sbUJBQUEsSUFBSSxFQUFBLENBQUM7SUFDaEIsQ0FBQzs7Ozs7OztJQUVELGlEQUFjOzs7Ozs7SUFBZCxVQUFlLElBQUk7UUFBbkIsaUJBWUM7UUFYRyxpQkFBaUIsQ0FBQyx5QkFBeUIsQ0FBQyxtQkFBQSxJQUFJLEVBQUEsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQ3BFLGlCQUFpQixDQUFDLDJCQUEyQixDQUFDLG1CQUFBLElBQUksRUFBQSxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDdEUsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNwQixtQkFBQSxJQUFJLEVBQUEsQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxJQUFJOzs7UUFBQztZQUNoQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDbEMsbUJBQUEsS0FBSSxFQUFBLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQzVDO1lBQ0QsbUJBQUEsS0FBSSxFQUFBLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDM0QsbUJBQUEsS0FBSSxFQUFBLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0QsQ0FBQyxFQUFDLENBQUM7UUFDSCxPQUFPLG1CQUFBLElBQUksRUFBQSxDQUFDO0lBQ2hCLENBQUM7Ozs7Ozs7SUFFRCwyREFBd0I7Ozs7OztJQUF4QixVQUF5QixJQUFJO1FBQ3pCLGlCQUFpQixDQUFDLHlCQUF5QixDQUFDLG1CQUFBLElBQUksRUFBQSxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDcEUsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDbEMsbUJBQUEsSUFBSSxFQUFBLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzVDO1FBQ0QsbUJBQUEsSUFBSSxFQUFBLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDM0QsbUJBQUEsSUFBSSxFQUFBLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkQsT0FBTyxtQkFBQSxJQUFJLEVBQUEsQ0FBQztJQUNoQixDQUFDOzs7Ozs7O0lBRUQseURBQXNCOzs7Ozs7SUFBdEIsVUFBdUIsSUFBSTs7WUFDakIsV0FBVyxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsaUJBQWlCLENBQUMsdUNBQXVDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDaEcsaUJBQWlCLENBQUMseUJBQXlCLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDekQsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNwQixXQUFXLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDcEIsaUJBQWlCLENBQUMsNEJBQTRCLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDNUQsT0FBTyxtQkFBQSxJQUFJLEVBQUEsQ0FBQztJQUNoQixDQUFDOzs7O0lBRUQsOENBQVc7OztJQUFYO1FBQ0ksaUJBQWlCLENBQUMseUJBQXlCLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDcEUsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3hELENBQUM7Ozs7Ozs7SUFFRCx1REFBb0I7Ozs7OztJQUFwQixVQUFxQixJQUFJOztZQUNmLFdBQVcsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDLGlCQUFpQixDQUFDLHVDQUF1QyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2hHLGlCQUFpQixDQUFDLHlCQUF5QixDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3pELE9BQU8sbUJBQUEsSUFBSSxFQUFBLENBQUM7SUFDaEIsQ0FBQzs7Ozs7OztJQUVELDBEQUF1Qjs7Ozs7O0lBQXZCLFVBQXdCLElBQUk7O1lBQ2xCLFdBQVcsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDLGlCQUFpQixDQUFDLHVDQUF1QyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2hHLGlCQUFpQixDQUFDLDRCQUE0QixDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzVELE9BQU8sbUJBQUEsSUFBSSxFQUFBLENBQUM7SUFDaEIsQ0FBQzs7Ozs7OztJQUVELHNEQUFtQjs7Ozs7O0lBQW5CLFVBQW9CLE1BQU07UUFDdEIsaUJBQWlCLENBQUMseUJBQXlCLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyx3QkFBd0IsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0csT0FBTyxtQkFBQSxJQUFJLEVBQUEsQ0FBQztJQUNoQixDQUFDOzs7O0lBRUQsMERBQXVCOzs7SUFBdkI7UUFDSSxpQkFBaUIsQ0FBQyx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDaEUsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNwQixPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBRXBELENBQUM7SUFFTCwrQkFBQztBQUFELENBQUMsQUEzRUQsSUEyRUM7Ozs7SUF6RUcscURBQWlHOztJQUNqRyxpREFBNkYiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBicm93c2VyLCBieSwgZWxlbWVudCwgcHJvdHJhY3RvciB9IGZyb20gJ3Byb3RyYWN0b3InO1xuaW1wb3J0IHsgQnJvd3NlclZpc2liaWxpdHkgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWxzL2Jyb3dzZXItdmlzaWJpbGl0eSc7XG5cbmV4cG9ydCBjbGFzcyBQZW9wbGVDbG91ZENvbXBvbmVudFBhZ2Uge1xuXG4gICAgcGVvcGxlQ2xvdWRTZWFyY2ggPSBlbGVtZW50KGJ5LmNzcygnaW5wdXRbZGF0YS1hdXRvbWF0aW9uLWlkPVwiYWRmLXBlb3BsZS1jbG91ZC1zZWFyY2gtaW5wdXRcIl0nKSk7XG4gICAgYXNzaWduZWVGaWVsZCA9IGVsZW1lbnQoYnkuY3NzKCdpbnB1dFtkYXRhLWF1dG9tYXRpb24taWQ9XCJhZGYtcGVvcGxlLWNsb3VkLXNlYXJjaC1pbnB1dFwiXScpKTtcblxuICAgIHNlYXJjaEFzc2lnbmVlQW5kU2VsZWN0KG5hbWUpIHtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLnBlb3BsZUNsb3VkU2VhcmNoKTtcbiAgICAgICAgdGhpcy5wZW9wbGVDbG91ZFNlYXJjaC5jbGVhcigpO1xuICAgICAgICB0aGlzLnBlb3BsZUNsb3VkU2VhcmNoLnNlbmRLZXlzKG5hbWUpO1xuICAgICAgICB0aGlzLnNlbGVjdEFzc2lnbmVlRnJvbUxpc3QobmFtZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNlYXJjaEFzc2lnbmVlKG5hbWUpIHtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLnBlb3BsZUNsb3VkU2VhcmNoKTtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzQ2xpY2thYmxlKHRoaXMucGVvcGxlQ2xvdWRTZWFyY2gpO1xuICAgICAgICBicm93c2VyLnNsZWVwKDEwMDApO1xuICAgICAgICB0aGlzLnBlb3BsZUNsb3VkU2VhcmNoLmNsZWFyKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlb3BsZUNsb3VkU2VhcmNoLnNlbmRLZXlzKG5hbWVbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wZW9wbGVDbG91ZFNlYXJjaC5zZW5kS2V5cyhwcm90cmFjdG9yLktleS5CQUNLX1NQQUNFKTtcbiAgICAgICAgICAgIHRoaXMucGVvcGxlQ2xvdWRTZWFyY2guc2VuZEtleXMobmFtZVtuYW1lLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNlYXJjaEFzc2lnbmVlVG9FeGlzdGluZyhuYW1lKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5wZW9wbGVDbG91ZFNlYXJjaCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5wZW9wbGVDbG91ZFNlYXJjaC5zZW5kS2V5cyhuYW1lW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlb3BsZUNsb3VkU2VhcmNoLnNlbmRLZXlzKHByb3RyYWN0b3IuS2V5LkJBQ0tfU1BBQ0UpO1xuICAgICAgICB0aGlzLnBlb3BsZUNsb3VkU2VhcmNoLnNlbmRLZXlzKG5hbWVbbmFtZS5sZW5ndGggLSAxXSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNlbGVjdEFzc2lnbmVlRnJvbUxpc3QobmFtZSkge1xuICAgICAgICBjb25zdCBhc3NpZ25lZVJvdyA9IGVsZW1lbnQoYnkuY3NzQ29udGFpbmluZ1RleHQoJ21hdC1vcHRpb24gc3Bhbi5hZGYtcGVvcGxlLWxhYmVsLW5hbWUnLCBuYW1lKSk7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUoYXNzaWduZWVSb3cpO1xuICAgICAgICBicm93c2VyLnNsZWVwKDEwMDApO1xuICAgICAgICBhc3NpZ25lZVJvdy5jbGljaygpO1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNOb3RWaXNpYmxlKGFzc2lnbmVlUm93KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0QXNzaWduZWUoKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5wZW9wbGVDbG91ZFNlYXJjaCk7XG4gICAgICAgIHJldHVybiB0aGlzLnBlb3BsZUNsb3VkU2VhcmNoLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICB9XG5cbiAgICBjaGVja1VzZXJJc0Rpc3BsYXllZChuYW1lKSB7XG4gICAgICAgIGNvbnN0IGFzc2lnbmVlUm93ID0gZWxlbWVudChieS5jc3NDb250YWluaW5nVGV4dCgnbWF0LW9wdGlvbiBzcGFuLmFkZi1wZW9wbGUtbGFiZWwtbmFtZScsIG5hbWUpKTtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZShhc3NpZ25lZVJvdyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNoZWNrVXNlcklzTm90RGlzcGxheWVkKG5hbWUpIHtcbiAgICAgICAgY29uc3QgYXNzaWduZWVSb3cgPSBlbGVtZW50KGJ5LmNzc0NvbnRhaW5pbmdUZXh0KCdtYXQtb3B0aW9uIHNwYW4uYWRmLXBlb3BsZS1sYWJlbC1uYW1lJywgbmFtZSkpO1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNOb3RWaXNpYmxlKGFzc2lnbmVlUm93KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY2hlY2tTZWxlY3RlZFBlb3BsZShwZXJzb24pIHtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZShlbGVtZW50KGJ5LmNzc0NvbnRhaW5pbmdUZXh0KCdtYXQtY2hpcC1saXN0IG1hdC1jaGlwJywgcGVyc29uKSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBnZXRBc3NpZ25lZUZpZWxkQ29udGVudCgpIHtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLmFzc2lnbmVlRmllbGQpO1xuICAgICAgICBicm93c2VyLnNsZWVwKDEwMDApO1xuICAgICAgICByZXR1cm4gdGhpcy5hc3NpZ25lZUZpZWxkLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcblxuICAgIH1cblxufVxuIl19