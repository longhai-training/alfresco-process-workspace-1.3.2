/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/*!
 * @license
 * Copyright 2019 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
import { by, element, protractor } from 'protractor';
import { EditTaskFilterDialogPage } from './dialog/edit-task-filter-dialog.page';
import { BrowserVisibility } from '../../core/utils/browser-visibility';
var EditTaskFilterCloudComponentPage = /** @class */ (function () {
    function EditTaskFilterCloudComponentPage() {
        this.customiseFilter = element(by.id('adf-edit-task-filter-title-id'));
        this.selectedOption = element.all(by.css('mat-option[class*="mat-selected"]')).first();
        this.assignee = element(by.css('input[data-automation-id="adf-cloud-edit-task-property-assignee"]'));
        this.priority = element(by.css('input[data-automation-id="adf-cloud-edit-task-property-priority"]'));
        this.taskName = element(by.css('input[data-automation-id="adf-cloud-edit-task-property-taskName"]'));
        this.id = element(by.css('input[data-automation-id="adf-cloud-edit-task-property-taskId"]'));
        this.processDefinitionId = element(by.css('input[data-automation-id="adf-cloud-edit-task-property-processDefinitionId"]'));
        this.processInstanceId = element(by.css('input[data-automation-id="adf-cloud-edit-task-property-processInstanceId"]'));
        this.lastModifiedFrom = element(by.css('input[data-automation-id="adf-cloud-edit-task-property-lastModifiedFrom"]'));
        this.lastModifiedTo = element(by.css('input[data-automation-id="adf-cloud-edit-task-property-lastModifiedTo"]'));
        this.parentTaskId = element(by.css('input[data-automation-id="adf-cloud-edit-task-property-parentTaskId"]'));
        this.owner = element(by.css('input[data-automation-id="adf-cloud-edit-task-property-owner"]'));
        this.saveButton = element(by.css('[data-automation-id="adf-filter-action-save"]'));
        this.saveAsButton = element(by.css('[data-automation-id="adf-filter-action-saveAs"]'));
        this.deleteButton = element(by.css('[data-automation-id="adf-filter-action-delete"]'));
        this.editTaskFilterDialogPage = new EditTaskFilterDialogPage();
    }
    /**
     * @return {?}
     */
    EditTaskFilterCloudComponentPage.prototype.editTaskFilterDialog = /**
     * @return {?}
     */
    function () {
        return this.editTaskFilterDialogPage;
    };
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    EditTaskFilterCloudComponentPage.prototype.clickCustomiseFilterHeader = /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).customiseFilter);
        (/** @type {?} */ (this)).customiseFilter.click();
        return (/** @type {?} */ (this));
    };
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    EditTaskFilterCloudComponentPage.prototype.setStatusFilterDropDown = /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    function (option) {
        (/** @type {?} */ (this)).clickOnDropDownArrow('status');
        /** @type {?} */
        var statusElement = element.all(by.cssContainingText('mat-option span', option)).first();
        BrowserVisibility.waitUntilElementIsVisible(statusElement);
        BrowserVisibility.waitUntilElementIsClickable(statusElement);
        statusElement.click();
        return (/** @type {?} */ (this));
    };
    /**
     * @return {?}
     */
    EditTaskFilterCloudComponentPage.prototype.getStatusFilterDropDownValue = /**
     * @return {?}
     */
    function () {
        return element.all(by.css("mat-select[data-automation-id='adf-cloud-edit-task-property-status'] span")).first().getText();
    };
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    EditTaskFilterCloudComponentPage.prototype.setSortFilterDropDown = /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    function (option) {
        (/** @type {?} */ (this)).clickOnDropDownArrow('sort');
        /** @type {?} */
        var sortElement = element.all(by.cssContainingText('mat-option span', option)).first();
        BrowserVisibility.waitUntilElementIsClickable(sortElement);
        BrowserVisibility.waitUntilElementIsVisible(sortElement);
        sortElement.click();
        return (/** @type {?} */ (this));
    };
    /**
     * @return {?}
     */
    EditTaskFilterCloudComponentPage.prototype.getSortFilterDropDownValue = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var elementSort = element.all(by.css("mat-select[data-automation-id='adf-cloud-edit-task-property-sort'] span")).first();
        BrowserVisibility.waitUntilElementIsVisible(elementSort);
        return elementSort.getText();
    };
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    EditTaskFilterCloudComponentPage.prototype.setOrderFilterDropDown = /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    function (option) {
        (/** @type {?} */ (this)).clickOnDropDownArrow('order');
        /** @type {?} */
        var orderElement = element.all(by.cssContainingText('mat-option span', option)).first();
        BrowserVisibility.waitUntilElementIsClickable(orderElement);
        BrowserVisibility.waitUntilElementIsVisible(orderElement);
        orderElement.click();
        return (/** @type {?} */ (this));
    };
    /**
     * @return {?}
     */
    EditTaskFilterCloudComponentPage.prototype.getOrderFilterDropDownValue = /**
     * @return {?}
     */
    function () {
        return element.all(by.css("mat-select[data-automation-id='adf-cloud-edit-task-property-order'] span")).first().getText();
    };
    /**
     * @param {?} option
     * @return {?}
     */
    EditTaskFilterCloudComponentPage.prototype.clickOnDropDownArrow = /**
     * @param {?} option
     * @return {?}
     */
    function (option) {
        /** @type {?} */
        var dropDownArrow = element.all(by.css("mat-form-field[data-automation-id='" + option + "'] div[class*='arrow']")).first();
        BrowserVisibility.waitUntilElementIsVisible(dropDownArrow);
        dropDownArrow.click();
        BrowserVisibility.waitUntilElementIsVisible(this.selectedOption);
    };
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    EditTaskFilterCloudComponentPage.prototype.setAssignee = /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    function (option) {
        return (/** @type {?} */ (this)).setProperty('assignee', option);
    };
    /**
     * @return {?}
     */
    EditTaskFilterCloudComponentPage.prototype.getAssignee = /**
     * @return {?}
     */
    function () {
        return this.assignee.getText();
    };
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    EditTaskFilterCloudComponentPage.prototype.setPriority = /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    function (option) {
        return (/** @type {?} */ (this)).setProperty('priority', option);
    };
    /**
     * @return {?}
     */
    EditTaskFilterCloudComponentPage.prototype.getPriority = /**
     * @return {?}
     */
    function () {
        return this.priority.getText();
    };
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    EditTaskFilterCloudComponentPage.prototype.setParentTaskId = /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    function (option) {
        return (/** @type {?} */ (this)).setProperty('parentTaskId', option);
    };
    /**
     * @return {?}
     */
    EditTaskFilterCloudComponentPage.prototype.getParentTaskId = /**
     * @return {?}
     */
    function () {
        return this.parentTaskId.getText();
    };
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    EditTaskFilterCloudComponentPage.prototype.setOwner = /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    function (option) {
        return (/** @type {?} */ (this)).setProperty('owner', option);
    };
    /**
     * @return {?}
     */
    EditTaskFilterCloudComponentPage.prototype.getOwner = /**
     * @return {?}
     */
    function () {
        return this.owner.getText();
    };
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    EditTaskFilterCloudComponentPage.prototype.setLastModifiedFrom = /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    function (option) {
        (/** @type {?} */ (this)).clearField((/** @type {?} */ (this)).lastModifiedFrom);
        return (/** @type {?} */ (this)).setProperty('lastModifiedFrom', option);
    };
    /**
     * @return {?}
     */
    EditTaskFilterCloudComponentPage.prototype.getLastModifiedFrom = /**
     * @return {?}
     */
    function () {
        return this.lastModifiedFrom.getText();
    };
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    EditTaskFilterCloudComponentPage.prototype.setLastModifiedTo = /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    function (option) {
        (/** @type {?} */ (this)).clearField((/** @type {?} */ (this)).lastModifiedTo);
        return (/** @type {?} */ (this)).setProperty('lastModifiedTo', option);
    };
    /**
     * @return {?}
     */
    EditTaskFilterCloudComponentPage.prototype.getLastModifiedTo = /**
     * @return {?}
     */
    function () {
        return this.lastModifiedTo.getText();
    };
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    EditTaskFilterCloudComponentPage.prototype.checkSaveButtonIsDisplayed = /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).saveButton);
        return (/** @type {?} */ (this));
    };
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    EditTaskFilterCloudComponentPage.prototype.checkSaveAsButtonIsDisplayed = /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).saveAsButton);
        return (/** @type {?} */ (this));
    };
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    EditTaskFilterCloudComponentPage.prototype.checkDeleteButtonIsDisplayed = /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).deleteButton);
        return (/** @type {?} */ (this));
    };
    /**
     * @return {?}
     */
    EditTaskFilterCloudComponentPage.prototype.checkSaveButtonIsEnabled = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.saveButton);
        return this.saveButton.isEnabled();
    };
    /**
     * @return {?}
     */
    EditTaskFilterCloudComponentPage.prototype.checkSaveAsButtonIsEnabled = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.saveButton);
        return this.saveAsButton.isEnabled();
    };
    /**
     * @return {?}
     */
    EditTaskFilterCloudComponentPage.prototype.checkDeleteButtonIsEnabled = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.saveButton);
        return this.deleteButton.isEnabled();
    };
    /**
     * @return {?}
     */
    EditTaskFilterCloudComponentPage.prototype.clickSaveAsButton = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var disabledButton = element(by.css(("button[data-automation-id='adf-filter-action-saveAs'][disabled]")));
        BrowserVisibility.waitUntilElementIsClickable(this.saveAsButton);
        BrowserVisibility.waitUntilElementIsVisible(this.saveAsButton);
        BrowserVisibility.waitUntilElementIsNotVisible(disabledButton);
        this.saveAsButton.click();
        return this.editTaskFilterDialogPage;
    };
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    EditTaskFilterCloudComponentPage.prototype.clickDeleteButton = /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).deleteButton);
        (/** @type {?} */ (this)).deleteButton.click();
        return (/** @type {?} */ (this));
    };
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    EditTaskFilterCloudComponentPage.prototype.clickSaveButton = /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).saveButton);
        (/** @type {?} */ (this)).saveButton.click();
        return (/** @type {?} */ (this));
    };
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    EditTaskFilterCloudComponentPage.prototype.clearAssignee = /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    function () {
        (/** @type {?} */ (this)).clearField((/** @type {?} */ (this)).assignee);
        return (/** @type {?} */ (this));
    };
    /**
     * @param {?} locator
     * @return {?}
     */
    EditTaskFilterCloudComponentPage.prototype.clearField = /**
     * @param {?} locator
     * @return {?}
     */
    function (locator) {
        BrowserVisibility.waitUntilElementIsVisible(locator);
        locator.getAttribute('value').then((/**
         * @param {?} result
         * @return {?}
         */
        function (result) {
            for (var i = result.length; i >= 0; i--) {
                locator.sendKeys(protractor.Key.BACK_SPACE);
            }
        }));
    };
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    EditTaskFilterCloudComponentPage.prototype.setAppNameDropDown = /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    function (option) {
        (/** @type {?} */ (this)).clickOnDropDownArrow('appName');
        /** @type {?} */
        var appNameElement = element.all(by.cssContainingText('mat-option span', option)).first();
        BrowserVisibility.waitUntilElementIsClickable(appNameElement);
        BrowserVisibility.waitUntilElementIsVisible(appNameElement);
        appNameElement.click();
        return (/** @type {?} */ (this));
    };
    /**
     * @return {?}
     */
    EditTaskFilterCloudComponentPage.prototype.getAppNameDropDownValue = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var locator = element.all(by.css("mat-select[data-automation-id='adf-cloud-edit-task-property-appName'] span")).first();
        BrowserVisibility.waitUntilElementIsVisible(locator);
        return locator.getText();
    };
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    EditTaskFilterCloudComponentPage.prototype.setId = /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    function (option) {
        return (/** @type {?} */ (this)).setProperty('taskId', option);
    };
    /**
     * @return {?}
     */
    EditTaskFilterCloudComponentPage.prototype.getId = /**
     * @return {?}
     */
    function () {
        return this.id.getAttribute('value');
    };
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    EditTaskFilterCloudComponentPage.prototype.setTaskName = /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    function (option) {
        return (/** @type {?} */ (this)).setProperty('taskName', option);
    };
    /**
     * @return {?}
     */
    EditTaskFilterCloudComponentPage.prototype.getTaskName = /**
     * @return {?}
     */
    function () {
        return this.taskName.getAttribute('value');
    };
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    EditTaskFilterCloudComponentPage.prototype.setProcessDefinitionId = /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    function (option) {
        return (/** @type {?} */ (this)).setProperty('processDefinitionId', option);
    };
    /**
     * @return {?}
     */
    EditTaskFilterCloudComponentPage.prototype.getProcessDefinitionId = /**
     * @return {?}
     */
    function () {
        return this.processDefinitionId.getAttribute('value');
    };
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    EditTaskFilterCloudComponentPage.prototype.setProcessInstanceId = /**
     * @template THIS
     * @this {THIS}
     * @param {?} option
     * @return {THIS}
     */
    function (option) {
        return (/** @type {?} */ (this)).setProperty('processInstanceId', option);
    };
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} property
     * @param {?} option
     * @return {THIS}
     */
    EditTaskFilterCloudComponentPage.prototype.setProperty = /**
     * @template THIS
     * @this {THIS}
     * @param {?} property
     * @param {?} option
     * @return {THIS}
     */
    function (property, option) {
        /** @type {?} */
        var locator = element(by.css('input[data-automation-id="adf-cloud-edit-task-property-' + property + '"]'));
        BrowserVisibility.waitUntilElementIsVisible(locator);
        locator.clear();
        locator.sendKeys(option);
        locator.sendKeys(protractor.Key.ENTER);
        return (/** @type {?} */ (this));
    };
    /**
     * @return {?}
     */
    EditTaskFilterCloudComponentPage.prototype.getProcessInstanceId = /**
     * @return {?}
     */
    function () {
        return this.processInstanceId.getAttribute('value');
    };
    return EditTaskFilterCloudComponentPage;
}());
export { EditTaskFilterCloudComponentPage };
if (false) {
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.customiseFilter;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.selectedOption;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.assignee;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.priority;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.taskName;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.id;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.processDefinitionId;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.processInstanceId;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.lastModifiedFrom;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.lastModifiedTo;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.parentTaskId;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.owner;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.saveButton;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.saveAsButton;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.deleteButton;
    /** @type {?} */
    EditTaskFilterCloudComponentPage.prototype.editTaskFilterDialogPage;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdC10YXNrLWZpbHRlci1jbG91ZC1jb21wb25lbnQucGFnZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BhbGZyZXNjby9hZGYtdGVzdGluZy8iLCJzb3VyY2VzIjpbImxpYi9wcm9jZXNzLXNlcnZpY2VzLWNsb3VkL3BhZ2VzL2VkaXQtdGFzay1maWx0ZXItY2xvdWQtY29tcG9uZW50LnBhZ2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQkEsT0FBTyxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ3JELE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBQ2pGLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHFDQUFxQyxDQUFDO0FBRXhFO0lBQUE7UUFFSSxvQkFBZSxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLCtCQUErQixDQUFDLENBQUMsQ0FBQztRQUNsRSxtQkFBYyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDbEYsYUFBUSxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLG1FQUFtRSxDQUFDLENBQUMsQ0FBQztRQUNoRyxhQUFRLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsbUVBQW1FLENBQUMsQ0FBQyxDQUFDO1FBQ2hHLGFBQVEsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxtRUFBbUUsQ0FBQyxDQUFDLENBQUM7UUFDaEcsT0FBRSxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLGlFQUFpRSxDQUFDLENBQUMsQ0FBQztRQUN4Rix3QkFBbUIsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyw4RUFBOEUsQ0FBQyxDQUFDLENB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LE1BQU07UUFDdkIsT0FBTyxtQkFBQSxJQUFJLEVBQUEsQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDekQsQ0FBQzs7Ozs7Ozs7SUFFRCxzREFBVzs7Ozs7OztJQUFYLFVBQVksUUFBUSxFQUFFLE1BQU07O1lBQ2xCLE9BQU8sR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyx5REFBeUQsR0FBRyxRQUFRLEdBQUcsSUFBSSxDQUFDLENBQUM7UUFDNUcsaUJBQWlCLENBQUMseUJBQXlCLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDckQsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ2hCLE9BQU8sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDekIsT0FBTyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3ZDLE9BQU8sbUJBQUEsSUFBSSxFQUFBLENBQUM7SUFDaEIsQ0FBQzs7OztJQUVELCtEQUFvQjs7O0lBQXBCO1FBQ0ksT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFFTCx1Q0FBQztBQUFELENBQUMsQUE3UEQsSUE2UEM7Ozs7SUEzUEcsMkRBQWtFOztJQUNsRSwwREFBa0Y7O0lBQ2xGLG9EQUFnRzs7SUFDaEcsb0RBQWdHOztJQUNoRyxvREFBZ0c7O0lBQ2hHLDhDQUF3Rjs7SUFDeEYsK0RBQXNIOztJQUN0SCw2REFBa0g7O0lBQ2xILDREQUFnSDs7SUFDaEgsMERBQTRHOztJQUM1Ryx3REFBd0c7O0lBQ3hHLGlEQUEwRjs7SUFDMUYsc0RBQThFOztJQUM5RSx3REFBa0Y7O0lBQ2xGLHdEQUFrRjs7SUFFbEYsb0VBQTBEIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgYnksIGVsZW1lbnQsIHByb3RyYWN0b3IgfSBmcm9tICdwcm90cmFjdG9yJztcbmltcG9ydCB7IEVkaXRUYXNrRmlsdGVyRGlhbG9nUGFnZSB9IGZyb20gJy4vZGlhbG9nL2VkaXQtdGFzay1maWx0ZXItZGlhbG9nLnBhZ2UnO1xuaW1wb3J0IHsgQnJvd3NlclZpc2liaWxpdHkgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWxzL2Jyb3dzZXItdmlzaWJpbGl0eSc7XG5cbmV4cG9ydCBjbGFzcyBFZGl0VGFza0ZpbHRlckNsb3VkQ29tcG9uZW50UGFnZSB7XG5cbiAgICBjdXN0b21pc2VGaWx0ZXIgPSBlbGVtZW50KGJ5LmlkKCdhZGYtZWRpdC10YXNrLWZpbHRlci10aXRsZS1pZCcpKTtcbiAgICBzZWxlY3RlZE9wdGlvbiA9IGVsZW1lbnQuYWxsKGJ5LmNzcygnbWF0LW9wdGlvbltjbGFzcyo9XCJtYXQtc2VsZWN0ZWRcIl0nKSkuZmlyc3QoKTtcbiAgICBhc3NpZ25lZSA9IGVsZW1lbnQoYnkuY3NzKCdpbnB1dFtkYXRhLWF1dG9tYXRpb24taWQ9XCJhZGYtY2xvdWQtZWRpdC10YXNrLXByb3BlcnR5LWFzc2lnbmVlXCJdJykpO1xuICAgIHByaW9yaXR5ID0gZWxlbWVudChieS5jc3MoJ2lucHV0W2RhdGEtYXV0b21hdGlvbi1pZD1cImFkZi1jbG91ZC1lZGl0LXRhc2stcHJvcGVydHktcHJpb3JpdHlcIl0nKSk7XG4gICAgdGFza05hbWUgPSBlbGVtZW50KGJ5LmNzcygnaW5wdXRbZGF0YS1hdXRvbWF0aW9uLWlkPVwiYWRmLWNsb3VkLWVkaXQtdGFzay1wcm9wZXJ0eS10YXNrTmFtZVwiXScpKTtcbiAgICBpZCA9IGVsZW1lbnQoYnkuY3NzKCdpbnB1dFtkYXRhLWF1dG9tYXRpb24taWQ9XCJhZGYtY2xvdWQtZWRpdC10YXNrLXByb3BlcnR5LXRhc2tJZFwiXScpKTtcbiAgICBwcm9jZXNzRGVmaW5pdGlvbklkID0gZWxlbWVudChieS5jc3MoJ2lucHV0W2RhdGEtYXV0b21hdGlvbi1pZD1cImFkZi1jbG91ZC1lZGl0LXRhc2stcHJvcGVydHktcHJvY2Vzc0RlZmluaXRpb25JZFwiXScpKTtcbiAgICBwcm9jZXNzSW5zdGFuY2VJZCA9IGVsZW1lbnQoYnkuY3NzKCdpbnB1dFtkYXRhLWF1dG9tYXRpb24taWQ9XCJhZGYtY2xvdWQtZWRpdC10YXNrLXByb3BlcnR5LXByb2Nlc3NJbnN0YW5jZUlkXCJdJykpO1xuICAgIGxhc3RNb2RpZmllZEZyb20gPSBlbGVtZW50KGJ5LmNzcygnaW5wdXRbZGF0YS1hdXRvbWF0aW9uLWlkPVwiYWRmLWNsb3VkLWVkaXQtdGFzay1wcm9wZXJ0eS1sYXN0TW9kaWZpZWRGcm9tXCJdJykpO1xuICAgIGxhc3RNb2RpZmllZFRvID0gZWxlbWVudChieS5jc3MoJ2lucHV0W2RhdGEtYXV0b21hdGlvbi1pZD1cImFkZi1jbG91ZC1lZGl0LXRhc2stcHJvcGVydHktbGFzdE1vZGlmaWVkVG9cIl0nKSk7XG4gICAgcGFyZW50VGFza0lkID0gZWxlbWVudChieS5jc3MoJ2lucHV0W2RhdGEtYXV0b21hdGlvbi1pZD1cImFkZi1jbG91ZC1lZGl0LXRhc2stcHJvcGVydHktcGFyZW50VGFza0lkXCJdJykpO1xuICAgIG93bmVyID0gZWxlbWVudChieS5jc3MoJ2lucHV0W2RhdGEtYXV0b21hdGlvbi1pZD1cImFkZi1jbG91ZC1lZGl0LXRhc2stcHJvcGVydHktb3duZXJcIl0nKSk7XG4gICAgc2F2ZUJ1dHRvbiA9IGVsZW1lbnQoYnkuY3NzKCdbZGF0YS1hdXRvbWF0aW9uLWlkPVwiYWRmLWZpbHRlci1hY3Rpb24tc2F2ZVwiXScpKTtcbiAgICBzYXZlQXNCdXR0b24gPSBlbGVtZW50KGJ5LmNzcygnW2RhdGEtYXV0b21hdGlvbi1pZD1cImFkZi1maWx0ZXItYWN0aW9uLXNhdmVBc1wiXScpKTtcbiAgICBkZWxldGVCdXR0b24gPSBlbGVtZW50KGJ5LmNzcygnW2RhdGEtYXV0b21hdGlvbi1pZD1cImFkZi1maWx0ZXItYWN0aW9uLWRlbGV0ZVwiXScpKTtcblxuICAgIGVkaXRUYXNrRmlsdGVyRGlhbG9nUGFnZSA9IG5ldyBFZGl0VGFza0ZpbHRlckRpYWxvZ1BhZ2UoKTtcblxuICAgIGVkaXRUYXNrRmlsdGVyRGlhbG9nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lZGl0VGFza0ZpbHRlckRpYWxvZ1BhZ2U7XG4gICAgfVxuXG4gICAgY2xpY2tDdXN0b21pc2VGaWx0ZXJIZWFkZXIoKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5jdXN0b21pc2VGaWx0ZXIpO1xuICAgICAgICB0aGlzLmN1c3RvbWlzZUZpbHRlci5jbGljaygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzZXRTdGF0dXNGaWx0ZXJEcm9wRG93bihvcHRpb24pIHtcbiAgICAgICAgdGhpcy5jbGlja09uRHJvcERvd25BcnJvdygnc3RhdHVzJyk7XG5cbiAgICAgICAgY29uc3Qgc3RhdHVzRWxlbWVudCA9IGVsZW1lbnQuYWxsKGJ5LmNzc0NvbnRhaW5pbmdUZXh0KCdtYXQtb3B0aW9uIHNwYW4nLCBvcHRpb24pKS5maXJzdCgpO1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHN0YXR1c0VsZW1lbnQpO1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNDbGlja2FibGUoc3RhdHVzRWxlbWVudCk7XG4gICAgICAgIHN0YXR1c0VsZW1lbnQuY2xpY2soKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0U3RhdHVzRmlsdGVyRHJvcERvd25WYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuYWxsKGJ5LmNzcyhcIm1hdC1zZWxlY3RbZGF0YS1hdXRvbWF0aW9uLWlkPSdhZGYtY2xvdWQtZWRpdC10YXNrLXByb3BlcnR5LXN0YXR1cyddIHNwYW5cIikpLmZpcnN0KCkuZ2V0VGV4dCgpO1xuICAgIH1cblxuICAgIHNldFNvcnRGaWx0ZXJEcm9wRG93bihvcHRpb24pIHtcbiAgICAgICAgdGhpcy5jbGlja09uRHJvcERvd25BcnJvdygnc29ydCcpO1xuXG4gICAgICAgIGNvbnN0IHNvcnRFbGVtZW50ID0gZWxlbWVudC5hbGwoYnkuY3NzQ29udGFpbmluZ1RleHQoJ21hdC1vcHRpb24gc3BhbicsIG9wdGlvbikpLmZpcnN0KCk7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc0NsaWNrYWJsZShzb3J0RWxlbWVudCk7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUoc29ydEVsZW1lbnQpO1xuICAgICAgICBzb3J0RWxlbWVudC5jbGljaygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBnZXRTb3J0RmlsdGVyRHJvcERvd25WYWx1ZSgpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudFNvcnQgPSBlbGVtZW50LmFsbChieS5jc3MoXCJtYXQtc2VsZWN0W2RhdGEtYXV0b21hdGlvbi1pZD0nYWRmLWNsb3VkLWVkaXQtdGFzay1wcm9wZXJ0eS1zb3J0J10gc3BhblwiKSkuZmlyc3QoKTtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZShlbGVtZW50U29ydCk7XG4gICAgICAgIHJldHVybiBlbGVtZW50U29ydC5nZXRUZXh0KCk7XG4gICAgfVxuXG4gICAgc2V0T3JkZXJGaWx0ZXJEcm9wRG93bihvcHRpb24pIHtcbiAgICAgICAgdGhpcy5jbGlja09uRHJvcERvd25BcnJvdygnb3JkZXInKTtcblxuICAgICAgICBjb25zdCBvcmRlckVsZW1lbnQgPSBlbGVtZW50LmFsbChieS5jc3NDb250YWluaW5nVGV4dCgnbWF0LW9wdGlvbiBzcGFuJywgb3B0aW9uKSkuZmlyc3QoKTtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzQ2xpY2thYmxlKG9yZGVyRWxlbWVudCk7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUob3JkZXJFbGVtZW50KTtcbiAgICAgICAgb3JkZXJFbGVtZW50LmNsaWNrKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldE9yZGVyRmlsdGVyRHJvcERvd25WYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuYWxsKGJ5LmNzcyhcIm1hdC1zZWxlY3RbZGF0YS1hdXRvbWF0aW9uLWlkPSdhZGYtY2xvdWQtZWRpdC10YXNrLXByb3BlcnR5LW9yZGVyJ10gc3BhblwiKSkuZmlyc3QoKS5nZXRUZXh0KCk7XG4gICAgfVxuXG4gICAgY2xpY2tPbkRyb3BEb3duQXJyb3cob3B0aW9uKSB7XG4gICAgICAgIGNvbnN0IGRyb3BEb3duQXJyb3cgPSBlbGVtZW50LmFsbChieS5jc3MoXCJtYXQtZm9ybS1maWVsZFtkYXRhLWF1dG9tYXRpb24taWQ9J1wiICsgb3B0aW9uICsgXCInXSBkaXZbY2xhc3MqPSdhcnJvdyddXCIpKS5maXJzdCgpO1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKGRyb3BEb3duQXJyb3cpO1xuICAgICAgICBkcm9wRG93bkFycm93LmNsaWNrKCk7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5zZWxlY3RlZE9wdGlvbik7XG4gICAgfVxuXG4gICAgc2V0QXNzaWduZWUob3B0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldFByb3BlcnR5KCdhc3NpZ25lZScsIG9wdGlvbik7XG4gICAgfVxuXG4gICAgZ2V0QXNzaWduZWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFzc2lnbmVlLmdldFRleHQoKTtcbiAgICB9XG5cbiAgICBzZXRQcmlvcml0eShvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0UHJvcGVydHkoJ3ByaW9yaXR5Jywgb3B0aW9uKTtcbiAgICB9XG5cbiAgICBnZXRQcmlvcml0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJpb3JpdHkuZ2V0VGV4dCgpO1xuICAgIH1cblxuICAgIHNldFBhcmVudFRhc2tJZChvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0UHJvcGVydHkoJ3BhcmVudFRhc2tJZCcsIG9wdGlvbik7XG4gICAgfVxuXG4gICAgZ2V0UGFyZW50VGFza0lkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnRUYXNrSWQuZ2V0VGV4dCgpO1xuICAgIH1cblxuICAgIHNldE93bmVyKG9wdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRQcm9wZXJ0eSgnb3duZXInLCBvcHRpb24pO1xuICAgIH1cblxuICAgIGdldE93bmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vd25lci5nZXRUZXh0KCk7XG4gICAgfVxuXG4gICAgc2V0TGFzdE1vZGlmaWVkRnJvbShvcHRpb24pIHtcbiAgICAgICAgdGhpcy5jbGVhckZpZWxkKHRoaXMubGFzdE1vZGlmaWVkRnJvbSk7XG4gICAgICAgIHJldHVybiB0aGlzLnNldFByb3BlcnR5KCdsYXN0TW9kaWZpZWRGcm9tJywgb3B0aW9uKTtcbiAgICB9XG5cbiAgICBnZXRMYXN0TW9kaWZpZWRGcm9tKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXN0TW9kaWZpZWRGcm9tLmdldFRleHQoKTtcbiAgICB9XG5cbiAgICBzZXRMYXN0TW9kaWZpZWRUbyhvcHRpb24pIHtcbiAgICAgICAgdGhpcy5jbGVhckZpZWxkKHRoaXMubGFzdE1vZGlmaWVkVG8pO1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRQcm9wZXJ0eSgnbGFzdE1vZGlmaWVkVG8nLCBvcHRpb24pO1xuICAgIH1cblxuICAgIGdldExhc3RNb2RpZmllZFRvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXN0TW9kaWZpZWRUby5nZXRUZXh0KCk7XG4gICAgfVxuXG4gICAgY2hlY2tTYXZlQnV0dG9uSXNEaXNwbGF5ZWQoKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5zYXZlQnV0dG9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY2hlY2tTYXZlQXNCdXR0b25Jc0Rpc3BsYXllZCgpIHtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLnNhdmVBc0J1dHRvbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNoZWNrRGVsZXRlQnV0dG9uSXNEaXNwbGF5ZWQoKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5kZWxldGVCdXR0b24pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBjaGVja1NhdmVCdXR0b25Jc0VuYWJsZWQoKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5zYXZlQnV0dG9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2F2ZUJ1dHRvbi5pc0VuYWJsZWQoKTtcbiAgICB9XG5cbiAgICBjaGVja1NhdmVBc0J1dHRvbklzRW5hYmxlZCgpIHtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLnNhdmVCdXR0b24pO1xuICAgICAgICByZXR1cm4gdGhpcy5zYXZlQXNCdXR0b24uaXNFbmFibGVkKCk7XG4gICAgfVxuXG4gICAgY2hlY2tEZWxldGVCdXR0b25Jc0VuYWJsZWQoKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5zYXZlQnV0dG9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVsZXRlQnV0dG9uLmlzRW5hYmxlZCgpO1xuICAgIH1cblxuICAgIGNsaWNrU2F2ZUFzQnV0dG9uKCkge1xuICAgICAgICBjb25zdCBkaXNhYmxlZEJ1dHRvbiA9IGVsZW1lbnQoYnkuY3NzKChcImJ1dHRvbltkYXRhLWF1dG9tYXRpb24taWQ9J2FkZi1maWx0ZXItYWN0aW9uLXNhdmVBcyddW2Rpc2FibGVkXVwiKSkpO1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNDbGlja2FibGUodGhpcy5zYXZlQXNCdXR0b24pO1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMuc2F2ZUFzQnV0dG9uKTtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzTm90VmlzaWJsZShkaXNhYmxlZEJ1dHRvbik7XG4gICAgICAgIHRoaXMuc2F2ZUFzQnV0dG9uLmNsaWNrKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmVkaXRUYXNrRmlsdGVyRGlhbG9nUGFnZTtcbiAgICB9XG5cbiAgICBjbGlja0RlbGV0ZUJ1dHRvbigpIHtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLmRlbGV0ZUJ1dHRvbik7XG4gICAgICAgIHRoaXMuZGVsZXRlQnV0dG9uLmNsaWNrKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNsaWNrU2F2ZUJ1dHRvbigpIHtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLnNhdmVCdXR0b24pO1xuICAgICAgICB0aGlzLnNhdmVCdXR0b24uY2xpY2soKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY2xlYXJBc3NpZ25lZSgpIHtcbiAgICAgICAgdGhpcy5jbGVhckZpZWxkKHRoaXMuYXNzaWduZWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBjbGVhckZpZWxkKGxvY2F0b3IpIHtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZShsb2NhdG9yKTtcbiAgICAgICAgbG9jYXRvci5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gcmVzdWx0Lmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICBsb2NhdG9yLnNlbmRLZXlzKHByb3RyYWN0b3IuS2V5LkJBQ0tfU1BBQ0UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXRBcHBOYW1lRHJvcERvd24ob3B0aW9uKSB7XG4gICAgICAgIHRoaXMuY2xpY2tPbkRyb3BEb3duQXJyb3coJ2FwcE5hbWUnKTtcblxuICAgICAgICBjb25zdCBhcHBOYW1lRWxlbWVudCA9IGVsZW1lbnQuYWxsKGJ5LmNzc0NvbnRhaW5pbmdUZXh0KCdtYXQtb3B0aW9uIHNwYW4nLCBvcHRpb24pKS5maXJzdCgpO1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNDbGlja2FibGUoYXBwTmFtZUVsZW1lbnQpO1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKGFwcE5hbWVFbGVtZW50KTtcbiAgICAgICAgYXBwTmFtZUVsZW1lbnQuY2xpY2soKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0QXBwTmFtZURyb3BEb3duVmFsdWUoKSB7XG4gICAgICAgIGNvbnN0IGxvY2F0b3IgPSBlbGVtZW50LmFsbChieS5jc3MoXCJtYXQtc2VsZWN0W2RhdGEtYXV0b21hdGlvbi1pZD0nYWRmLWNsb3VkLWVkaXQtdGFzay1wcm9wZXJ0eS1hcHBOYW1lJ10gc3BhblwiKSkuZmlyc3QoKTtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZShsb2NhdG9yKTtcbiAgICAgICAgcmV0dXJuIGxvY2F0b3IuZ2V0VGV4dCgpO1xuICAgIH1cblxuICAgIHNldElkKG9wdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRQcm9wZXJ0eSgndGFza0lkJywgb3B0aW9uKTtcbiAgICB9XG5cbiAgICBnZXRJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgIH1cblxuICAgIHNldFRhc2tOYW1lKG9wdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRQcm9wZXJ0eSgndGFza05hbWUnLCBvcHRpb24pO1xuICAgIH1cblxuICAgIGdldFRhc2tOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50YXNrTmFtZS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgfVxuXG4gICAgc2V0UHJvY2Vzc0RlZmluaXRpb25JZChvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0UHJvcGVydHkoJ3Byb2Nlc3NEZWZpbml0aW9uSWQnLCBvcHRpb24pO1xuICAgIH1cblxuICAgIGdldFByb2Nlc3NEZWZpbml0aW9uSWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NEZWZpbml0aW9uSWQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgIH1cblxuICAgIHNldFByb2Nlc3NJbnN0YW5jZUlkKG9wdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRQcm9wZXJ0eSgncHJvY2Vzc0luc3RhbmNlSWQnLCBvcHRpb24pO1xuICAgIH1cblxuICAgIHNldFByb3BlcnR5KHByb3BlcnR5LCBvcHRpb24pIHtcbiAgICAgICAgY29uc3QgbG9jYXRvciA9IGVsZW1lbnQoYnkuY3NzKCdpbnB1dFtkYXRhLWF1dG9tYXRpb24taWQ9XCJhZGYtY2xvdWQtZWRpdC10YXNrLXByb3BlcnR5LScgKyBwcm9wZXJ0eSArICdcIl0nKSk7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUobG9jYXRvcik7XG4gICAgICAgIGxvY2F0b3IuY2xlYXIoKTtcbiAgICAgICAgbG9jYXRvci5zZW5kS2V5cyhvcHRpb24pO1xuICAgICAgICBsb2NhdG9yLnNlbmRLZXlzKHByb3RyYWN0b3IuS2V5LkVOVEVSKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0UHJvY2Vzc0luc3RhbmNlSWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NJbnN0YW5jZUlkLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICB9XG5cbn1cbiJdfQ==