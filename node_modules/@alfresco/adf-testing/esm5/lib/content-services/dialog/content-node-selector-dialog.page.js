/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/*!
 * @license
 * Copyright 2019 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
import { by, element } from 'protractor';
import { DocumentListPage } from '../pages/document-list.page';
import { BrowserVisibility } from '../../core/utils/browser-visibility';
var ContentNodeSelectorDialogPage = /** @class */ (function () {
    function ContentNodeSelectorDialogPage() {
        this.dialog = element(by.css("adf-content-node-selector"));
        this.header = this.dialog.element(by.css("header[data-automation-id='content-node-selector-title']"));
        this.searchInputElement = this.dialog.element(by.css("input[data-automation-id='content-node-selector-search-input']"));
        this.searchLabel = this.searchInputElement.element(by.xpath("ancestor::div[@class='mat-form-field-infix']/span/label"));
        this.siteListDropdown = this.dialog.element(by.css("mat-select[data-automation-id='site-my-files-option']"));
        this.cancelButton = element(by.css("button[data-automation-id='content-node-selector-actions-cancel']"));
        this.moveCopyButton = element(by.css("button[data-automation-id='content-node-selector-actions-choose']"));
        this.contentList = new DocumentListPage(this.dialog);
    }
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    ContentNodeSelectorDialogPage.prototype.checkDialogIsDisplayed = /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).dialog);
        return (/** @type {?} */ (this));
    };
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    ContentNodeSelectorDialogPage.prototype.checkDialogIsNotDisplayed = /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    function () {
        BrowserVisibility.waitUntilElementIsNotOnPage((/** @type {?} */ (this)).dialog);
        return (/** @type {?} */ (this));
    };
    /**
     * @return {?}
     */
    ContentNodeSelectorDialogPage.prototype.getDialogHeaderText = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.header);
        return this.header.getText();
    };
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    ContentNodeSelectorDialogPage.prototype.checkSearchInputIsDisplayed = /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).searchInputElement);
        return (/** @type {?} */ (this));
    };
    /**
     * @return {?}
     */
    ContentNodeSelectorDialogPage.prototype.getSearchLabel = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.searchLabel);
        return this.searchLabel.getText();
    };
    /**
     * @param {?} siteName
     * @return {?}
     */
    ContentNodeSelectorDialogPage.prototype.checkSelectedSiteIsDisplayed = /**
     * @param {?} siteName
     * @return {?}
     */
    function (siteName) {
        BrowserVisibility.waitUntilElementIsVisible(this.siteListDropdown.element(by.cssContainingText('.mat-select-value-text span', siteName)));
    };
    /**
     * @return {?}
     */
    ContentNodeSelectorDialogPage.prototype.checkCancelButtonIsDisplayed = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.cancelButton);
    };
    /**
     * @return {?}
     */
    ContentNodeSelectorDialogPage.prototype.clickCancelButton = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.cancelButton);
        return this.cancelButton.click();
    };
    /**
     * @return {?}
     */
    ContentNodeSelectorDialogPage.prototype.checkMoveCopyButtonIsDisplayed = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.moveCopyButton);
    };
    /**
     * @return {?}
     */
    ContentNodeSelectorDialogPage.prototype.getMoveCopyButtonText = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.moveCopyButton);
        return this.moveCopyButton.getText();
    };
    /**
     * @return {?}
     */
    ContentNodeSelectorDialogPage.prototype.clickMoveCopyButton = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.moveCopyButton);
        return this.moveCopyButton.click();
    };
    /**
     * @return {?}
     */
    ContentNodeSelectorDialogPage.prototype.numberOfResultsDisplayed = /**
     * @return {?}
     */
    function () {
        return this.contentList.dataTablePage().numberOfRows();
    };
    /**
     * @param {?} text
     * @return {?}
     */
    ContentNodeSelectorDialogPage.prototype.typeIntoNodeSelectorSearchField = /**
     * @param {?} text
     * @return {?}
     */
    function (text) {
        BrowserVisibility.waitUntilElementIsVisible(this.searchInputElement);
        this.searchInputElement.sendKeys(text);
    };
    /**
     * @param {?} name
     * @return {?}
     */
    ContentNodeSelectorDialogPage.prototype.clickContentNodeSelectorResult = /**
     * @param {?} name
     * @return {?}
     */
    function (name) {
        this.contentList.dataTablePage().clickRowByContent(name);
    };
    /**
     * @return {?}
     */
    ContentNodeSelectorDialogPage.prototype.contentListPage = /**
     * @return {?}
     */
    function () {
        return this.contentList;
    };
    return ContentNodeSelectorDialogPage;
}());
export { ContentNodeSelectorDialogPage };
if (false) {
    /** @type {?} */
    ContentNodeSelectorDialogPage.prototype.dialog;
    /** @type {?} */
    ContentNodeSelectorDialogPage.prototype.header;
    /** @type {?} */
    ContentNodeSelectorDialogPage.prototype.searchInputElement;
    /** @type {?} */
    ContentNodeSelectorDialogPage.prototype.searchLabel;
    /** @type {?} */
    ContentNodeSelectorDialogPage.prototype.siteListDropdown;
    /** @type {?} */
    ContentNodeSelectorDialogPage.prototype.cancelButton;
    /** @type {?} */
    ContentNodeSelectorDialogPage.prototype.moveCopyButton;
    /** @type {?} */
    ContentNodeSelectorDialogPage.prototype.contentList;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGVudC1ub2RlLXNlbGVjdG9yLWRpYWxvZy5wYWdlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGFsZnJlc2NvL2FkZi10ZXN0aW5nLyIsInNvdXJjZXMiOlsibGliL2NvbnRlbnQtc2VydmljZXMvZGlhbG9nL2NvbnRlbnQtbm9kZS1zZWxlY3Rvci1kaWFsb2cucGFnZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWlCQSxPQUFPLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxNQUFNLFlBQVksQ0FBQztBQUN6QyxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUMvRCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxxQ0FBcUMsQ0FBQztBQUV4RTtJQUFBO1FBQ0ksV0FBTSxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLDJCQUEyQixDQUFDLENBQUMsQ0FBQztRQUN0RCxXQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQywwREFBMEQsQ0FBQyxDQUFDLENBQUM7UUFDakcsdUJBQWtCLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxnRUFBZ0UsQ0FBQyxDQUFDLENBQUM7UUFDbkgsZ0JBQVcsR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMseURBQXlELENBQUMsQ0FBQyxDQUFDO1FBQ25ILHFCQUFnQixHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsdURBQXVELENBQUMsQ0FBQyxDQUFDO1FBQ3hHLGlCQUFZLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsbUVBQW1FLENBQUMsQ0FBQyxDQUFDO1FBQ3BHLG1CQUFjLEdBQUcsT0FBTyxDQUFDLEVB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O0lBQTlCLFVBQStCLElBQUk7UUFDL0IsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM3RCxDQUFDOzs7O0lBRUQsdURBQWU7OztJQUFmO1FBQ0ksT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDO0lBQzVCLENBQUM7SUFDTCxvQ0FBQztBQUFELENBQUMsQUE5RUQsSUE4RUM7Ozs7SUE3RUcsK0NBQXNEOztJQUN0RCwrQ0FBaUc7O0lBQ2pHLDJEQUFtSDs7SUFDbkgsb0RBQW1IOztJQUNuSCx5REFBd0c7O0lBQ3hHLHFEQUFvRzs7SUFDcEcsdURBQXNHOztJQUN0RyxvREFBZ0QiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBieSwgZWxlbWVudCB9IGZyb20gJ3Byb3RyYWN0b3InO1xuaW1wb3J0IHsgRG9jdW1lbnRMaXN0UGFnZSB9IGZyb20gJy4uL3BhZ2VzL2RvY3VtZW50LWxpc3QucGFnZSc7XG5pbXBvcnQgeyBCcm93c2VyVmlzaWJpbGl0eSB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbHMvYnJvd3Nlci12aXNpYmlsaXR5JztcblxuZXhwb3J0IGNsYXNzIENvbnRlbnROb2RlU2VsZWN0b3JEaWFsb2dQYWdlIHtcbiAgICBkaWFsb2cgPSBlbGVtZW50KGJ5LmNzcyhgYWRmLWNvbnRlbnQtbm9kZS1zZWxlY3RvcmApKTtcbiAgICBoZWFkZXIgPSB0aGlzLmRpYWxvZy5lbGVtZW50KGJ5LmNzcyhgaGVhZGVyW2RhdGEtYXV0b21hdGlvbi1pZD0nY29udGVudC1ub2RlLXNlbGVjdG9yLXRpdGxlJ11gKSk7XG4gICAgc2VhcmNoSW5wdXRFbGVtZW50ID0gdGhpcy5kaWFsb2cuZWxlbWVudChieS5jc3MoYGlucHV0W2RhdGEtYXV0b21hdGlvbi1pZD0nY29udGVudC1ub2RlLXNlbGVjdG9yLXNlYXJjaC1pbnB1dCddYCkpO1xuICAgIHNlYXJjaExhYmVsID0gdGhpcy5zZWFyY2hJbnB1dEVsZW1lbnQuZWxlbWVudChieS54cGF0aChcImFuY2VzdG9yOjpkaXZbQGNsYXNzPSdtYXQtZm9ybS1maWVsZC1pbmZpeCddL3NwYW4vbGFiZWxcIikpO1xuICAgIHNpdGVMaXN0RHJvcGRvd24gPSB0aGlzLmRpYWxvZy5lbGVtZW50KGJ5LmNzcyhgbWF0LXNlbGVjdFtkYXRhLWF1dG9tYXRpb24taWQ9J3NpdGUtbXktZmlsZXMtb3B0aW9uJ11gKSk7XG4gICAgY2FuY2VsQnV0dG9uID0gZWxlbWVudChieS5jc3MoYGJ1dHRvbltkYXRhLWF1dG9tYXRpb24taWQ9J2NvbnRlbnQtbm9kZS1zZWxlY3Rvci1hY3Rpb25zLWNhbmNlbCddYCkpO1xuICAgIG1vdmVDb3B5QnV0dG9uID0gZWxlbWVudChieS5jc3MoYGJ1dHRvbltkYXRhLWF1dG9tYXRpb24taWQ9J2NvbnRlbnQtbm9kZS1zZWxlY3Rvci1hY3Rpb25zLWNob29zZSddYCkpO1xuICAgIGNvbnRlbnRMaXN0ID0gbmV3IERvY3VtZW50TGlzdFBhZ2UodGhpcy5kaWFsb2cpO1xuXG4gICAgY2hlY2tEaWFsb2dJc0Rpc3BsYXllZCgpIHtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLmRpYWxvZyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNoZWNrRGlhbG9nSXNOb3REaXNwbGF5ZWQoKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc05vdE9uUGFnZSh0aGlzLmRpYWxvZyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldERpYWxvZ0hlYWRlclRleHQoKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5oZWFkZXIpO1xuICAgICAgICByZXR1cm4gdGhpcy5oZWFkZXIuZ2V0VGV4dCgpO1xuICAgIH1cblxuICAgIGNoZWNrU2VhcmNoSW5wdXRJc0Rpc3BsYXllZCgpIHtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLnNlYXJjaElucHV0RWxlbWVudCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldFNlYXJjaExhYmVsKCkge1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMuc2VhcmNoTGFiZWwpO1xuICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2hMYWJlbC5nZXRUZXh0KCk7XG4gICAgfVxuXG4gICAgY2hlY2tTZWxlY3RlZFNpdGVJc0Rpc3BsYXllZChzaXRlTmFtZSkge1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMuc2l0ZUxpc3REcm9wZG93bi5lbGVtZW50KGJ5LmNzc0NvbnRhaW5pbmdUZXh0KCcubWF0LXNlbGVjdC12YWx1ZS10ZXh0IHNwYW4nLCBzaXRlTmFtZSkpKTtcbiAgICB9XG5cbiAgICBjaGVja0NhbmNlbEJ1dHRvbklzRGlzcGxheWVkKCkge1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMuY2FuY2VsQnV0dG9uKTtcbiAgICB9XG5cbiAgICBjbGlja0NhbmNlbEJ1dHRvbigpIHtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLmNhbmNlbEJ1dHRvbik7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbmNlbEJ1dHRvbi5jbGljaygpO1xuICAgIH1cblxuICAgIGNoZWNrTW92ZUNvcHlCdXR0b25Jc0Rpc3BsYXllZCgpIHtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLm1vdmVDb3B5QnV0dG9uKTtcbiAgICB9XG5cbiAgICBnZXRNb3ZlQ29weUJ1dHRvblRleHQoKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5tb3ZlQ29weUJ1dHRvbik7XG4gICAgICAgIHJldHVybiB0aGlzLm1vdmVDb3B5QnV0dG9uLmdldFRleHQoKTtcbiAgICB9XG5cbiAgICBjbGlja01vdmVDb3B5QnV0dG9uKCkge1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMubW92ZUNvcHlCdXR0b24pO1xuICAgICAgICByZXR1cm4gdGhpcy5tb3ZlQ29weUJ1dHRvbi5jbGljaygpO1xuICAgIH1cblxuICAgIG51bWJlck9mUmVzdWx0c0Rpc3BsYXllZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGVudExpc3QuZGF0YVRhYmxlUGFnZSgpLm51bWJlck9mUm93cygpO1xuICAgIH1cblxuICAgIHR5cGVJbnRvTm9kZVNlbGVjdG9yU2VhcmNoRmllbGQodGV4dCkge1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMuc2VhcmNoSW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5zZWFyY2hJbnB1dEVsZW1lbnQuc2VuZEtleXModGV4dCk7XG4gICAgfVxuXG4gICAgY2xpY2tDb250ZW50Tm9kZVNlbGVjdG9yUmVzdWx0KG5hbWUpIHtcbiAgICAgICAgdGhpcy5jb250ZW50TGlzdC5kYXRhVGFibGVQYWdlKCkuY2xpY2tSb3dCeUNvbnRlbnQobmFtZSk7XG4gICAgfVxuXG4gICAgY29udGVudExpc3RQYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50TGlzdDtcbiAgICB9XG59XG4iXX0=