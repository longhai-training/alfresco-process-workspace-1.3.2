/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
/*!
 * @license
 * Copyright 2019 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
import { AlfrescoApiCompatibility as AlfrescoApi } from '@alfresco/js-api';
var ApiService = /** @class */ (function () {
    function ApiService(clientId, host, hostSso, provider) {
        this.config = {
            provider: provider,
            hostBpm: host,
            hostEcm: host,
            authType: 'OAUTH',
            oauth2: {
                host: hostSso,
                clientId: clientId,
                scope: 'openid',
                secret: '',
                implicitFlow: false,
                silentLogin: false,
                redirectUri: '/',
                redirectUriLogout: '/logout'
            }
        };
        this.apiService = new AlfrescoApi(this.config);
    }
    /**
     * @param {?} username
     * @param {?} password
     * @return {?}
     */
    ApiService.prototype.login = /**
     * @param {?} username
     * @param {?} password
     * @return {?}
     */
    function (username, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.apiService.login(username, password)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * @param {?} path
     * @param {?} method
     * @param {?} queryParams
     * @param {?} postBody
     * @return {?}
     */
    ApiService.prototype.performBpmOperation = /**
     * @param {?} path
     * @param {?} method
     * @param {?} queryParams
     * @param {?} postBody
     * @return {?}
     */
    function (path, method, queryParams, postBody) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var uri, pathParams, formParams, contentTypes, accepts, headerParams;
            return tslib_1.__generator(this, function (_a) {
                uri = this.config.hostBpm + path;
                pathParams = {};
                formParams = {};
                contentTypes = ['application/json'];
                accepts = ['application/json'];
                headerParams = {
                    'Authorization': 'bearer ' + this.apiService.oauth2Auth.token
                };
                return [2 /*return*/, this.apiService.processClient.callCustomApi(uri, method, pathParams, queryParams, headerParams, formParams, postBody, contentTypes, accepts, Object)
                        .catch((/**
                     * @param {?} error
                     * @return {?}
                     */
                    function (error) {
                        throw (error);
                    }))];
            });
        });
    };
    /**
     * @param {?} path
     * @param {?} method
     * @param {?} queryParams
     * @param {?} postBody
     * @return {?}
     */
    ApiService.prototype.performIdentityOperation = /**
     * @param {?} path
     * @param {?} method
     * @param {?} queryParams
     * @param {?} postBody
     * @return {?}
     */
    function (path, method, queryParams, postBody) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var uri, pathParams, formParams, contentTypes, accepts, headerParams;
            return tslib_1.__generator(this, function (_a) {
                uri = this.config.oauth2.host.replace('/realms', '/admin/realms') + path;
                pathParams = {};
                formParams = {};
                contentTypes = ['application/json'];
                accepts = ['application/json'];
                headerParams = {
                    'Authorization': 'bearer ' + this.apiService.oauth2Auth.token
                };
                return [2 /*return*/, this.apiService.processClient.callCustomApi(uri, method, pathParams, queryParams, headerParams, formParams, postBody, contentTypes, accepts, Object)
                        .catch((/**
                     * @param {?} error
                     * @return {?}
                     */
                    function (error) {
                        throw (error);
                    }))];
            });
        });
    };
    return ApiService;
}());
export { ApiService };
if (false) {
    /** @type {?} */
    ApiService.prototype.apiService;
    /** @type {?} */
    ApiService.prototype.config;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBpLnNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AYWxmcmVzY28vYWRmLXRlc3RpbmcvIiwic291cmNlcyI6WyJsaWIvY29yZS9hY3Rpb25zL2FwaS5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWlCQSxPQUFPLEVBQUUsd0JBQXdCLElBQUksV0FBVyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFHM0U7SUFNSSxvQkFBWSxRQUFnQixFQUFFLElBQVksRUFBRSxPQUFlLEVBQUUsUUFBZ0I7UUFDekUsSUFBSSxDQUFDLE1BQU0sR0FBRztZQUNWLFFBQVEsRUFBRSxRQUFRO1lBQ2xCLE9BQU8sRUFBRSxJQUFJO1lBQ2IsT0FBTyxFQUFFLElBQUk7WUFDYixRQUFRLEVBQUUsT0FBTztZQUNqQixNQUFNLEVBQUU7Z0JBQ0osSUFBSSxFQUFFLE9BQU87Z0JBQ2IsUUFBUSxFQUFFLFFBQVE7Z0JBQ2xCLEtBQUssRUFBRSxRQUFRO2dCQUNmLE1BQU0sRUFBRSxFQUFFO2dCQUNWLFlBQVksRUFBRSxLQUFLO2dCQUNuQixXQUFXLEVBQUUsS0FBSztnQkFDbEIsV0FBVyxFQUFFLEdBQUc7Z0JBQ2hCLGlCQUFpQixFQUFFLFNBQVM7YUFDL0I7U0FFSixDQUFDO1FBRUYsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbkQsQ0FBQzs7Ozs7O0lBRUssMEJBQUs7Ozs7O0lBQVgsVUFBWSxRQUFnQixFQUFFLFFBQWdCOzs7OzRCQUMxQyxxQkFBTSxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLEVBQUE7O3dCQUEvQyxTQUErQyxDQUFDOzs7OztLQUNuRDs7Ozs7Ozs7SUFFSyx3Q0FBbUI7Ozs7Ozs7SUFBekIsVUFBMEIsSUFBWSxFQUFFLE1BQWMsRUFBRSxXQUFnQixFQUFFLFFBQWE7Ozs7Z0JBQzdFLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJO2dCQUNoQyxVQUFVLEdBQUcsRUFBRTtnQkFBRSxVQUFVLEdBQUcsRUFBRTtnQkFDaEMsWUFBWSxHQUFHLENBQUMsa0JBQWtCLENBQUM7Z0JBQ25DLE9BQU8sR0FBRyxDQUFDLGtCQUFrQixDQUFDO2dCQUU5QixZQUFZLEdBQUc7b0JBQ2pCLGVBQWUsRUFBRSxTQUFTLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsS0FBSztpQkFDaEU7Z0JBRUQsc0JBQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxZQUFZLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFDdkgsWUFBWSxFQUFFLE9BQU8sRUFBRSxNQUFNLENBQUM7eUJBQzdCLEtBQUs7Ozs7b0JBQUMsVUFBQyxLQUFLO3dCQUNULE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFDbEIsQ0FBQyxFQUFDLEVBQUM7OztLQUNWOzs7Ozs7OztJQUVLLDZDQUF3Qjs7Ozs7OztJQUE5QixVQUErQixJQUFZLEVBQUUsTUFBYyxFQUFFLFdBQWdCLEVBQUUsUUFBYTs7OztnQkFDbEYsR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLGVBQWUsQ0FBQyxHQUFHLElBQUk7Z0JBQ3hFLFVBQVUsR0FBRyxFQUFFO2dCQUFFLFVBQVUsR0FBRyxFQUFFO2dCQUNoQyxZQUFZLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQztnQkFDbkMsT0FBTyxHQUFHLENBQUMsa0JBQWtCLENBQUM7Z0JBRTlCLFlBQVksR0FBRztvQkFDakIsZUFBZSxFQUFFLFNBQVMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxLQUFLO2lCQUNoRTtnQkFFRCxzQkFBTyxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLFlBQVksRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUN2SCxZQUFZLEVBQUUsT0FBTyxFQUFFLE1BQU0sQ0FBQzt5QkFDN0IsS0FBSzs7OztvQkFBQyxVQUFDLEtBQUs7d0JBQ1QsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUNsQixDQUFDLEVBQUMsRUFBQzs7O0tBQ1Y7SUFFTCxpQkFBQztBQUFELENBQUMsQUFsRUQsSUFrRUM7Ozs7SUFoRUcsZ0NBQXdCOztJQUV4Qiw0QkFBMEIiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBBbGZyZXNjb0FwaUNvbXBhdGliaWxpdHkgYXMgQWxmcmVzY29BcGkgfSBmcm9tICdAYWxmcmVzY28vanMtYXBpJztcbmltcG9ydCB7IEFsZnJlc2NvQXBpQ29uZmlnIH0gZnJvbSAnQGFsZnJlc2NvL2pzLWFwaS9zcmMvYWxmcmVzY29BcGlDb25maWcnO1xuXG5leHBvcnQgY2xhc3MgQXBpU2VydmljZSB7XG5cbiAgICBhcGlTZXJ2aWNlOiBBbGZyZXNjb0FwaTtcblxuICAgIGNvbmZpZzogQWxmcmVzY29BcGlDb25maWc7XG5cbiAgICBjb25zdHJ1Y3RvcihjbGllbnRJZDogc3RyaW5nLCBob3N0OiBzdHJpbmcsIGhvc3RTc286IHN0cmluZywgcHJvdmlkZXI6IHN0cmluZykge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgICAgICAgIHByb3ZpZGVyOiBwcm92aWRlcixcbiAgICAgICAgICAgIGhvc3RCcG06IGhvc3QsXG4gICAgICAgICAgICBob3N0RWNtOiBob3N0LFxuICAgICAgICAgICAgYXV0aFR5cGU6ICdPQVVUSCcsXG4gICAgICAgICAgICBvYXV0aDI6IHtcbiAgICAgICAgICAgICAgICBob3N0OiBob3N0U3NvLFxuICAgICAgICAgICAgICAgIGNsaWVudElkOiBjbGllbnRJZCxcbiAgICAgICAgICAgICAgICBzY29wZTogJ29wZW5pZCcsXG4gICAgICAgICAgICAgICAgc2VjcmV0OiAnJyxcbiAgICAgICAgICAgICAgICBpbXBsaWNpdEZsb3c6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNpbGVudExvZ2luOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZWRpcmVjdFVyaTogJy8nLFxuICAgICAgICAgICAgICAgIHJlZGlyZWN0VXJpTG9nb3V0OiAnL2xvZ291dCdcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuYXBpU2VydmljZSA9IG5ldyBBbGZyZXNjb0FwaSh0aGlzLmNvbmZpZyk7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9naW4odXNlcm5hbWU6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykge1xuICAgICAgICBhd2FpdCB0aGlzLmFwaVNlcnZpY2UubG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICBhc3luYyBwZXJmb3JtQnBtT3BlcmF0aW9uKHBhdGg6IHN0cmluZywgbWV0aG9kOiBzdHJpbmcsIHF1ZXJ5UGFyYW1zOiBhbnksIHBvc3RCb2R5OiBhbnkpIHtcbiAgICAgICAgY29uc3QgdXJpID0gdGhpcy5jb25maWcuaG9zdEJwbSArIHBhdGg7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7fSwgZm9ybVBhcmFtcyA9IHt9O1xuICAgICAgICBjb25zdCBjb250ZW50VHlwZXMgPSBbJ2FwcGxpY2F0aW9uL2pzb24nXTtcbiAgICAgICAgY29uc3QgYWNjZXB0cyA9IFsnYXBwbGljYXRpb24vanNvbiddO1xuXG4gICAgICAgIGNvbnN0IGhlYWRlclBhcmFtcyA9IHtcbiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ2JlYXJlciAnICsgdGhpcy5hcGlTZXJ2aWNlLm9hdXRoMkF1dGgudG9rZW5cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gdGhpcy5hcGlTZXJ2aWNlLnByb2Nlc3NDbGllbnQuY2FsbEN1c3RvbUFwaSh1cmksIG1ldGhvZCwgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMsIGhlYWRlclBhcmFtcywgZm9ybVBhcmFtcywgcG9zdEJvZHksXG4gICAgICAgICAgICBjb250ZW50VHlwZXMsIGFjY2VwdHMsIE9iamVjdClcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICB0aHJvdyAoZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgcGVyZm9ybUlkZW50aXR5T3BlcmF0aW9uKHBhdGg6IHN0cmluZywgbWV0aG9kOiBzdHJpbmcsIHF1ZXJ5UGFyYW1zOiBhbnksIHBvc3RCb2R5OiBhbnkpIHtcbiAgICAgICAgY29uc3QgdXJpID0gdGhpcy5jb25maWcub2F1dGgyLmhvc3QucmVwbGFjZSgnL3JlYWxtcycsICcvYWRtaW4vcmVhbG1zJykgKyBwYXRoO1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge30sIGZvcm1QYXJhbXMgPSB7fTtcbiAgICAgICAgY29uc3QgY29udGVudFR5cGVzID0gWydhcHBsaWNhdGlvbi9qc29uJ107XG4gICAgICAgIGNvbnN0IGFjY2VwdHMgPSBbJ2FwcGxpY2F0aW9uL2pzb24nXTtcblxuICAgICAgICBjb25zdCBoZWFkZXJQYXJhbXMgPSB7XG4gICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdiZWFyZXIgJyArIHRoaXMuYXBpU2VydmljZS5vYXV0aDJBdXRoLnRva2VuXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYXBpU2VydmljZS5wcm9jZXNzQ2xpZW50LmNhbGxDdXN0b21BcGkodXJpLCBtZXRob2QsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zLCBoZWFkZXJQYXJhbXMsIGZvcm1QYXJhbXMsIHBvc3RCb2R5LFxuICAgICAgICAgICAgY29udGVudFR5cGVzLCBhY2NlcHRzLCBPYmplY3QpXG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgKGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxufVxuIl19