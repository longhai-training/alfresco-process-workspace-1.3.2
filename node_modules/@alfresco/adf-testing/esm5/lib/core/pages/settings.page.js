/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
/*!
 * @license
 * Copyright 2019 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
import { browser, by, element, protractor } from 'protractor';
import { BrowserVisibility } from '../utils/browser-visibility';
var SettingsPage = /** @class */ (function () {
    function SettingsPage() {
        this.settingsURL = browser.baseUrl + '/settings';
        this.providerDropdown = element(by.css('mat-select[id="adf-provider-selector"] div[class="mat-select-arrow-wrapper"]'));
        this.ecmAndBpm = {
            option: element(by.xpath('//SPAN[@class="mat-option-text"][contains(text(),"ALL")]')),
            text: 'ALL'
        };
        this.bpm = {
            option: element(by.xpath('//SPAN[@class="mat-option-text"][contains(text(),"BPM") and not (contains(text(),"and"))]')),
            text: 'BPM'
        };
        this.ecm = {
            option: element(by.xpath('//SPAN[@class="mat-option-text"][contains(text(),"ECM") and not (contains(text(),"and"))]')),
            text: 'ECM'
        };
        this.oauth = {
            option: element(by.xpath('//SPAN[@class="mat-option-text"][contains(text(),"OAUTH")]')),
            text: 'OAUTH'
        };
        this.selectedOption = element(by.css('span[class*="mat-select-value-text"]'));
        this.ecmText = element(by.css('input[data-automation-id*="ecmHost"]'));
        this.bpmText = element(by.css('input[data-automation-id*="bpmHost"]'));
        this.clientIdText = element(by.css('input[id="clientId"]'));
        this.authHostText = element(by.css('input[id="oauthHost"]'));
        this.logoutUrlText = element(by.css('input[id="logout-url"]'));
        this.basicAuthRadioButton = element(by.cssContainingText('mat-radio-button[id*="mat-radio"]', 'Basic Authentication'));
        this.identityHostText = element(by.css('input[id="identityHost"]'));
        this.ssoRadioButton = element(by.cssContainingText('[id*="mat-radio"]', 'SSO'));
        this.silentLoginToggleLabel = element(by.css('mat-slide-toggle[name="silentLogin"] label'));
        this.silentLoginToggleElement = element(by.css('mat-slide-toggle[name="silentLogin"]'));
        this.implicitFlowLabel = element(by.css('mat-slide-toggle[name="implicitFlow"] label'));
        this.implicitFlowElement = element(by.css('mat-slide-toggle[name="implicitFlow"]'));
        this.applyButton = element(by.css('button[data-automation-id*="host-button"]'));
        this.backButton = element(by.cssContainingText('button span[class="mat-button-wrapper"]', 'Back'));
        this.validationMessage = element(by.cssContainingText('mat-error', 'This field is required'));
    }
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    SettingsPage.prototype.goToSettingsPage = /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    function () {
        browser.waitForAngularEnabled(true);
        browser.driver.get((/** @type {?} */ (this)).settingsURL);
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).providerDropdown);
        return (/** @type {?} */ (this));
    };
    /**
     * @param {?} option
     * @param {?} selected
     * @return {?}
     */
    SettingsPage.prototype.setProvider = /**
     * @param {?} option
     * @param {?} selected
     * @return {?}
     */
    function (option, selected) {
        BrowserVisibility.waitUntilElementIsVisible(this.providerDropdown);
        this.providerDropdown.click();
        BrowserVisibility.waitUntilElementIsVisible(option);
        option.click();
        return expect(this.selectedOption.getText()).toEqual(selected);
    };
    /**
     * @return {?}
     */
    SettingsPage.prototype.getSelectedOptionText = /**
     * @return {?}
     */
    function () {
        return this.selectedOption.getText();
    };
    /**
     * @return {?}
     */
    SettingsPage.prototype.getBpmHostUrl = /**
     * @return {?}
     */
    function () {
        return this.bpmText.getAttribute('value');
    };
    /**
     * @return {?}
     */
    SettingsPage.prototype.getEcmHostUrl = /**
     * @return {?}
     */
    function () {
        return this.ecmText.getAttribute('value');
    };
    /**
     * @return {?}
     */
    SettingsPage.prototype.getBpmOption = /**
     * @return {?}
     */
    function () {
        return this.bpm.option;
    };
    /**
     * @return {?}
     */
    SettingsPage.prototype.getEcmOption = /**
     * @return {?}
     */
    function () {
        return this.ecm.option;
    };
    /**
     * @return {?}
     */
    SettingsPage.prototype.getEcmAndBpmOption = /**
     * @return {?}
     */
    function () {
        return this.ecmAndBpm.option;
    };
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    SettingsPage.prototype.setProviderEcmBpm = /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    function () {
        (/** @type {?} */ (this)).goToSettingsPage();
        (/** @type {?} */ (this)).setProvider((/** @type {?} */ (this)).ecmAndBpm.option, (/** @type {?} */ (this)).ecmAndBpm.text);
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).bpmText);
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).ecmText);
        (/** @type {?} */ (this)).clickApply();
        return (/** @type {?} */ (this));
    };
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    SettingsPage.prototype.setProviderBpm = /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    function () {
        (/** @type {?} */ (this)).goToSettingsPage();
        (/** @type {?} */ (this)).setProvider((/** @type {?} */ (this)).bpm.option, (/** @type {?} */ (this)).bpm.text);
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).bpmText);
        (/** @type {?} */ (this)).clickApply();
        return (/** @type {?} */ (this));
    };
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    SettingsPage.prototype.setProviderEcm = /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    function () {
        (/** @type {?} */ (this)).goToSettingsPage();
        (/** @type {?} */ (this)).setProvider((/** @type {?} */ (this)).ecm.option, (/** @type {?} */ (this)).ecm.text);
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).ecmText);
        expect((/** @type {?} */ (this)).bpmText.isPresent()).toBeFalsy();
        (/** @type {?} */ (this)).clickApply();
        return (/** @type {?} */ (this));
    };
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    SettingsPage.prototype.setProviderOauth = /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    function () {
        (/** @type {?} */ (this)).goToSettingsPage();
        (/** @type {?} */ (this)).setProvider((/** @type {?} */ (this)).oauth.option, (/** @type {?} */ (this)).oauth.text);
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).bpmText);
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).ecmText);
        expect((/** @type {?} */ (this)).authHostText.isPresent()).toBeTruthy();
        (/** @type {?} */ (this)).clickApply();
        return (/** @type {?} */ (this));
    };
    /**
     * @return {?}
     */
    SettingsPage.prototype.clickBackButton = /**
     * @return {?}
     */
    function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        BrowserVisibility.waitUntilElementIsVisible(this.backButton);
                        return [4 /*yield*/, this.backButton.click()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * @return {?}
     */
    SettingsPage.prototype.clickSsoRadioButton = /**
     * @return {?}
     */
    function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        BrowserVisibility.waitUntilElementIsVisible(this.ssoRadioButton);
                        return [4 /*yield*/, this.ssoRadioButton.click()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * @param {?} contentServiceURL
     * @param {?} authHost
     * @param {?} identityHost
     * @param {?=} silentLogin
     * @param {?=} implicitFlow
     * @param {?=} clientId
     * @param {?=} logoutUr
     * @return {?}
     */
    SettingsPage.prototype.setProviderEcmSso = /**
     * @param {?} contentServiceURL
     * @param {?} authHost
     * @param {?} identityHost
     * @param {?=} silentLogin
     * @param {?=} implicitFlow
     * @param {?=} clientId
     * @param {?=} logoutUr
     * @return {?}
     */
    function (contentServiceURL, authHost, identityHost, silentLogin, implicitFlow, clientId, logoutUr) {
        if (silentLogin === void 0) { silentLogin = true; }
        if (implicitFlow === void 0) { implicitFlow = true; }
        if (logoutUr === void 0) { logoutUr = '/logout'; }
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.goToSettingsPage();
                        this.setProvider(this.ecm.option, this.ecm.text);
                        BrowserVisibility.waitUntilElementIsNotOnPage(this.bpmText);
                        BrowserVisibility.waitUntilElementIsVisible(this.ecmText);
                        return [4 /*yield*/, this.clickSsoRadioButton()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.setClientId(clientId)];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, this.setContentServicesURL(contentServiceURL)];
                    case 3:
                        _a.sent();
                        return [4 /*yield*/, this.setAuthHost(authHost)];
                    case 4:
                        _a.sent();
                        return [4 /*yield*/, this.setIdentityHost(identityHost)];
                    case 5:
                        _a.sent();
                        return [4 /*yield*/, this.setSilentLogin(silentLogin)];
                    case 6:
                        _a.sent();
                        return [4 /*yield*/, this.setImplicitFlow(implicitFlow)];
                    case 7:
                        _a.sent();
                        return [4 /*yield*/, this.setLogoutUrl(logoutUr)];
                    case 8:
                        _a.sent();
                        return [4 /*yield*/, this.clickApply()];
                    case 9:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * @param {?} processServiceURL
     * @param {?} authHost
     * @param {?} identityHost
     * @param {?=} silentLogin
     * @param {?=} implicitFlow
     * @return {?}
     */
    SettingsPage.prototype.setProviderBpmSso = /**
     * @param {?} processServiceURL
     * @param {?} authHost
     * @param {?} identityHost
     * @param {?=} silentLogin
     * @param {?=} implicitFlow
     * @return {?}
     */
    function (processServiceURL, authHost, identityHost, silentLogin, implicitFlow) {
        if (silentLogin === void 0) { silentLogin = true; }
        if (implicitFlow === void 0) { implicitFlow = true; }
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.goToSettingsPage();
                        this.setProvider(this.bpm.option, this.bpm.text);
                        BrowserVisibility.waitUntilElementIsVisible(this.bpmText);
                        BrowserVisibility.waitUntilElementIsNotOnPage(this.ecmText);
                        return [4 /*yield*/, this.clickSsoRadioButton()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.setClientId()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, this.setProcessServicesURL(processServiceURL)];
                    case 3:
                        _a.sent();
                        return [4 /*yield*/, this.setAuthHost(authHost)];
                    case 4:
                        _a.sent();
                        return [4 /*yield*/, this.setIdentityHost(identityHost)];
                    case 5:
                        _a.sent();
                        return [4 /*yield*/, this.setSilentLogin(silentLogin)];
                    case 6:
                        _a.sent();
                        return [4 /*yield*/, this.setImplicitFlow(implicitFlow)];
                    case 7:
                        _a.sent();
                        return [4 /*yield*/, this.clickApply()];
                    case 8:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * @param {?} logoutUrl
     * @return {?}
     */
    SettingsPage.prototype.setLogoutUrl = /**
     * @param {?} logoutUrl
     * @return {?}
     */
    function (logoutUrl) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                BrowserVisibility.waitUntilElementIsPresent(this.logoutUrlText);
                this.logoutUrlText.clear();
                this.logoutUrlText.sendKeys(logoutUrl);
                return [2 /*return*/];
            });
        });
    };
    /**
     * @param {?} processServiceURL
     * @return {?}
     */
    SettingsPage.prototype.setProcessServicesURL = /**
     * @param {?} processServiceURL
     * @return {?}
     */
    function (processServiceURL) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                BrowserVisibility.waitUntilElementIsVisible(this.bpmText);
                this.bpmText.clear();
                this.bpmText.sendKeys(processServiceURL);
                return [2 /*return*/];
            });
        });
    };
    /**
     * @param {?=} clientId
     * @return {?}
     */
    SettingsPage.prototype.setClientId = /**
     * @param {?=} clientId
     * @return {?}
     */
    function (clientId) {
        if (clientId === void 0) { clientId = browser.params.config.oauth2.clientId; }
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                BrowserVisibility.waitUntilElementIsVisible(this.clientIdText);
                this.clientIdText.clear();
                this.clientIdText.sendKeys(clientId);
                return [2 /*return*/];
            });
        });
    };
    /**
     * @param {?} contentServiceURL
     * @return {?}
     */
    SettingsPage.prototype.setContentServicesURL = /**
     * @param {?} contentServiceURL
     * @return {?}
     */
    function (contentServiceURL) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                BrowserVisibility.waitUntilElementIsClickable(this.ecmText);
                this.ecmText.clear();
                this.ecmText.sendKeys(contentServiceURL);
                return [2 /*return*/];
            });
        });
    };
    /**
     * @return {?}
     */
    SettingsPage.prototype.clearContentServicesURL = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.ecmText);
        this.ecmText.clear();
        this.ecmText.sendKeys('a');
        this.ecmText.sendKeys(protractor.Key.BACK_SPACE);
    };
    /**
     * @return {?}
     */
    SettingsPage.prototype.clearProcessServicesURL = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.bpmText);
        this.bpmText.clear();
        this.bpmText.sendKeys('a');
        this.bpmText.sendKeys(protractor.Key.BACK_SPACE);
    };
    /**
     * @param {?} authHostURL
     * @return {?}
     */
    SettingsPage.prototype.setAuthHost = /**
     * @param {?} authHostURL
     * @return {?}
     */
    function (authHostURL) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        BrowserVisibility.waitUntilElementIsVisible(this.authHostText);
                        return [4 /*yield*/, this.authHostText.clear()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.authHostText.sendKeys(authHostURL)];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * @param {?} identityHost
     * @return {?}
     */
    SettingsPage.prototype.setIdentityHost = /**
     * @param {?} identityHost
     * @return {?}
     */
    function (identityHost) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        BrowserVisibility.waitUntilElementIsVisible(this.identityHostText);
                        return [4 /*yield*/, this.identityHostText.clear()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.identityHostText.sendKeys(identityHost)];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * @return {?}
     */
    SettingsPage.prototype.clickApply = /**
     * @return {?}
     */
    function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        BrowserVisibility.waitUntilElementIsVisible(this.applyButton);
                        return [4 /*yield*/, this.applyButton.click()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * @param {?} enableToggle
     * @return {?}
     */
    SettingsPage.prototype.setSilentLogin = /**
     * @param {?} enableToggle
     * @return {?}
     */
    function (enableToggle) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var isChecked;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, BrowserVisibility.waitUntilElementIsVisible(this.silentLoginToggleElement)];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.silentLoginToggleElement.getAttribute('class')];
                    case 2:
                        isChecked = (_a.sent()).includes('mat-checked');
                        if (isChecked && !enableToggle || !isChecked && enableToggle) {
                            return [2 /*return*/, this.silentLoginToggleLabel.click()];
                        }
                        return [2 /*return*/, Promise.resolve()];
                }
            });
        });
    };
    /**
     * @param {?} enableToggle
     * @return {?}
     */
    SettingsPage.prototype.setImplicitFlow = /**
     * @param {?} enableToggle
     * @return {?}
     */
    function (enableToggle) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var isChecked;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, BrowserVisibility.waitUntilElementIsVisible(this.implicitFlowElement)];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.implicitFlowElement.getAttribute('class')];
                    case 2:
                        isChecked = (_a.sent()).includes('mat-checked');
                        if (isChecked && !enableToggle || !isChecked && enableToggle) {
                            return [2 /*return*/, this.implicitFlowLabel.click()];
                        }
                        return [2 /*return*/, Promise.resolve()];
                }
            });
        });
    };
    /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    SettingsPage.prototype.checkApplyButtonIsDisabled = /**
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible((/** @type {?} */ (this)).applyButton.getAttribute('disabled'));
        return (/** @type {?} */ (this));
    };
    /**
     * @return {?}
     */
    SettingsPage.prototype.checkProviderDropdownIsDisplayed = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.providerDropdown);
    };
    /**
     * @return {?}
     */
    SettingsPage.prototype.checkValidationMessageIsDisplayed = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.validationMessage);
    };
    /**
     * @return {?}
     */
    SettingsPage.prototype.checkProviderOptions = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.providerDropdown);
        this.providerDropdown.click();
        BrowserVisibility.waitUntilElementIsVisible(this.ecmAndBpm.option);
        BrowserVisibility.waitUntilElementIsVisible(this.ecm.option);
        BrowserVisibility.waitUntilElementIsVisible(this.bpm.option);
    };
    /**
     * @return {?}
     */
    SettingsPage.prototype.getBasicAuthRadioButton = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.basicAuthRadioButton);
        return this.basicAuthRadioButton;
    };
    /**
     * @return {?}
     */
    SettingsPage.prototype.getSsoRadioButton = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.ssoRadioButton);
        return this.ssoRadioButton;
    };
    /**
     * @return {?}
     */
    SettingsPage.prototype.getBackButton = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.backButton);
        return this.backButton;
    };
    /**
     * @return {?}
     */
    SettingsPage.prototype.getApplyButton = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.applyButton);
        return this.applyButton;
    };
    /**
     * @return {?}
     */
    SettingsPage.prototype.checkBasicAuthRadioIsSelected = /**
     * @return {?}
     */
    function () {
        expect(this.getBasicAuthRadioButton().getAttribute('class')).toContain('mat-radio-checked');
    };
    /**
     * @return {?}
     */
    SettingsPage.prototype.checkSsoRadioIsNotSelected = /**
     * @return {?}
     */
    function () {
        expect(this.getSsoRadioButton().getAttribute('class')).not.toContain('mat-radio-checked');
    };
    return SettingsPage;
}());
export { SettingsPage };
if (false) {
    /** @type {?} */
    SettingsPage.prototype.settingsURL;
    /** @type {?} */
    SettingsPage.prototype.providerDropdown;
    /** @type {?} */
    SettingsPage.prototype.ecmAndBpm;
    /** @type {?} */
    SettingsPage.prototype.bpm;
    /** @type {?} */
    SettingsPage.prototype.ecm;
    /** @type {?} */
    SettingsPage.prototype.oauth;
    /** @type {?} */
    SettingsPage.prototype.selectedOption;
    /** @type {?} */
    SettingsPage.prototype.ecmText;
    /** @type {?} */
    SettingsPage.prototype.bpmText;
    /** @type {?} */
    SettingsPage.prototype.clientIdText;
    /** @type {?} */
    SettingsPage.prototype.authHostText;
    /** @type {?} */
    SettingsPage.prototype.logoutUrlText;
    /** @type {?} */
    SettingsPage.prototype.basicAuthRadioButton;
    /** @type {?} */
    SettingsPage.prototype.identityHostText;
    /** @type {?} */
    SettingsPage.prototype.ssoRadioButton;
    /** @type {?} */
    SettingsPage.prototype.silentLoginToggleLabel;
    /** @type {?} */
    SettingsPage.prototype.silentLoginToggleElement;
    /** @type {?} */
    SettingsPage.prototype.implicitFlowLabel;
    /** @type {?} */
    SettingsPage.prototype.implicitFlowElement;
    /** @type {?} */
    SettingsPage.prototype.applyButton;
    /** @type {?} */
    SettingsPage.prototype.backButton;
    /** @type {?} */
    SettingsPage.prototype.validationMessage;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2V0dGluZ3MucGFnZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BhbGZyZXNjby9hZGYtdGVzdGluZy8iLCJzb3VyY2VzIjpbImxpYi9jb3JlL3BhZ2VzL3NldHRpbmdzLnBhZ2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBaUJBLE9BQU8sRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDOUQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFFaEU7SUFBQTtRQUVJLGdCQUFXLEdBQUcsT0FBTyxDQUFDLE9BQU8sR0FBRyxXQUFXLENBQUM7UUFDNUMscUJBQWdCLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsOEVBQThFLENBQUMsQ0FBQyxDQUFDO1FBQ25ILGNBQVMsR0FBRztZQUNSLE1BQU0sRUFBRSxPQUFPLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQywwREFBMEQsQ0FBQyxDQUFDO1lBQ3JGLElBQUksRUFBRSxLQUFLO1NBQ2QsQ0FBQztRQUNGLFFBQUcsR0FBRztZQUNGLE1BQU0sRUFBRSxPQUFPLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQywyRkFBMkYsQ0FBQyxDQUFDO1lBQ3RILElBQUksRUFBRSxLQUFLO1NBQ2QsQ0FBQztRQUNGLFFBQUcsR0FBRztZQUNGLE1BQU0sRUFBRSxPQUFPLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQywyRkFBMkYsQ0FBQyxDQUFDO1lBQ3RILElBQUksRUFBRSxLQUFLO1NBQ2QsQ0FBQztRQUNGLFVBQUssR0FBRztZQUNKLE1BQU0sRUFBRSxPQUFPLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyw0REFBNEQsQ0FBQyxDQUFDO1lBQ3ZGLElBQUksRUFBRSxPQUFPO1NBQ2hCLENBQUM7UUFDRixtQkFBYyxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLHNDQUFz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N0QsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQzNCLENBQUM7Ozs7SUFFRCxxQ0FBYzs7O0lBQWQ7UUFDSSxpQkFBaUIsQ0FBQyx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDOUQsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDO0lBQzVCLENBQUM7Ozs7SUFFRCxvREFBNkI7OztJQUE3QjtRQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsdUJBQXVCLEVBQUUsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsbUJBQW1CLENBQUMsQ0FBQztJQUNoRyxDQUFDOzs7O0lBRUQsaURBQTBCOzs7SUFBMUI7UUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0lBQzlGLENBQUM7SUFDTCxtQkFBQztBQUFELENBQUMsQUF4UkQsSUF3UkM7Ozs7SUF0UkcsbUNBQTRDOztJQUM1Qyx3Q0FBbUg7O0lBQ25ILGlDQUdFOztJQUNGLDJCQUdFOztJQUNGLDJCQUdFOztJQUNGLDZCQUdFOztJQUNGLHNDQUF5RTs7SUFDekUsK0JBQWtFOztJQUNsRSwrQkFBa0U7O0lBQ2xFLG9DQUF1RDs7SUFDdkQsb0NBQXdEOztJQUN4RCxxQ0FBMEQ7O0lBQzFELDRDQUFrSDs7SUFDbEgsd0NBQStEOztJQUMvRCxzQ0FBMkU7O0lBQzNFLDhDQUF1Rjs7SUFDdkYsZ0RBQW1GOztJQUNuRix5Q0FBbUY7O0lBQ25GLDJDQUErRTs7SUFDL0UsbUNBQTJFOztJQUMzRSxrQ0FBOEY7O0lBQzlGLHlDQUF5RiIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IGJyb3dzZXIsIGJ5LCBlbGVtZW50LCBwcm90cmFjdG9yIH0gZnJvbSAncHJvdHJhY3Rvcic7XG5pbXBvcnQgeyBCcm93c2VyVmlzaWJpbGl0eSB9IGZyb20gJy4uL3V0aWxzL2Jyb3dzZXItdmlzaWJpbGl0eSc7XG5cbmV4cG9ydCBjbGFzcyBTZXR0aW5nc1BhZ2Uge1xuXG4gICAgc2V0dGluZ3NVUkwgPSBicm93c2VyLmJhc2VVcmwgKyAnL3NldHRpbmdzJztcbiAgICBwcm92aWRlckRyb3Bkb3duID0gZWxlbWVudChieS5jc3MoJ21hdC1zZWxlY3RbaWQ9XCJhZGYtcHJvdmlkZXItc2VsZWN0b3JcIl0gZGl2W2NsYXNzPVwibWF0LXNlbGVjdC1hcnJvdy13cmFwcGVyXCJdJykpO1xuICAgIGVjbUFuZEJwbSA9IHtcbiAgICAgICAgb3B0aW9uOiBlbGVtZW50KGJ5LnhwYXRoKCcvL1NQQU5bQGNsYXNzPVwibWF0LW9wdGlvbi10ZXh0XCJdW2NvbnRhaW5zKHRleHQoKSxcIkFMTFwiKV0nKSksXG4gICAgICAgIHRleHQ6ICdBTEwnXG4gICAgfTtcbiAgICBicG0gPSB7XG4gICAgICAgIG9wdGlvbjogZWxlbWVudChieS54cGF0aCgnLy9TUEFOW0BjbGFzcz1cIm1hdC1vcHRpb24tdGV4dFwiXVtjb250YWlucyh0ZXh0KCksXCJCUE1cIikgYW5kIG5vdCAoY29udGFpbnModGV4dCgpLFwiYW5kXCIpKV0nKSksXG4gICAgICAgIHRleHQ6ICdCUE0nXG4gICAgfTtcbiAgICBlY20gPSB7XG4gICAgICAgIG9wdGlvbjogZWxlbWVudChieS54cGF0aCgnLy9TUEFOW0BjbGFzcz1cIm1hdC1vcHRpb24tdGV4dFwiXVtjb250YWlucyh0ZXh0KCksXCJFQ01cIikgYW5kIG5vdCAoY29udGFpbnModGV4dCgpLFwiYW5kXCIpKV0nKSksXG4gICAgICAgIHRleHQ6ICdFQ00nXG4gICAgfTtcbiAgICBvYXV0aCA9IHtcbiAgICAgICAgb3B0aW9uOiBlbGVtZW50KGJ5LnhwYXRoKCcvL1NQQU5bQGNsYXNzPVwibWF0LW9wdGlvbi10ZXh0XCJdW2NvbnRhaW5zKHRleHQoKSxcIk9BVVRIXCIpXScpKSxcbiAgICAgICAgdGV4dDogJ09BVVRIJ1xuICAgIH07XG4gICAgc2VsZWN0ZWRPcHRpb24gPSBlbGVtZW50KGJ5LmNzcygnc3BhbltjbGFzcyo9XCJtYXQtc2VsZWN0LXZhbHVlLXRleHRcIl0nKSk7XG4gICAgZWNtVGV4dCA9IGVsZW1lbnQoYnkuY3NzKCdpbnB1dFtkYXRhLWF1dG9tYXRpb24taWQqPVwiZWNtSG9zdFwiXScpKTtcbiAgICBicG1UZXh0ID0gZWxlbWVudChieS5jc3MoJ2lucHV0W2RhdGEtYXV0b21hdGlvbi1pZCo9XCJicG1Ib3N0XCJdJykpO1xuICAgIGNsaWVudElkVGV4dCA9IGVsZW1lbnQoYnkuY3NzKCdpbnB1dFtpZD1cImNsaWVudElkXCJdJykpO1xuICAgIGF1dGhIb3N0VGV4dCA9IGVsZW1lbnQoYnkuY3NzKCdpbnB1dFtpZD1cIm9hdXRoSG9zdFwiXScpKTtcbiAgICBsb2dvdXRVcmxUZXh0ID0gZWxlbWVudChieS5jc3MoJ2lucHV0W2lkPVwibG9nb3V0LXVybFwiXScpKTtcbiAgICBiYXNpY0F1dGhSYWRpb0J1dHRvbiA9IGVsZW1lbnQoYnkuY3NzQ29udGFpbmluZ1RleHQoJ21hdC1yYWRpby1idXR0b25baWQqPVwibWF0LXJhZGlvXCJdJywgJ0Jhc2ljIEF1dGhlbnRpY2F0aW9uJykpO1xuICAgIGlkZW50aXR5SG9zdFRleHQgPSBlbGVtZW50KGJ5LmNzcygnaW5wdXRbaWQ9XCJpZGVudGl0eUhvc3RcIl0nKSk7XG4gICAgc3NvUmFkaW9CdXR0b24gPSBlbGVtZW50KGJ5LmNzc0NvbnRhaW5pbmdUZXh0KCdbaWQqPVwibWF0LXJhZGlvXCJdJywgJ1NTTycpKTtcbiAgICBzaWxlbnRMb2dpblRvZ2dsZUxhYmVsID0gZWxlbWVudChieS5jc3MoJ21hdC1zbGlkZS10b2dnbGVbbmFtZT1cInNpbGVudExvZ2luXCJdIGxhYmVsJykpO1xuICAgIHNpbGVudExvZ2luVG9nZ2xlRWxlbWVudCA9IGVsZW1lbnQoYnkuY3NzKCdtYXQtc2xpZGUtdG9nZ2xlW25hbWU9XCJzaWxlbnRMb2dpblwiXScpKTtcbiAgICBpbXBsaWNpdEZsb3dMYWJlbCA9IGVsZW1lbnQoYnkuY3NzKCdtYXQtc2xpZGUtdG9nZ2xlW25hbWU9XCJpbXBsaWNpdEZsb3dcIl0gbGFiZWwnKSk7XG4gICAgaW1wbGljaXRGbG93RWxlbWVudCA9IGVsZW1lbnQoYnkuY3NzKCdtYXQtc2xpZGUtdG9nZ2xlW25hbWU9XCJpbXBsaWNpdEZsb3dcIl0nKSk7XG4gICAgYXBwbHlCdXR0b24gPSBlbGVtZW50KGJ5LmNzcygnYnV0dG9uW2RhdGEtYXV0b21hdGlvbi1pZCo9XCJob3N0LWJ1dHRvblwiXScpKTtcbiAgICBiYWNrQnV0dG9uID0gZWxlbWVudChieS5jc3NDb250YWluaW5nVGV4dCgnYnV0dG9uIHNwYW5bY2xhc3M9XCJtYXQtYnV0dG9uLXdyYXBwZXJcIl0nLCAnQmFjaycpKTtcbiAgICB2YWxpZGF0aW9uTWVzc2FnZSA9IGVsZW1lbnQoYnkuY3NzQ29udGFpbmluZ1RleHQoJ21hdC1lcnJvcicsICdUaGlzIGZpZWxkIGlzIHJlcXVpcmVkJykpO1xuXG4gICAgZ29Ub1NldHRpbmdzUGFnZSgpIHtcbiAgICAgICAgYnJvd3Nlci53YWl0Rm9yQW5ndWxhckVuYWJsZWQodHJ1ZSk7XG4gICAgICAgIGJyb3dzZXIuZHJpdmVyLmdldCh0aGlzLnNldHRpbmdzVVJMKTtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLnByb3ZpZGVyRHJvcGRvd24pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzZXRQcm92aWRlcihvcHRpb24sIHNlbGVjdGVkKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5wcm92aWRlckRyb3Bkb3duKTtcbiAgICAgICAgdGhpcy5wcm92aWRlckRyb3Bkb3duLmNsaWNrKCk7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUob3B0aW9uKTtcbiAgICAgICAgb3B0aW9uLmNsaWNrKCk7XG4gICAgICAgIHJldHVybiBleHBlY3QodGhpcy5zZWxlY3RlZE9wdGlvbi5nZXRUZXh0KCkpLnRvRXF1YWwoc2VsZWN0ZWQpO1xuICAgIH1cblxuICAgIGdldFNlbGVjdGVkT3B0aW9uVGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRPcHRpb24uZ2V0VGV4dCgpO1xuICAgIH1cblxuICAgIGdldEJwbUhvc3RVcmwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJwbVRleHQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgIH1cblxuICAgIGdldEVjbUhvc3RVcmwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVjbVRleHQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgIH1cblxuICAgIGdldEJwbU9wdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnBtLm9wdGlvbjtcbiAgICB9XG5cbiAgICBnZXRFY21PcHRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVjbS5vcHRpb247XG4gICAgfVxuXG4gICAgZ2V0RWNtQW5kQnBtT3B0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lY21BbmRCcG0ub3B0aW9uO1xuICAgIH1cblxuICAgIHNldFByb3ZpZGVyRWNtQnBtKCkge1xuICAgICAgICB0aGlzLmdvVG9TZXR0aW5nc1BhZ2UoKTtcbiAgICAgICAgdGhpcy5zZXRQcm92aWRlcih0aGlzLmVjbUFuZEJwbS5vcHRpb24sIHRoaXMuZWNtQW5kQnBtLnRleHQpO1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMuYnBtVGV4dCk7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5lY21UZXh0KTtcbiAgICAgICAgdGhpcy5jbGlja0FwcGx5KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNldFByb3ZpZGVyQnBtKCkge1xuICAgICAgICB0aGlzLmdvVG9TZXR0aW5nc1BhZ2UoKTtcbiAgICAgICAgdGhpcy5zZXRQcm92aWRlcih0aGlzLmJwbS5vcHRpb24sIHRoaXMuYnBtLnRleHQpO1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMuYnBtVGV4dCk7XG4gICAgICAgIHRoaXMuY2xpY2tBcHBseSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzZXRQcm92aWRlckVjbSgpIHtcbiAgICAgICAgdGhpcy5nb1RvU2V0dGluZ3NQYWdlKCk7XG4gICAgICAgIHRoaXMuc2V0UHJvdmlkZXIodGhpcy5lY20ub3B0aW9uLCB0aGlzLmVjbS50ZXh0KTtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLmVjbVRleHQpO1xuICAgICAgICBleHBlY3QodGhpcy5icG1UZXh0LmlzUHJlc2VudCgpKS50b0JlRmFsc3koKTtcbiAgICAgICAgdGhpcy5jbGlja0FwcGx5KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNldFByb3ZpZGVyT2F1dGgoKSB7XG4gICAgICAgIHRoaXMuZ29Ub1NldHRpbmdzUGFnZSgpO1xuICAgICAgICB0aGlzLnNldFByb3ZpZGVyKHRoaXMub2F1dGgub3B0aW9uLCB0aGlzLm9hdXRoLnRleHQpO1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMuYnBtVGV4dCk7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5lY21UZXh0KTtcbiAgICAgICAgZXhwZWN0KHRoaXMuYXV0aEhvc3RUZXh0LmlzUHJlc2VudCgpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIHRoaXMuY2xpY2tBcHBseSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBhc3luYyBjbGlja0JhY2tCdXR0b24oKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5iYWNrQnV0dG9uKTtcbiAgICAgICAgYXdhaXQgdGhpcy5iYWNrQnV0dG9uLmNsaWNrKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgY2xpY2tTc29SYWRpb0J1dHRvbigpIHtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLnNzb1JhZGlvQnV0dG9uKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zc29SYWRpb0J1dHRvbi5jbGljaygpO1xuICAgIH1cblxuICAgIGFzeW5jIHNldFByb3ZpZGVyRWNtU3NvKGNvbnRlbnRTZXJ2aWNlVVJMLCBhdXRoSG9zdCwgaWRlbnRpdHlIb3N0LCBzaWxlbnRMb2dpbiA9IHRydWUsIGltcGxpY2l0RmxvdyA9IHRydWUsIGNsaWVudElkPzogc3RyaW5nLCBsb2dvdXRVcjogc3RyaW5nID0gJy9sb2dvdXQnKSB7XG4gICAgICAgIHRoaXMuZ29Ub1NldHRpbmdzUGFnZSgpO1xuICAgICAgICB0aGlzLnNldFByb3ZpZGVyKHRoaXMuZWNtLm9wdGlvbiwgdGhpcy5lY20udGV4dCk7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc05vdE9uUGFnZSh0aGlzLmJwbVRleHQpO1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMuZWNtVGV4dCk7XG4gICAgICAgIGF3YWl0IHRoaXMuY2xpY2tTc29SYWRpb0J1dHRvbigpO1xuICAgICAgICBhd2FpdCB0aGlzLnNldENsaWVudElkKGNsaWVudElkKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zZXRDb250ZW50U2VydmljZXNVUkwoY29udGVudFNlcnZpY2VVUkwpO1xuICAgICAgICBhd2FpdCB0aGlzLnNldEF1dGhIb3N0KGF1dGhIb3N0KTtcbiAgICAgICAgYXdhaXQgdGhpcy5zZXRJZGVudGl0eUhvc3QoaWRlbnRpdHlIb3N0KTtcbiAgICAgICAgYXdhaXQgdGhpcy5zZXRTaWxlbnRMb2dpbihzaWxlbnRMb2dpbik7XG4gICAgICAgIGF3YWl0IHRoaXMuc2V0SW1wbGljaXRGbG93KGltcGxpY2l0Rmxvdyk7XG4gICAgICAgIGF3YWl0IHRoaXMuc2V0TG9nb3V0VXJsKGxvZ291dFVyKTtcbiAgICAgICAgYXdhaXQgdGhpcy5jbGlja0FwcGx5KCk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2V0UHJvdmlkZXJCcG1Tc28ocHJvY2Vzc1NlcnZpY2VVUkwsIGF1dGhIb3N0LCBpZGVudGl0eUhvc3QsIHNpbGVudExvZ2luID0gdHJ1ZSwgaW1wbGljaXRGbG93ID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLmdvVG9TZXR0aW5nc1BhZ2UoKTtcbiAgICAgICAgdGhpcy5zZXRQcm92aWRlcih0aGlzLmJwbS5vcHRpb24sIHRoaXMuYnBtLnRleHQpO1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMuYnBtVGV4dCk7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc05vdE9uUGFnZSh0aGlzLmVjbVRleHQpO1xuICAgICAgICBhd2FpdCB0aGlzLmNsaWNrU3NvUmFkaW9CdXR0b24oKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zZXRDbGllbnRJZCgpO1xuICAgICAgICBhd2FpdCB0aGlzLnNldFByb2Nlc3NTZXJ2aWNlc1VSTChwcm9jZXNzU2VydmljZVVSTCk7XG4gICAgICAgIGF3YWl0IHRoaXMuc2V0QXV0aEhvc3QoYXV0aEhvc3QpO1xuICAgICAgICBhd2FpdCB0aGlzLnNldElkZW50aXR5SG9zdChpZGVudGl0eUhvc3QpO1xuICAgICAgICBhd2FpdCB0aGlzLnNldFNpbGVudExvZ2luKHNpbGVudExvZ2luKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zZXRJbXBsaWNpdEZsb3coaW1wbGljaXRGbG93KTtcbiAgICAgICAgYXdhaXQgdGhpcy5jbGlja0FwcGx5KCk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2V0TG9nb3V0VXJsKGxvZ291dFVybCkge1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNQcmVzZW50KHRoaXMubG9nb3V0VXJsVGV4dCk7XG4gICAgICAgIHRoaXMubG9nb3V0VXJsVGV4dC5jbGVhcigpO1xuICAgICAgICB0aGlzLmxvZ291dFVybFRleHQuc2VuZEtleXMobG9nb3V0VXJsKTtcbiAgICB9XG5cbiAgICBhc3luYyBzZXRQcm9jZXNzU2VydmljZXNVUkwocHJvY2Vzc1NlcnZpY2VVUkwpIHtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLmJwbVRleHQpO1xuICAgICAgICB0aGlzLmJwbVRleHQuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5icG1UZXh0LnNlbmRLZXlzKHByb2Nlc3NTZXJ2aWNlVVJMKTtcbiAgICB9XG5cbiAgICBhc3luYyBzZXRDbGllbnRJZChjbGllbnRJZDogc3RyaW5nID0gYnJvd3Nlci5wYXJhbXMuY29uZmlnLm9hdXRoMi5jbGllbnRJZCkge1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMuY2xpZW50SWRUZXh0KTtcbiAgICAgICAgdGhpcy5jbGllbnRJZFRleHQuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5jbGllbnRJZFRleHQuc2VuZEtleXMoY2xpZW50SWQpO1xuICAgIH1cblxuICAgIGFzeW5jIHNldENvbnRlbnRTZXJ2aWNlc1VSTChjb250ZW50U2VydmljZVVSTCkge1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNDbGlja2FibGUodGhpcy5lY21UZXh0KTtcbiAgICAgICAgdGhpcy5lY21UZXh0LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuZWNtVGV4dC5zZW5kS2V5cyhjb250ZW50U2VydmljZVVSTCk7XG4gICAgfVxuXG4gICAgY2xlYXJDb250ZW50U2VydmljZXNVUkwoKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5lY21UZXh0KTtcbiAgICAgICAgdGhpcy5lY21UZXh0LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuZWNtVGV4dC5zZW5kS2V5cygnYScpO1xuICAgICAgICB0aGlzLmVjbVRleHQuc2VuZEtleXMocHJvdHJhY3Rvci5LZXkuQkFDS19TUEFDRSk7XG4gICAgfVxuXG4gICAgY2xlYXJQcm9jZXNzU2VydmljZXNVUkwoKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5icG1UZXh0KTtcbiAgICAgICAgdGhpcy5icG1UZXh0LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuYnBtVGV4dC5zZW5kS2V5cygnYScpO1xuICAgICAgICB0aGlzLmJwbVRleHQuc2VuZEtleXMocHJvdHJhY3Rvci5LZXkuQkFDS19TUEFDRSk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2V0QXV0aEhvc3QoYXV0aEhvc3RVUkwpIHtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLmF1dGhIb3N0VGV4dCk7XG4gICAgICAgIGF3YWl0IHRoaXMuYXV0aEhvc3RUZXh0LmNsZWFyKCk7XG4gICAgICAgIGF3YWl0IHRoaXMuYXV0aEhvc3RUZXh0LnNlbmRLZXlzKGF1dGhIb3N0VVJMKTtcbiAgICB9XG5cbiAgICBhc3luYyBzZXRJZGVudGl0eUhvc3QoaWRlbnRpdHlIb3N0KSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5pZGVudGl0eUhvc3RUZXh0KTtcbiAgICAgICAgYXdhaXQgdGhpcy5pZGVudGl0eUhvc3RUZXh0LmNsZWFyKCk7XG4gICAgICAgIGF3YWl0IHRoaXMuaWRlbnRpdHlIb3N0VGV4dC5zZW5kS2V5cyhpZGVudGl0eUhvc3QpO1xuICAgIH1cblxuICAgIGFzeW5jIGNsaWNrQXBwbHkoKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5hcHBseUJ1dHRvbik7XG4gICAgICAgIGF3YWl0IHRoaXMuYXBwbHlCdXR0b24uY2xpY2soKTtcbiAgICB9XG5cbiAgICBhc3luYyBzZXRTaWxlbnRMb2dpbihlbmFibGVUb2dnbGUpIHtcbiAgICAgICAgYXdhaXQgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLnNpbGVudExvZ2luVG9nZ2xlRWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgaXNDaGVja2VkID0gKGF3YWl0IHRoaXMuc2lsZW50TG9naW5Ub2dnbGVFbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuaW5jbHVkZXMoJ21hdC1jaGVja2VkJyk7XG5cbiAgICAgICAgaWYgKGlzQ2hlY2tlZCAmJiAhZW5hYmxlVG9nZ2xlIHx8ICFpc0NoZWNrZWQgJiYgZW5hYmxlVG9nZ2xlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaWxlbnRMb2dpblRvZ2dsZUxhYmVsLmNsaWNrKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2V0SW1wbGljaXRGbG93KGVuYWJsZVRvZ2dsZSkge1xuICAgICAgICBhd2FpdCBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMuaW1wbGljaXRGbG93RWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgaXNDaGVja2VkID0gKGF3YWl0IHRoaXMuaW1wbGljaXRGbG93RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLmluY2x1ZGVzKCdtYXQtY2hlY2tlZCcpO1xuXG4gICAgICAgIGlmIChpc0NoZWNrZWQgJiYgIWVuYWJsZVRvZ2dsZSB8fCAhaXNDaGVja2VkICYmIGVuYWJsZVRvZ2dsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW1wbGljaXRGbG93TGFiZWwuY2xpY2soKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBjaGVja0FwcGx5QnV0dG9uSXNEaXNhYmxlZCgpIHtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLmFwcGx5QnV0dG9uLmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNoZWNrUHJvdmlkZXJEcm9wZG93bklzRGlzcGxheWVkKCkge1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMucHJvdmlkZXJEcm9wZG93bik7XG4gICAgfVxuXG4gICAgY2hlY2tWYWxpZGF0aW9uTWVzc2FnZUlzRGlzcGxheWVkKCkge1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH1cblxuICAgIGNoZWNrUHJvdmlkZXJPcHRpb25zKCkge1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMucHJvdmlkZXJEcm9wZG93bik7XG4gICAgICAgIHRoaXMucHJvdmlkZXJEcm9wZG93bi5jbGljaygpO1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMuZWNtQW5kQnBtLm9wdGlvbik7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5lY20ub3B0aW9uKTtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLmJwbS5vcHRpb24pO1xuICAgIH1cblxuICAgIGdldEJhc2ljQXV0aFJhZGlvQnV0dG9uKCkge1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMuYmFzaWNBdXRoUmFkaW9CdXR0b24pO1xuICAgICAgICByZXR1cm4gdGhpcy5iYXNpY0F1dGhSYWRpb0J1dHRvbjtcbiAgICB9XG5cbiAgICBnZXRTc29SYWRpb0J1dHRvbigpIHtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLnNzb1JhZGlvQnV0dG9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3NvUmFkaW9CdXR0b247XG4gICAgfVxuXG4gICAgZ2V0QmFja0J1dHRvbigpIHtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLmJhY2tCdXR0b24pO1xuICAgICAgICByZXR1cm4gdGhpcy5iYWNrQnV0dG9uO1xuICAgIH1cblxuICAgIGdldEFwcGx5QnV0dG9uKCkge1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMuYXBwbHlCdXR0b24pO1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBseUJ1dHRvbjtcbiAgICB9XG5cbiAgICBjaGVja0Jhc2ljQXV0aFJhZGlvSXNTZWxlY3RlZCgpIHtcbiAgICAgICAgZXhwZWN0KHRoaXMuZ2V0QmFzaWNBdXRoUmFkaW9CdXR0b24oKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQ29udGFpbignbWF0LXJhZGlvLWNoZWNrZWQnKTtcbiAgICB9XG5cbiAgICBjaGVja1Nzb1JhZGlvSXNOb3RTZWxlY3RlZCgpIHtcbiAgICAgICAgZXhwZWN0KHRoaXMuZ2V0U3NvUmFkaW9CdXR0b24oKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLm5vdC50b0NvbnRhaW4oJ21hdC1yYWRpby1jaGVja2VkJyk7XG4gICAgfVxufVxuIl19