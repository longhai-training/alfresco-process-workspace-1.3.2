/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/*!
 * @license
 * Copyright 2019 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
import { element, by, protractor } from 'protractor';
import { BrowserVisibility } from '../utils/browser-visibility';
var HeaderPage = /** @class */ (function () {
    function HeaderPage() {
        this.checkBox = element(by.cssContainingText('.mat-checkbox-label', 'Show menu button'));
        this.headerColor = element(by.css('option[value="primary"]'));
        this.titleInput = element(by.css('input[name="title"]'));
        this.iconInput = element(by.css('input[placeholder="URL path"]'));
        this.hexColorInput = element(by.css('input[placeholder="hex color code"]'));
        this.logoHyperlinkInput = element(by.css('input[placeholder="Redirect URL"]'));
        this.logoTooltipInput = element(by.css('input[placeholder="Tooltip text"]'));
        this.positionStart = element.all(by.css('mat-radio-button[value="start"]')).first();
        this.positionEnd = element.all(by.css('mat-radio-button[value="end"]')).first();
        this.sideBarPositionRight = element(by.css('mat-sidenav.mat-drawer.mat-sidenav.mat-drawer-end'));
        this.sideBarPositionLeft = element(by.css('mat-sidenav.mat-drawer.mat-sidenav'));
    }
    /**
     * @return {?}
     */
    HeaderPage.prototype.checkShowMenuCheckBoxIsDisplayed = /**
     * @return {?}
     */
    function () {
        return BrowserVisibility.waitUntilElementIsVisible(this.checkBox);
    };
    /**
     * @return {?}
     */
    HeaderPage.prototype.checkChooseHeaderColourIsDisplayed = /**
     * @return {?}
     */
    function () {
        return BrowserVisibility.waitUntilElementIsVisible(this.headerColor);
    };
    /**
     * @return {?}
     */
    HeaderPage.prototype.checkChangeTitleIsDisplayed = /**
     * @return {?}
     */
    function () {
        return BrowserVisibility.waitUntilElementIsVisible(this.titleInput);
    };
    /**
     * @return {?}
     */
    HeaderPage.prototype.checkChangeUrlPathIsDisplayed = /**
     * @return {?}
     */
    function () {
        return BrowserVisibility.waitUntilElementIsVisible(this.iconInput);
    };
    /**
     * @return {?}
     */
    HeaderPage.prototype.clickShowMenuButton = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var checkBox = element.all(by.css('mat-checkbox'));
        BrowserVisibility.waitUntilElementIsVisible(checkBox);
        return checkBox.get(0).click();
    };
    /**
     * @param {?} color
     * @return {?}
     */
    HeaderPage.prototype.changeHeaderColor = /**
     * @param {?} color
     * @return {?}
     */
    function (color) {
        /** @type {?} */
        var headerColor = element(by.css('option[value="' + color + '"]'));
        return headerColor.click();
    };
    /**
     * @param {?} name
     * @return {?}
     */
    HeaderPage.prototype.checkAppTitle = /**
     * @param {?} name
     * @return {?}
     */
    function (name) {
        /** @type {?} */
        var title = element(by.cssContainingText('.adf-app-title', name));
        return BrowserVisibility.waitUntilElementIsVisible(title);
    };
    /**
     * @param {?} title
     * @return {?}
     */
    HeaderPage.prototype.addTitle = /**
     * @param {?} title
     * @return {?}
     */
    function (title) {
        BrowserVisibility.waitUntilElementIsVisible(this.titleInput);
        this.titleInput.click();
        this.titleInput.sendKeys(title);
        this.titleInput.sendKeys(protractor.Key.ENTER);
    };
    /**
     * @param {?} url
     * @return {?}
     */
    HeaderPage.prototype.checkIconIsDisplayed = /**
     * @param {?} url
     * @return {?}
     */
    function (url) {
        /** @type {?} */
        var icon = element(by.css('img[src="' + url + '"]'));
        BrowserVisibility.waitUntilElementIsVisible(icon);
    };
    /**
     * @param {?} url
     * @return {?}
     */
    HeaderPage.prototype.addIcon = /**
     * @param {?} url
     * @return {?}
     */
    function (url) {
        BrowserVisibility.waitUntilElementIsVisible(this.iconInput);
        this.iconInput.click();
        this.iconInput.sendKeys(url);
        this.iconInput.sendKeys(protractor.Key.ENTER);
    };
    /**
     * @return {?}
     */
    HeaderPage.prototype.checkHexColorInputIsDisplayed = /**
     * @return {?}
     */
    function () {
        return BrowserVisibility.waitUntilElementIsVisible(this.hexColorInput);
    };
    /**
     * @return {?}
     */
    HeaderPage.prototype.checkLogoHyperlinkInputIsDisplayed = /**
     * @return {?}
     */
    function () {
        return BrowserVisibility.waitUntilElementIsVisible(this.logoHyperlinkInput);
    };
    /**
     * @return {?}
     */
    HeaderPage.prototype.checkLogoTooltipInputIsDisplayed = /**
     * @return {?}
     */
    function () {
        return BrowserVisibility.waitUntilElementIsVisible(this.logoTooltipInput);
    };
    /**
     * @param {?} hexCode
     * @return {?}
     */
    HeaderPage.prototype.addHexCodeColor = /**
     * @param {?} hexCode
     * @return {?}
     */
    function (hexCode) {
        BrowserVisibility.waitUntilElementIsVisible(this.hexColorInput);
        this.hexColorInput.click();
        this.hexColorInput.sendKeys(hexCode);
        return this.hexColorInput.sendKeys(protractor.Key.ENTER);
    };
    /**
     * @param {?} hyperlink
     * @return {?}
     */
    HeaderPage.prototype.addLogoHyperlink = /**
     * @param {?} hyperlink
     * @return {?}
     */
    function (hyperlink) {
        BrowserVisibility.waitUntilElementIsVisible(this.logoHyperlinkInput);
        BrowserVisibility.waitUntilElementIsClickable(this.logoHyperlinkInput);
        this.logoHyperlinkInput.click();
        this.logoHyperlinkInput.sendKeys(hyperlink);
        return this.logoHyperlinkInput.sendKeys(protractor.Key.ENTER);
    };
    /**
     * @param {?} tooltip
     * @return {?}
     */
    HeaderPage.prototype.addLogoTooltip = /**
     * @param {?} tooltip
     * @return {?}
     */
    function (tooltip) {
        BrowserVisibility.waitUntilElementIsVisible(this.logoTooltipInput);
        this.logoTooltipInput.click();
        this.logoTooltipInput.sendKeys(tooltip);
        return this.logoTooltipInput.sendKeys(protractor.Key.ENTER);
    };
    /**
     * @return {?}
     */
    HeaderPage.prototype.sideBarPositionStart = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.positionStart);
        return this.positionStart.click();
    };
    /**
     * @return {?}
     */
    HeaderPage.prototype.sideBarPositionEnd = /**
     * @return {?}
     */
    function () {
        BrowserVisibility.waitUntilElementIsVisible(this.positionEnd);
        return this.positionEnd.click();
    };
    /**
     * @return {?}
     */
    HeaderPage.prototype.checkSidebarPositionStart = /**
     * @return {?}
     */
    function () {
        return BrowserVisibility.waitUntilElementIsVisible(this.sideBarPositionLeft);
    };
    /**
     * @return {?}
     */
    HeaderPage.prototype.checkSidebarPositionEnd = /**
     * @return {?}
     */
    function () {
        return BrowserVisibility.waitUntilElementIsVisible(this.sideBarPositionRight);
    };
    return HeaderPage;
}());
export { HeaderPage };
if (false) {
    /** @type {?} */
    HeaderPage.prototype.checkBox;
    /** @type {?} */
    HeaderPage.prototype.headerColor;
    /** @type {?} */
    HeaderPage.prototype.titleInput;
    /** @type {?} */
    HeaderPage.prototype.iconInput;
    /** @type {?} */
    HeaderPage.prototype.hexColorInput;
    /** @type {?} */
    HeaderPage.prototype.logoHyperlinkInput;
    /** @type {?} */
    HeaderPage.prototype.logoTooltipInput;
    /** @type {?} */
    HeaderPage.prototype.positionStart;
    /** @type {?} */
    HeaderPage.prototype.positionEnd;
    /** @type {?} */
    HeaderPage.prototype.sideBarPositionRight;
    /** @type {?} */
    HeaderPage.prototype.sideBarPositionLeft;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVhZGVyLnBhZ2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AYWxmcmVzY28vYWRmLXRlc3RpbmcvIiwic291cmNlcyI6WyJsaWIvY29yZS9wYWdlcy9oZWFkZXIucGFnZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWlCQSxPQUFPLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxVQUFVLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDckQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFFaEU7SUFBQTtRQUVJLGFBQVEsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDLGlCQUFpQixDQUFDLHFCQUFxQixFQUFFLGtCQUFrQixDQUFDLENBQUMsQ0FBQztRQUNwRixnQkFBVyxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLHlCQUF5QixDQUFDLENBQUMsQ0FBQztRQUN6RCxlQUFVLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMscUJBQXFCLENBQUMsQ0FBQyxDQUFDO1FBQ3BELGNBQVMsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQywrQkFBK0IsQ0FBQyxDQUFDLENBQUM7UUFDN0Qsa0JBQWEsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxxQ0FBcUMsQ0FBQyxDQUFDLENBQUM7UUFDdkUsdUJBQWtCLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsbUNBQW1DLENBQUMsQ0FBQyxDQUFDO1FBQzFFLHFCQUFnQixHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLG1DQUFtQyxDQUFDLENBQUMsQ0FBQztRQUN4RSxrQkFBYSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDL0UsZ0JBQVcsR0FBRyxPQUFPLENBQUMs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SUFDL0UsaUNBQTJFOztJQUMzRSwwQ0FBNEY7O0lBQzVGLHlDQUE0RSIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IGVsZW1lbnQsIGJ5LCBwcm90cmFjdG9yIH0gZnJvbSAncHJvdHJhY3Rvcic7XG5pbXBvcnQgeyBCcm93c2VyVmlzaWJpbGl0eSB9IGZyb20gJy4uL3V0aWxzL2Jyb3dzZXItdmlzaWJpbGl0eSc7XG5cbmV4cG9ydCBjbGFzcyBIZWFkZXJQYWdlIHtcblxuICAgIGNoZWNrQm94ID0gZWxlbWVudChieS5jc3NDb250YWluaW5nVGV4dCgnLm1hdC1jaGVja2JveC1sYWJlbCcsICdTaG93IG1lbnUgYnV0dG9uJykpO1xuICAgIGhlYWRlckNvbG9yID0gZWxlbWVudChieS5jc3MoJ29wdGlvblt2YWx1ZT1cInByaW1hcnlcIl0nKSk7XG4gICAgdGl0bGVJbnB1dCA9IGVsZW1lbnQoYnkuY3NzKCdpbnB1dFtuYW1lPVwidGl0bGVcIl0nKSk7XG4gICAgaWNvbklucHV0ID0gZWxlbWVudChieS5jc3MoJ2lucHV0W3BsYWNlaG9sZGVyPVwiVVJMIHBhdGhcIl0nKSk7XG4gICAgaGV4Q29sb3JJbnB1dCA9IGVsZW1lbnQoYnkuY3NzKCdpbnB1dFtwbGFjZWhvbGRlcj1cImhleCBjb2xvciBjb2RlXCJdJykpO1xuICAgIGxvZ29IeXBlcmxpbmtJbnB1dCA9IGVsZW1lbnQoYnkuY3NzKCdpbnB1dFtwbGFjZWhvbGRlcj1cIlJlZGlyZWN0IFVSTFwiXScpKTtcbiAgICBsb2dvVG9vbHRpcElucHV0ID0gZWxlbWVudChieS5jc3MoJ2lucHV0W3BsYWNlaG9sZGVyPVwiVG9vbHRpcCB0ZXh0XCJdJykpO1xuICAgIHBvc2l0aW9uU3RhcnQgPSBlbGVtZW50LmFsbChieS5jc3MoJ21hdC1yYWRpby1idXR0b25bdmFsdWU9XCJzdGFydFwiXScpKS5maXJzdCgpO1xuICAgIHBvc2l0aW9uRW5kID0gZWxlbWVudC5hbGwoYnkuY3NzKCdtYXQtcmFkaW8tYnV0dG9uW3ZhbHVlPVwiZW5kXCJdJykpLmZpcnN0KCk7XG4gICAgc2lkZUJhclBvc2l0aW9uUmlnaHQgPSBlbGVtZW50KGJ5LmNzcygnbWF0LXNpZGVuYXYubWF0LWRyYXdlci5tYXQtc2lkZW5hdi5tYXQtZHJhd2VyLWVuZCcpKTtcbiAgICBzaWRlQmFyUG9zaXRpb25MZWZ0ID0gZWxlbWVudChieS5jc3MoJ21hdC1zaWRlbmF2Lm1hdC1kcmF3ZXIubWF0LXNpZGVuYXYnKSk7XG5cbiAgICBjaGVja1Nob3dNZW51Q2hlY2tCb3hJc0Rpc3BsYXllZCgpIHtcbiAgICAgICAgcmV0dXJuIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5jaGVja0JveCk7XG4gICAgfVxuXG4gICAgY2hlY2tDaG9vc2VIZWFkZXJDb2xvdXJJc0Rpc3BsYXllZCgpIHtcbiAgICAgICAgcmV0dXJuIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5oZWFkZXJDb2xvcik7XG4gICAgfVxuXG4gICAgY2hlY2tDaGFuZ2VUaXRsZUlzRGlzcGxheWVkKCkge1xuICAgICAgICByZXR1cm4gQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLnRpdGxlSW5wdXQpO1xuICAgIH1cblxuICAgIGNoZWNrQ2hhbmdlVXJsUGF0aElzRGlzcGxheWVkKCkge1xuICAgICAgICByZXR1cm4gQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLmljb25JbnB1dCk7XG4gICAgfVxuXG4gICAgY2xpY2tTaG93TWVudUJ1dHRvbigpIHtcbiAgICAgICAgY29uc3QgY2hlY2tCb3ggPSBlbGVtZW50LmFsbChieS5jc3MoJ21hdC1jaGVja2JveCcpKTtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZShjaGVja0JveCk7XG4gICAgICAgIHJldHVybiBjaGVja0JveC5nZXQoMCkuY2xpY2soKTtcbiAgICB9XG5cbiAgICBjaGFuZ2VIZWFkZXJDb2xvcihjb2xvcikge1xuICAgICAgICBjb25zdCBoZWFkZXJDb2xvciA9IGVsZW1lbnQoYnkuY3NzKCdvcHRpb25bdmFsdWU9XCInICsgY29sb3IgKyAnXCJdJykpO1xuICAgICAgICByZXR1cm4gaGVhZGVyQ29sb3IuY2xpY2soKTtcbiAgICB9XG5cbiAgICBjaGVja0FwcFRpdGxlKG5hbWUpIHtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBlbGVtZW50KGJ5LmNzc0NvbnRhaW5pbmdUZXh0KCcuYWRmLWFwcC10aXRsZScsIG5hbWUpKTtcbiAgICAgICAgcmV0dXJuIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGl0bGUpO1xuICAgIH1cblxuICAgIGFkZFRpdGxlKHRpdGxlKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy50aXRsZUlucHV0KTtcbiAgICAgICAgdGhpcy50aXRsZUlucHV0LmNsaWNrKCk7XG4gICAgICAgIHRoaXMudGl0bGVJbnB1dC5zZW5kS2V5cyh0aXRsZSk7XG4gICAgICAgIHRoaXMudGl0bGVJbnB1dC5zZW5kS2V5cyhwcm90cmFjdG9yLktleS5FTlRFUik7XG4gICAgfVxuXG4gICAgY2hlY2tJY29uSXNEaXNwbGF5ZWQodXJsKSB7XG4gICAgICAgIGNvbnN0IGljb24gPSBlbGVtZW50KGJ5LmNzcygnaW1nW3NyYz1cIicgKyB1cmwgKyAnXCJdJykpO1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKGljb24pO1xuICAgIH1cblxuICAgIGFkZEljb24odXJsKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5pY29uSW5wdXQpO1xuICAgICAgICB0aGlzLmljb25JbnB1dC5jbGljaygpO1xuICAgICAgICB0aGlzLmljb25JbnB1dC5zZW5kS2V5cyh1cmwpO1xuICAgICAgICB0aGlzLmljb25JbnB1dC5zZW5kS2V5cyhwcm90cmFjdG9yLktleS5FTlRFUik7XG4gICAgfVxuXG4gICAgY2hlY2tIZXhDb2xvcklucHV0SXNEaXNwbGF5ZWQoKSB7XG4gICAgICAgIHJldHVybiBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMuaGV4Q29sb3JJbnB1dCk7XG4gICAgfVxuXG4gICAgY2hlY2tMb2dvSHlwZXJsaW5rSW5wdXRJc0Rpc3BsYXllZCgpIHtcbiAgICAgICAgcmV0dXJuIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5sb2dvSHlwZXJsaW5rSW5wdXQpO1xuICAgIH1cblxuICAgIGNoZWNrTG9nb1Rvb2x0aXBJbnB1dElzRGlzcGxheWVkKCkge1xuICAgICAgICByZXR1cm4gQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLmxvZ29Ub29sdGlwSW5wdXQpO1xuICAgIH1cblxuICAgIGFkZEhleENvZGVDb2xvcihoZXhDb2RlKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5oZXhDb2xvcklucHV0KTtcbiAgICAgICAgdGhpcy5oZXhDb2xvcklucHV0LmNsaWNrKCk7XG4gICAgICAgIHRoaXMuaGV4Q29sb3JJbnB1dC5zZW5kS2V5cyhoZXhDb2RlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGV4Q29sb3JJbnB1dC5zZW5kS2V5cyhwcm90cmFjdG9yLktleS5FTlRFUik7XG4gICAgfVxuXG4gICAgYWRkTG9nb0h5cGVybGluayhoeXBlcmxpbmspIHtcbiAgICAgICAgQnJvd3NlclZpc2liaWxpdHkud2FpdFVudGlsRWxlbWVudElzVmlzaWJsZSh0aGlzLmxvZ29IeXBlcmxpbmtJbnB1dCk7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc0NsaWNrYWJsZSh0aGlzLmxvZ29IeXBlcmxpbmtJbnB1dCk7XG4gICAgICAgIHRoaXMubG9nb0h5cGVybGlua0lucHV0LmNsaWNrKCk7XG4gICAgICAgIHRoaXMubG9nb0h5cGVybGlua0lucHV0LnNlbmRLZXlzKGh5cGVybGluayk7XG4gICAgICAgIHJldHVybiB0aGlzLmxvZ29IeXBlcmxpbmtJbnB1dC5zZW5kS2V5cyhwcm90cmFjdG9yLktleS5FTlRFUik7XG4gICAgfVxuXG4gICAgYWRkTG9nb1Rvb2x0aXAodG9vbHRpcCkge1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMubG9nb1Rvb2x0aXBJbnB1dCk7XG4gICAgICAgIHRoaXMubG9nb1Rvb2x0aXBJbnB1dC5jbGljaygpO1xuICAgICAgICB0aGlzLmxvZ29Ub29sdGlwSW5wdXQuc2VuZEtleXModG9vbHRpcCk7XG4gICAgICAgIHJldHVybiB0aGlzLmxvZ29Ub29sdGlwSW5wdXQuc2VuZEtleXMocHJvdHJhY3Rvci5LZXkuRU5URVIpO1xuICAgIH1cblxuICAgIHNpZGVCYXJQb3NpdGlvblN0YXJ0KCkge1xuICAgICAgICBCcm93c2VyVmlzaWJpbGl0eS53YWl0VW50aWxFbGVtZW50SXNWaXNpYmxlKHRoaXMucG9zaXRpb25TdGFydCk7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uU3RhcnQuY2xpY2soKTtcbiAgICB9XG5cbiAgICBzaWRlQmFyUG9zaXRpb25FbmQoKSB7XG4gICAgICAgIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5wb3NpdGlvbkVuZCk7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uRW5kLmNsaWNrKCk7XG4gICAgfVxuXG4gICAgY2hlY2tTaWRlYmFyUG9zaXRpb25TdGFydCgpIHtcbiAgICAgICAgcmV0dXJuIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5zaWRlQmFyUG9zaXRpb25MZWZ0KTtcbiAgICB9XG5cbiAgICBjaGVja1NpZGViYXJQb3NpdGlvbkVuZCgpIHtcbiAgICAgICAgcmV0dXJuIEJyb3dzZXJWaXNpYmlsaXR5LndhaXRVbnRpbEVsZW1lbnRJc1Zpc2libGUodGhpcy5zaWRlQmFyUG9zaXRpb25SaWdodCk7XG4gICAgfVxuXG59XG4iXX0=